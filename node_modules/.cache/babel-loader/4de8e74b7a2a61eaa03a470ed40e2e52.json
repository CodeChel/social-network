{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\WOW\\\\Documents\\\\GitHub\\\\react\\\\react-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"C:\\\\Users\\\\WOW\\\\Documents\\\\GitHub\\\\react\\\\react-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"C:\\\\Users\\\\WOW\\\\Documents\\\\GitHub\\\\react\\\\react-test\\\\src\\\\components\\\\Friends\\\\Users.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport Paginator from '../common/Paginator/Paginator';\nimport User from './User';\nimport styles from './Friends.module.css';\nimport PopUp from '../common/PopUp/popUp';\nimport PopUpMessage from './PopUpMessage';\n\nconst UsersFunc = (_ref) => {\n  let totalUsersCount = _ref.totalUsersCount,\n      pageSize = _ref.pageSize,\n      currentPage = _ref.currentPage,\n      onPageChanged = _ref.onPageChanged,\n      users = _ref.users,\n      isMessageMode = _ref.isMessageMode,\n      messageId = _ref.messageId,\n      props = _objectWithoutProperties(_ref, [\"totalUsersCount\", \"pageSize\", \"currentPage\", \"onPageChanged\", \"users\", \"isMessageMode\", \"messageId\"]);\n\n  const getMoreUsers = currentPage => {\n    changePage(currentPage);\n    const list = document.getElementById('user-list');\n\n    if (window.scrollY + window.innerHeight > list.clientHeight + list.offsetTop - 100 && !props.isFetching) {\n      props.getMoreUsers(currentPage, pageSize);\n    }\n  };\n\n  const _useState = useState(1),\n        _useState2 = _slicedToArray(_useState, 2),\n        page = _useState2[0],\n        changePage = _useState2[1];\n\n  useEffect(() => {\n    window.addEventListener('scroll', getMoreUsers.bind(null, page));\n    return () => {\n      window.removeEventListener('scroll', getMoreUsers.bind(null, page));\n    };\n  }, []);\n  return React.createElement(\"div\", {\n    className: styles.mainContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(Paginator, {\n    itemsTotalCount: totalUsersCount,\n    pageSize: pageSize,\n    currentPage: currentPage,\n    onPageChanged: onPageChanged,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: styles.container,\n    id: \"user-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, users.map(u => React.createElement(User, {\n    setMessageMode: props.setMessageMode,\n    user: u,\n    key: u.id,\n    followingInProgress: props.followingInProgress,\n    unfollow: props.unFollowThunk,\n    follow: props.followThunk,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }))), isMessageMode ? React.createElement(PopUp, {\n    user: users.filter(u => u.id === messageId)[0],\n    Component: PopUpMessage,\n    closePopup: () => {\n      props.setMessageMode(false, null);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }) : null);\n};\n\nexport default UsersFunc;","map":{"version":3,"sources":["C:\\Users\\WOW\\Documents\\GitHub\\react\\react-test\\src\\components\\Friends\\Users.jsx"],"names":["React","useEffect","useState","Paginator","User","styles","PopUp","PopUpMessage","UsersFunc","totalUsersCount","pageSize","currentPage","onPageChanged","users","isMessageMode","messageId","props","getMoreUsers","changePage","list","document","getElementById","window","scrollY","innerHeight","clientHeight","offsetTop","isFetching","page","addEventListener","bind","removeEventListener","mainContainer","container","map","u","setMessageMode","id","followingInProgress","unFollowThunk","followThunk","filter"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\nimport styles from './Friends.module.css';\r\nimport PopUp from '../common/PopUp/popUp';\r\nimport PopUpMessage from './PopUpMessage';\r\n\r\nconst UsersFunc = ({ totalUsersCount, pageSize, currentPage, onPageChanged, users, isMessageMode, messageId, ...props }) => {\r\n    const getMoreUsers = (currentPage) => {\r\n            changePage(currentPage);\r\n            const list = document.getElementById('user-list');\r\n            if (window.scrollY + window.innerHeight > list.clientHeight + list.offsetTop -100 && !props.isFetching) {\r\n                props.getMoreUsers(currentPage , pageSize);\r\n                \r\n            }\r\n\r\n    }\r\n    const [ page, changePage] = useState(1)\r\n    useEffect(() => {\r\n        \r\n        \r\n        window.addEventListener('scroll', getMoreUsers.bind(null, page));\r\n        return () => {\r\n          window.removeEventListener('scroll', getMoreUsers.bind(null, page));\r\n        }\r\n      }, [])\r\n    return <div className={styles.mainContainer}>\r\n        <Paginator itemsTotalCount={totalUsersCount} pageSize={pageSize} currentPage={currentPage} onPageChanged={onPageChanged} />\r\n        <div className={styles.container}  id='user-list'>\r\n            {\r\n                users.map(u => <User setMessageMode={props.setMessageMode} user={u} key={u.id} followingInProgress={props.followingInProgress} unfollow={props.unFollowThunk} follow={props.followThunk} />)\r\n            }\r\n        </div>\r\n        {\r\n            \r\n            isMessageMode\r\n            ?  <PopUp  user={users.filter( u => u.id === messageId)[0] }  Component={PopUpMessage} closePopup={ ()=>{props.setMessageMode(false, null)}}/>\r\n            : null\r\n        }\r\n    </div>\r\n}\r\n\r\nexport default UsersFunc;"]},"metadata":{},"sourceType":"module"}