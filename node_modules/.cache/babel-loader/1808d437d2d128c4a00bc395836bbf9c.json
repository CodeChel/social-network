{"ast":null,"code":"import _objectWithoutProperties from\"C:\\\\Users\\\\WOW\\\\Documents\\\\GitHub\\\\react\\\\react-test\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";import React,{useEffect}from'react';import User from'./User';import styles from'./Friends.module.css';import PopUp from'../common/PopUp/popUp';import PopUpMessage from'../common/PopUp/PopUpMessage';var Users=function Users(_ref){var totalUsersCount=_ref.totalUsersCount,pageSize=_ref.pageSize,currentPage=_ref.currentPage,onPageChanged=_ref.onPageChanged,users=_ref.users,isMessageMode=_ref.isMessageMode,messageId=_ref.messageId,props=_objectWithoutProperties(_ref,[\"totalUsersCount\",\"pageSize\",\"currentPage\",\"onPageChanged\",\"users\",\"isMessageMode\",\"messageId\"]);var getMoreUsers=function getMoreUsers(){var list=document.getElementById('user-list');if(list&&window.scrollY+window.innerHeight>list.clientHeight+list.offsetTop-100&&!props.isFetching&&Math.ceil(totalUsersCount/pageSize)>=currentPage+1){props.getMoreUsers(currentPage+1,pageSize);}};useEffect(function(){window.addEventListener('scroll',getMoreUsers);return function(){window.removeEventListener('scroll',getMoreUsers);};});return React.createElement(\"div\",{className:styles.mainContainer},React.createElement(\"div\",{className:styles.container,id:\"user-list\"},users.map(function(u){return React.createElement(User,{setMessageMode:props.setMessageMode,user:u,key:u.id,followingInProgress:props.followingInProgress,unfollow:props.unFollowThunk,follow:props.followThunk});})),isMessageMode?React.createElement(PopUp,{user:users.filter(function(u){return u.id===messageId;})[0],Component:PopUpMessage,closePopup:function closePopup(){props.setMessageMode(false,null);}}):null);};export default Users;","map":{"version":3,"sources":["C:/Users/WOW/Documents/GitHub/react/react-test/src/components/Friends/Users.jsx"],"names":["React","useEffect","User","styles","PopUp","PopUpMessage","Users","totalUsersCount","pageSize","currentPage","onPageChanged","users","isMessageMode","messageId","props","getMoreUsers","list","document","getElementById","window","scrollY","innerHeight","clientHeight","offsetTop","isFetching","Math","ceil","addEventListener","removeEventListener","mainContainer","container","map","u","setMessageMode","id","followingInProgress","unFollowThunk","followThunk","filter"],"mappings":"oMAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,8BAAzB,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAA0G,IAAvGC,CAAAA,eAAuG,MAAvGA,eAAuG,CAAtFC,QAAsF,MAAtFA,QAAsF,CAA5EC,WAA4E,MAA5EA,WAA4E,CAA/DC,aAA+D,MAA/DA,aAA+D,CAAhDC,KAAgD,MAAhDA,KAAgD,CAAzCC,aAAyC,MAAzCA,aAAyC,CAA1BC,SAA0B,MAA1BA,SAA0B,CAAZC,KAAY,iIACpH,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CAEvB,GAAMC,CAAAA,IAAI,CAAGC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAb,CACA,GAAIF,IAAI,EAAIG,MAAM,CAACC,OAAP,CAAiBD,MAAM,CAACE,WAAxB,CAAsCL,IAAI,CAACM,YAAL,CAAoBN,IAAI,CAACO,SAAzB,CAAqC,GAAnF,EACG,CAACT,KAAK,CAACU,UADV,EACwBC,IAAI,CAACC,IAAL,CAAUnB,eAAe,CAAGC,QAA5B,GAAyCC,WAAW,CAAG,CADnF,CACsF,CAClFK,KAAK,CAACC,YAAN,CAAmBN,WAAW,CAAG,CAAjC,CAAoCD,QAApC,EACH,CAEJ,CARD,CAUAP,SAAS,CAAC,UAAM,CAGZkB,MAAM,CAACQ,gBAAP,CAAwB,QAAxB,CAAkCZ,YAAlC,EACA,MAAO,WAAM,CACTI,MAAM,CAACS,mBAAP,CAA2B,QAA3B,CAAqCb,YAArC,EACH,CAFD,CAGH,CAPQ,CAAT,CAQA,MAAO,4BAAK,SAAS,CAAEZ,MAAM,CAAC0B,aAAvB,EACH,2BAAK,SAAS,CAAE1B,MAAM,CAAC2B,SAAvB,CAAkC,EAAE,CAAC,WAArC,EAEQnB,KAAK,CAACoB,GAAN,CAAU,SAAAC,CAAC,QAAI,qBAAC,IAAD,EAAM,cAAc,CAAElB,KAAK,CAACmB,cAA5B,CAA4C,IAAI,CAAED,CAAlD,CAAqD,GAAG,CAAEA,CAAC,CAACE,EAA5D,CAAgE,mBAAmB,CAAEpB,KAAK,CAACqB,mBAA3F,CACX,QAAQ,CAAErB,KAAK,CAACsB,aADL,CACoB,MAAM,CAAEtB,KAAK,CAACuB,WADlC,EAAJ,EAAX,CAFR,CADG,CASCzB,aAAa,CACP,oBAAC,KAAD,EAAO,IAAI,CAAED,KAAK,CAAC2B,MAAN,CAAa,SAAAN,CAAC,QAAIA,CAAAA,CAAC,CAACE,EAAF,GAASrB,SAAb,EAAd,EAAsC,CAAtC,CAAb,CAAuD,SAAS,CAAER,YAAlE,CAAgF,UAAU,CAAE,qBAAM,CAAES,KAAK,CAACmB,cAAN,CAAqB,KAArB,CAA4B,IAA5B,EAAmC,CAAvI,EADO,CAEP,IAXP,CAAP,CAcH,CAjCD,CAmCA,cAAe3B,CAAAA,KAAf","sourcesContent":["import React, { useEffect } from 'react'\r\n\r\nimport User from './User'\r\nimport styles from './Friends.module.css'\r\nimport PopUp from '../common/PopUp/popUp'\r\nimport PopUpMessage from '../common/PopUp/PopUpMessage'\r\n\r\nconst Users = ({ totalUsersCount, pageSize, currentPage, onPageChanged, users, isMessageMode, messageId, ...props }) => {\r\n    const getMoreUsers = () => {\r\n\r\n        const list = document.getElementById('user-list')\r\n        if (list && window.scrollY + window.innerHeight > list.clientHeight + list.offsetTop - 100\r\n            && !props.isFetching && Math.ceil(totalUsersCount / pageSize) >= currentPage + 1) {\r\n            props.getMoreUsers(currentPage + 1, pageSize)\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n\r\n        window.addEventListener('scroll', getMoreUsers)\r\n        return () => {\r\n            window.removeEventListener('scroll', getMoreUsers)\r\n        }\r\n    })\r\n    return <div className={styles.mainContainer}>\r\n        <div className={styles.container} id='user-list'>\r\n            {\r\n                users.map(u => <User setMessageMode={props.setMessageMode} user={u} key={u.id} followingInProgress={props.followingInProgress} \r\n                    unfollow={props.unFollowThunk} follow={props.followThunk} />)\r\n            }\r\n        </div>\r\n        {\r\n\r\n            isMessageMode\r\n                ? <PopUp user={users.filter(u => u.id === messageId)[0]} Component={PopUpMessage} closePopup={() => { props.setMessageMode(false, null) }} />\r\n                : null\r\n        }\r\n    </div>\r\n}\r\n\r\nexport default Users"]},"metadata":{},"sourceType":"module"}