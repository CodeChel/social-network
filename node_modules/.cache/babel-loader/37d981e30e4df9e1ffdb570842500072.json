{"ast":null,"code":"import cnb from 'cnbuilder';\nimport { oneOf, func, bool, number, string, object } from 'prop-types';\nimport { createElement, Component, createContext } from 'react';\nimport { zoomLevel } from 'zoom-level';\nimport { DraggableCore } from 'react-draggable';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\n\nfunction __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar doc = (typeof document === \"undefined\" ? \"undefined\" : _typeof(document)) === \"object\" ? document : null;\n\nvar isUndef = function isUndef(v) {\n  return typeof v === \"undefined\";\n};\n\nvar isFun = function isFun(v) {\n  return typeof v === \"function\";\n};\n\nvar isNum = function isNum(v) {\n  return typeof v === \"number\";\n};\n/**\r\n * @description Will return renderer result if presented, div element otherwise.\r\n * If renderer is presented it'll receive `elementRef` function which should be used as HTMLElement's ref.\r\n *\r\n * @param props {ElementPropsWithElementRefAndRenderer}\r\n * @param elementRef {ElementRef}\r\n */\n\n\nvar renderDivWithRenderer = function renderDivWithRenderer(props, elementRef) {\n  if (isFun(props.renderer)) {\n    props.elementRef = elementRef;\n    var renderer = props.renderer;\n    delete props.renderer;\n    return renderer(props);\n  }\n\n  delete props.elementRef;\n  return createElement(\"div\", _assign({}, props, {\n    ref: elementRef\n  }));\n};\n\nvar getInnerSize = function getInnerSize(el, dimension, padding1, padding2) {\n  var styles = getComputedStyle(el);\n\n  if (styles.boxSizing === \"border-box\") {\n    return Math.max(0, (parseFloat(styles[dimension]) || 0) - (parseFloat(styles[padding1]) || 0) - (parseFloat(styles[padding2]) || 0));\n  }\n\n  return parseFloat(styles[dimension]) || 0;\n};\n/**\r\n * @description Return element's height without padding\r\n */\n\n\nvar getInnerHeight = function getInnerHeight(el) {\n  return getInnerSize(el, \"height\", \"paddingTop\", \"paddingBottom\");\n};\n/**\r\n * @description Return element's width without padding\r\n */\n\n\nvar getInnerWidth = function getInnerWidth(el) {\n  return getInnerSize(el, \"width\", \"paddingLeft\", \"paddingRight\");\n};\n/**\r\n * @description Return unique UUID v4\r\n */\n\n\nvar uuid = function uuid() {\n  var uuid = \"\";\n\n  for (var i = 0; i < 32; i++) {\n    if (i === 8 || i === 20) {\n      uuid += \"-\" + (Math.random() * 16 | 0).toString(16);\n    } else if (i === 12) {\n      uuid += \"-4\";\n    } else if (i === 16) {\n      uuid += \"-\" + (Math.random() * 16 | 0 & 3 | 8).toString(16);\n    } else {\n      uuid += (Math.random() * 16 | 0).toString(16);\n    }\n  }\n\n  return uuid;\n};\n/**\r\n * @description Calculate thumb size for given viewport and track parameters\r\n *\r\n * @param {number} contentSize - Scrollable content size\r\n * @param {number} viewportSize - Viewport size\r\n * @param {number} trackSize - Track size thumb can move\r\n * @param {number} minimalSize - Minimal thumb's size\r\n * @param {number} maximalSize - Maximal thumb's size\r\n */\n\n\nvar calcThumbSize = function calcThumbSize(contentSize, viewportSize, trackSize, minimalSize, maximalSize) {\n  if (viewportSize >= contentSize) {\n    return 0;\n  }\n\n  var thumbSize = viewportSize / contentSize * trackSize;\n  isNum(maximalSize) && (thumbSize = Math.min(maximalSize, thumbSize));\n  isNum(minimalSize) && (thumbSize = Math.max(minimalSize, thumbSize));\n  return thumbSize;\n};\n/**\r\n * @description Calculate thumb offset for given viewport, track and thumb parameters\r\n *\r\n * @param {number} contentSize - Scrollable content size\r\n * @param {number} viewportSize - Viewport size\r\n * @param {number} trackSize - Track size thumb can move\r\n * @param {number} thumbSize - Thumb size\r\n * @param {number} scroll - Scroll value to represent\r\n */\n\n\nvar calcThumbOffset = function calcThumbOffset(contentSize, viewportSize, trackSize, thumbSize, scroll) {\n  if (!scroll || !thumbSize || viewportSize >= contentSize) {\n    return 0;\n  }\n\n  return (trackSize - thumbSize) * scroll / (contentSize - viewportSize);\n};\n/**\r\n * @description Calculate scroll for given viewport, track and thumb parameters\r\n *\r\n * @param {number} contentSize - Scrollable content size\r\n * @param {number} viewportSize - Viewport size\r\n * @param {number} trackSize - Track size thumb can move\r\n * @param {number} thumbSize - Thumb size\r\n * @param {number} thumbOffset - Thumb's offset representing the scroll\r\n */\n\n\nvar calcScrollForThumbOffset = function calcScrollForThumbOffset(contentSize, viewportSize, trackSize, thumbSize, thumbOffset) {\n  if (!thumbOffset || !thumbSize || viewportSize >= contentSize) {\n    return 0;\n  }\n\n  return thumbOffset * (contentSize - viewportSize) / (trackSize - thumbSize);\n};\n/**\r\n * @description Returns scrollbar width specific for current environment. Can return undefined if DOM is not ready yet.\r\n */\n\n\nvar getScrollbarWidth = function getScrollbarWidth(force) {\n  if (force === void 0) {\n    force = false;\n  }\n\n  if (!doc) {\n    return getScrollbarWidth._cache = 0;\n  }\n\n  if (!force && !isUndef(getScrollbarWidth._cache)) {\n    return getScrollbarWidth._cache;\n  }\n\n  var el = doc.createElement(\"div\");\n  el.setAttribute(\"style\", \"position:absolute;width:100px;height:100px;top:-999px;left:-999px;overflow:scroll;\");\n  doc.body.appendChild(el);\n  /* istanbul ignore next */\n\n  if (el.clientWidth === 0) {\n    // Do not even cache this value because there is no calculations. Issue https://github.com/xobotyi/react-scrollbars-custom/issues/123\n    doc.body.removeChild(el);\n    return;\n  }\n\n  getScrollbarWidth._cache = 100 - el.clientWidth;\n  doc.body.removeChild(el);\n  return getScrollbarWidth._cache;\n};\n/**\r\n * @description Detect need of horizontal scroll reverse while RTL.\r\n */\n\n\nvar shouldReverseRtlScroll = function shouldReverseRtlScroll(force) {\n  if (force === void 0) {\n    force = false;\n  }\n\n  if (!force && !isUndef(shouldReverseRtlScroll._cache)) {\n    return shouldReverseRtlScroll._cache;\n  }\n\n  if (!doc) {\n    return shouldReverseRtlScroll._cache = false;\n  }\n\n  var el = doc.createElement(\"div\");\n  var child = doc.createElement(\"div\");\n  el.appendChild(child);\n  el.setAttribute(\"style\", \"position:absolute;width:100px;height:100px;top:-999px;left:-999px;overflow:scroll;direction:rtl\");\n  child.setAttribute(\"style\", \"width:1000px;height:1000px\");\n  doc.body.appendChild(el);\n  el.scrollLeft = -50;\n  shouldReverseRtlScroll._cache = el.scrollLeft === -50;\n  doc.body.removeChild(el);\n  return shouldReverseRtlScroll._cache;\n};\n\nvar Emittr =\n/** @class */\nfunction () {\n  function Emittr(maxHandlers) {\n    if (maxHandlers === void 0) {\n      maxHandlers = 10;\n    }\n\n    this.setMaxHandlers(maxHandlers);\n    this._handlers = Object.create(null);\n  }\n\n  Emittr._callEventHandlers = function (emitter, handlers, args) {\n    if (!handlers.length) {\n      return;\n    }\n\n    if (handlers.length === 1) {\n      Reflect.apply(handlers[0], emitter, args);\n      return;\n    }\n\n    handlers = __spreadArrays(handlers);\n    var idx;\n\n    for (idx = 0; idx < handlers.length; idx++) {\n      Reflect.apply(handlers[idx], emitter, args);\n    }\n  };\n\n  Emittr.prototype.setMaxHandlers = function (count) {\n    if (!isNum(count) || count <= 0) {\n      throw new TypeError(\"Expected maxHandlers to be a positive number, got '\" + count + \"' of type \" + _typeof(count));\n    }\n\n    this._maxHandlers = count;\n    return this;\n  };\n\n  Emittr.prototype.getMaxHandlers = function () {\n    return this._maxHandlers;\n  };\n\n  Emittr.prototype.emit = function (name) {\n    var args = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n\n    if (_typeof(this._handlers[name]) !== \"object\" || !Array.isArray(this._handlers[name])) {\n      return false;\n    }\n\n    Emittr._callEventHandlers(this, this._handlers[name], args);\n\n    return true;\n  };\n\n  Emittr.prototype.on = function (name, handler) {\n    Emittr._addHandler(this, name, handler);\n\n    return this;\n  };\n\n  Emittr.prototype.prependOn = function (name, handler) {\n    Emittr._addHandler(this, name, handler, true);\n\n    return this;\n  };\n\n  Emittr.prototype.once = function (name, handler) {\n    if (!isFun(handler)) {\n      throw new TypeError(\"Expected event handler to be a function, got \" + _typeof(handler));\n    }\n\n    Emittr._addHandler(this, name, this._wrapOnceHandler(name, handler));\n\n    return this;\n  };\n\n  Emittr.prototype.prependOnce = function (name, handler) {\n    if (!isFun(handler)) {\n      throw new TypeError(\"Expected event handler to be a function, got \" + _typeof(handler));\n    }\n\n    Emittr._addHandler(this, name, this._wrapOnceHandler(name, handler), true);\n\n    return this;\n  };\n\n  Emittr.prototype.off = function (name, handler) {\n    Emittr._removeHandler(this, name, handler);\n\n    return this;\n  };\n\n  Emittr.prototype.removeAllHandlers = function () {\n    var handlers = this._handlers;\n    this._handlers = Object.create(null);\n    var removeHandlers = handlers[\"removeHandler\"];\n    delete handlers[\"removeHandler\"];\n    var idx, eventName;\n\n    for (eventName in handlers) {\n      for (idx = handlers[eventName].length - 1; idx >= 0; idx--) {\n        Emittr._callEventHandlers(this, removeHandlers, [eventName, handlers[eventName][idx].handler || handlers[eventName][idx]]);\n      }\n    }\n\n    return this;\n  };\n\n  Emittr.prototype._wrapOnceHandler = function (name, handler) {\n    var onceState = {\n      fired: false,\n      handler: handler,\n      wrappedHandler: undefined,\n      emitter: this,\n      event: name\n    };\n\n    var wrappedHandler = Emittr._onceWrapper.bind(onceState);\n\n    onceState.wrappedHandler = wrappedHandler;\n    wrappedHandler.handler = handler;\n    wrappedHandler.event = name;\n    return wrappedHandler;\n  };\n\n  Emittr._addHandler = function (emitter, name, handler, prepend) {\n    if (prepend === void 0) {\n      prepend = false;\n    }\n\n    if (!isFun(handler)) {\n      throw new TypeError(\"Expected event handler to be a function, got \" + _typeof(handler));\n    }\n\n    emitter._handlers[name] = emitter._handlers[name] || [];\n    emitter.emit(\"addHandler\", name, handler);\n    prepend ? emitter._handlers[name].unshift(handler) : emitter._handlers[name].push(handler);\n    return emitter;\n  };\n\n  Emittr._onceWrapper = function _onceWrapper() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    if (!this.fired) {\n      this.fired = true;\n      this.emitter.off(this.event, this.wrappedHandler);\n      Reflect.apply(this.handler, this.emitter, args);\n    }\n  };\n\n  Emittr._removeHandler = function (emitter, name, handler) {\n    if (!isFun(handler)) {\n      throw new TypeError(\"Expected event handler to be a function, got \" + _typeof(handler));\n    }\n\n    if (isUndef(emitter._handlers[name]) || !emitter._handlers[name].length) {\n      return emitter;\n    }\n\n    var idx = -1;\n\n    if (emitter._handlers[name].length === 1) {\n      if (emitter._handlers[name][0] === handler || emitter._handlers[name][0].handler === handler) {\n        idx = 0;\n        handler = emitter._handlers[name][0].handler || emitter._handlers[name][0];\n      }\n    } else {\n      for (idx = emitter._handlers[name].length - 1; idx >= 0; idx--) {\n        if (emitter._handlers[name][idx] === handler || emitter._handlers[name][idx].handler === handler) {\n          handler = emitter._handlers[name][idx].handler || emitter._handlers[name][idx];\n          break;\n        }\n      }\n    }\n\n    if (idx === -1) {\n      return emitter;\n    }\n\n    idx === 0 ? emitter._handlers[name].shift() : emitter._handlers[name].splice(idx, 1);\n    emitter.emit(\"removeHandler\", name, handler);\n    return emitter;\n  };\n\n  return Emittr;\n}();\n\nvar RAFLoop =\n/** @class */\nfunction () {\n  function RAFLoop() {\n    var _this = this;\n    /**\r\n     * @description List of targets to update\r\n     */\n\n\n    this.targets = [];\n    /**\r\n     * @description ID of requested animation frame. Valuable only if loop is active and has items to iterate.\r\n     */\n\n    this.animationFrameID = 0;\n    /**\r\n     * @description Loop's state.\r\n     */\n\n    this._isActive = false;\n    /**\r\n     * @description Start the loop if it wasn't yet.\r\n     */\n\n    this.start = function () {\n      if (!_this._isActive && _this.targets.length) {\n        _this._isActive = true;\n        _this.animationFrameID && cancelAnimationFrame(_this.animationFrameID);\n        _this.animationFrameID = requestAnimationFrame(_this.rafCallback);\n      }\n\n      return _this;\n    };\n    /**\r\n     * @description Stop the loop if is was active.\r\n     */\n\n\n    this.stop = function () {\n      if (_this._isActive) {\n        _this._isActive = false;\n        _this.animationFrameID && cancelAnimationFrame(_this.animationFrameID);\n        _this.animationFrameID = 0;\n      }\n\n      return _this;\n    };\n    /**\r\n     * @description Add target to the iteration list if it's not there.\r\n     */\n\n\n    this.addTarget = function (target, silent) {\n      if (silent === void 0) {\n        silent = false;\n      }\n\n      if (_this.targets.indexOf(target) === -1) {\n        _this.targets.push(target);\n\n        _this.targets.length === 1 && !silent && _this.start();\n      }\n\n      return _this;\n    };\n    /**\r\n     * @description Remove target from iteration list if it was there.\r\n     */\n\n\n    this.removeTarget = function (target) {\n      var idx = _this.targets.indexOf(target);\n\n      if (idx !== -1) {\n        _this.targets.splice(idx, 1);\n\n        _this.targets.length === 0 && _this.stop();\n      }\n\n      return _this;\n    };\n    /**\r\n     * @description Callback that called each animation frame.\r\n     */\n\n\n    this.rafCallback = function () {\n      if (!_this._isActive) {\n        return 0;\n      }\n\n      for (var i = 0; i < _this.targets.length; i++) {\n        !_this.targets[i]._unmounted && _this.targets[i].update();\n      }\n\n      return _this.animationFrameID = requestAnimationFrame(_this.rafCallback);\n    };\n  }\n\n  Object.defineProperty(RAFLoop.prototype, \"isActive\", {\n    /**\r\n     * @description Loop's state.\r\n     */\n    get: function get() {\n      return this._isActive;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return RAFLoop;\n}();\n\nvar Loop = new RAFLoop();\nvar AXIS_DIRECTION;\n\n(function (AXIS_DIRECTION) {\n  AXIS_DIRECTION[\"X\"] = \"x\";\n  AXIS_DIRECTION[\"Y\"] = \"y\";\n})(AXIS_DIRECTION || (AXIS_DIRECTION = {}));\n\nvar AXIS_DIRECTION_PROP_TYPE = oneOf([AXIS_DIRECTION.X, AXIS_DIRECTION.Y]);\nvar TRACK_CLICK_BEHAVIOR;\n\n(function (TRACK_CLICK_BEHAVIOR) {\n  TRACK_CLICK_BEHAVIOR[\"JUMP\"] = \"jump\";\n  TRACK_CLICK_BEHAVIOR[\"STEP\"] = \"step\";\n})(TRACK_CLICK_BEHAVIOR || (TRACK_CLICK_BEHAVIOR = {}));\n\nvar TRACK_CLICK_BEHAVIOR_PROP_TYPE = oneOf([TRACK_CLICK_BEHAVIOR.JUMP, TRACK_CLICK_BEHAVIOR.STEP]);\n\nvar ScrollbarThumb =\n/** @class */\nfunction (_super) {\n  __extends(ScrollbarThumb, _super);\n\n  function ScrollbarThumb() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.initialOffsetX = 0;\n    _this.initialOffsetY = 0;\n    _this.lastDragData = {\n      x: 0,\n      y: 0,\n      deltaX: 0,\n      deltaY: 0,\n      lastX: 0,\n      lastY: 0\n    };\n    _this.element = null;\n\n    _this.handleOnDragStart = function (ev, data) {\n      if (!_this.element) {\n        _this.handleOnDragStop(ev, data);\n\n        return;\n      }\n\n      if (global.document) {\n        _this.prevUserSelect = global.document.body.style.userSelect;\n        global.document.body.style.userSelect = \"none\";\n        _this.prevOnSelectStart = global.document.onselectstart;\n        global.document.onselectstart = ScrollbarThumb.selectStartReplacer;\n      }\n\n      _this.props.onDragStart && _this.props.onDragStart(_this.lastDragData = {\n        x: data.x - _this.initialOffsetX,\n        y: data.y - _this.initialOffsetY,\n        lastX: data.lastX - _this.initialOffsetX,\n        lastY: data.lastY - _this.initialOffsetY,\n        deltaX: data.deltaX,\n        deltaY: data.deltaY\n      });\n\n      _this.element.classList.add(\"dragging\");\n    };\n\n    _this.handleOnDrag = function (ev, data) {\n      if (!_this.element) {\n        _this.handleOnDragStop(ev, data);\n\n        return;\n      }\n\n      _this.props.onDrag && _this.props.onDrag(_this.lastDragData = {\n        x: data.x - _this.initialOffsetX,\n        y: data.y - _this.initialOffsetY,\n        lastX: data.lastX - _this.initialOffsetX,\n        lastY: data.lastY - _this.initialOffsetY,\n        deltaX: data.deltaX,\n        deltaY: data.deltaY\n      });\n    };\n\n    _this.handleOnDragStop = function (ev, data) {\n      var resultData = data ? {\n        x: data.x - _this.initialOffsetX,\n        y: data.y - _this.initialOffsetY,\n        lastX: data.lastX - _this.initialOffsetX,\n        lastY: data.lastY - _this.initialOffsetY,\n        deltaX: data.deltaX,\n        deltaY: data.deltaY\n      } : _this.lastDragData;\n      _this.props.onDragEnd && _this.props.onDragEnd(resultData);\n      _this.element && _this.element.classList.remove(\"dragging\");\n\n      if (global.document) {\n        global.document.body.style.userSelect = _this.prevUserSelect;\n        global.document.onselectstart = _this.prevOnSelectStart;\n        _this.prevOnSelectStart = null;\n      }\n\n      _this.initialOffsetX = 0;\n      _this.initialOffsetY = 0;\n      _this.lastDragData = {\n        x: 0,\n        y: 0,\n        deltaX: 0,\n        deltaY: 0,\n        lastX: 0,\n        lastY: 0\n      };\n    };\n\n    _this.handleOnMouseDown = function (ev) {\n      if (!_this.element) {\n        return;\n      }\n\n      ev.preventDefault();\n      ev.stopPropagation();\n\n      if (!isUndef(ev.offsetX)) {\n        /* istanbul ignore next */\n        _this.initialOffsetX = ev.offsetX;\n        /* istanbul ignore next */\n\n        _this.initialOffsetY = ev.offsetY;\n      } else {\n        var rect = _this.element.getBoundingClientRect();\n\n        _this.initialOffsetX = (ev.clientX || ev.touches[0].clientX) - rect.left;\n        _this.initialOffsetY = (ev.clientY || ev.touches[0].clientY) - rect.top;\n      }\n    };\n\n    _this.elementRef = function (ref) {\n      isFun(_this.props.elementRef) && _this.props.elementRef(ref);\n      _this.element = ref;\n    };\n\n    return _this;\n  }\n\n  ScrollbarThumb.prototype.componentDidMount = function () {\n    if (!this.element) {\n      this.setState(function () {\n        throw new Error(\"Element was not created. Possibly you haven't provided HTMLDivElement to renderer's `elementRef` function.\");\n      });\n      return;\n    }\n  };\n\n  ScrollbarThumb.prototype.componentWillUnmount = function () {\n    this.handleOnDragStop();\n    this.elementRef(null);\n  };\n\n  ScrollbarThumb.prototype.render = function () {\n    var _a = this.props,\n        elementRef = _a.elementRef,\n        axis = _a.axis,\n        onDrag = _a.onDrag,\n        onDragEnd = _a.onDragEnd,\n        onDragStart = _a.onDragStart,\n        props = __rest(_a, [\"elementRef\", \"axis\", \"onDrag\", \"onDragEnd\", \"onDragStart\"]);\n\n    props.className = cnb(\"ScrollbarsCustom-Thumb\", axis === AXIS_DIRECTION.X ? \"ScrollbarsCustom-ThumbX\" : \"ScrollbarsCustom-ThumbY\", props.className);\n\n    if (props.renderer) {\n      props.axis = axis;\n    }\n\n    return createElement(DraggableCore, {\n      allowAnyClick: false,\n      enableUserSelectHack: false,\n      onMouseDown: this.handleOnMouseDown,\n      onDrag: this.handleOnDrag,\n      onStart: this.handleOnDragStart,\n      onStop: this.handleOnDragStop,\n      children: renderDivWithRenderer(props, this.elementRef)\n    });\n  };\n\n  ScrollbarThumb.propTypes = {\n    axis: AXIS_DIRECTION_PROP_TYPE,\n    onDrag: func,\n    onDragStart: func,\n    onDragEnd: func,\n    elementRef: func,\n    renderer: func\n  };\n\n  ScrollbarThumb.selectStartReplacer = function () {\n    return false;\n  };\n\n  return ScrollbarThumb;\n}(Component);\n\nvar ScrollbarTrack =\n/** @class */\nfunction (_super) {\n  __extends(ScrollbarTrack, _super);\n\n  function ScrollbarTrack() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.element = null;\n\n    _this.elementRef = function (ref) {\n      isFun(_this.props.elementRef) && _this.props.elementRef(ref);\n      _this.element = ref;\n    };\n\n    _this.handleClick = function (ev) {\n      if (!ev || !_this.element || ev.button !== 0) {\n        return;\n      }\n\n      if (isFun(_this.props.onClick) && ev.target === _this.element) {\n        if (!isUndef(ev.offsetX)) {\n          _this.props.onClick(ev, {\n            axis: _this.props.axis,\n            offset: _this.props.axis === AXIS_DIRECTION.X ? ev.offsetX : ev.offsetY\n          });\n        } else {\n          // support for old browsers\n\n          /* istanbul ignore next */\n          var rect = _this.element.getBoundingClientRect();\n          /* istanbul ignore next */\n\n\n          _this.props.onClick(ev, {\n            axis: _this.props.axis,\n            offset: _this.props.axis === AXIS_DIRECTION.X ? (ev.clientX || ev.touches[0].clientX) - rect.left : (ev.clientY || ev.touches[0].clientY) - rect.top\n          });\n        }\n      }\n\n      return true;\n    };\n\n    return _this;\n  }\n\n  ScrollbarTrack.prototype.componentDidMount = function () {\n    if (!this.element) {\n      this.setState(function () {\n        throw new Error(\"Element was not created. Possibly you haven't provided HTMLDivElement to renderer's `elementRef` function.\");\n      });\n      return;\n    }\n\n    this.element.addEventListener(\"click\", this.handleClick);\n  };\n\n  ScrollbarTrack.prototype.componentWillUnmount = function () {\n    if (this.element) {\n      this.element.removeEventListener(\"click\", this.handleClick);\n      this.element = null;\n      this.elementRef(null);\n    }\n  };\n\n  ScrollbarTrack.prototype.render = function () {\n    var _a = this.props,\n        elementRef = _a.elementRef,\n        axis = _a.axis,\n        onClick = _a.onClick,\n        props = __rest(_a, [\"elementRef\", \"axis\", \"onClick\"]);\n\n    props.className = cnb(\"ScrollbarsCustom-Track\", axis === AXIS_DIRECTION.X ? \"ScrollbarsCustom-TrackX\" : \"ScrollbarsCustom-TrackY\", props.className);\n\n    if (props.renderer) {\n      props.axis = axis;\n    }\n\n    return renderDivWithRenderer(props, this.elementRef);\n  };\n\n  ScrollbarTrack.propTypes = {\n    axis: AXIS_DIRECTION_PROP_TYPE,\n    onClick: func,\n    elementRef: func,\n    renderer: func\n  };\n  return ScrollbarTrack;\n}(Component);\n\nvar style = {\n  holder: {\n    position: \"relative\",\n    width: \"100%\",\n    height: \"100%\"\n  },\n  wrapper: {\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0\n  },\n  content: {\n    boxSizing: \"border-box\"\n  },\n  track: {\n    common: {\n      position: \"absolute\",\n      overflow: \"hidden\",\n      borderRadius: 4,\n      background: \"rgba(0,0,0,.1)\",\n      userSelect: \"none\"\n    },\n    x: {\n      height: 10,\n      width: \"calc(100% - 20px)\",\n      bottom: 0,\n      left: 10\n    },\n    y: {\n      width: 10,\n      height: \"calc(100% - 20px)\",\n      top: 10\n    }\n  },\n  thumb: {\n    common: {\n      cursor: \"pointer\",\n      borderRadius: 4,\n      background: \"rgba(0,0,0,.4)\"\n    },\n    x: {\n      height: \"100%\",\n      width: 0\n    },\n    y: {\n      width: \"100%\",\n      height: 0\n    }\n  }\n};\nvar pageZoomLevel = global.window ? zoomLevel() : 1;\nglobal.window && global.window.addEventListener(\"resize\", function () {\n  return pageZoomLevel = zoomLevel();\n}, {\n  passive: true\n});\nvar ScrollbarContext = createContext({\n  parentScrollbar: null\n});\n\nvar Scrollbar =\n/** @class */\nfunction (_super) {\n  __extends(Scrollbar, _super);\n\n  function Scrollbar(props) {\n    var _this = _super.call(this, props) || this;\n    /**\r\n     * @description Get current scroll-related values.<br/>\r\n     * If <i>force</i> if truthy - will recalculate them instead of returning cached values.\r\n     *\r\n     * @return ScrollState\r\n     */\n\n\n    _this.getScrollState = function (force) {\n      if (force === void 0) {\n        force = false;\n      }\n\n      if (_this.scrollValues && !force) {\n        return _assign({}, _this.scrollValues);\n      }\n\n      var scrollState = {\n        clientHeight: 0,\n        clientWidth: 0,\n        contentScrollHeight: 0,\n        contentScrollWidth: 0,\n        scrollHeight: 0,\n        scrollWidth: 0,\n        scrollTop: 0,\n        scrollLeft: 0,\n        scrollYBlocked: false,\n        scrollXBlocked: false,\n        scrollYPossible: false,\n        scrollXPossible: false,\n        trackYVisible: false,\n        trackXVisible: false,\n        zoomLevel: pageZoomLevel * 1,\n        isRTL: undefined\n      };\n      var props = _this.props;\n      scrollState.isRTL = _this.state.isRTL;\n      scrollState.scrollYBlocked = props.noScroll || props.noScrollY;\n      scrollState.scrollXBlocked = props.noScroll || props.noScrollX;\n\n      if (_this.scrollerElement) {\n        scrollState.clientHeight = _this.scrollerElement.clientHeight;\n        scrollState.clientWidth = _this.scrollerElement.clientWidth;\n        scrollState.scrollHeight = _this.scrollerElement.scrollHeight;\n        scrollState.scrollWidth = _this.scrollerElement.scrollWidth;\n        scrollState.scrollTop = _this.scrollerElement.scrollTop;\n        scrollState.scrollLeft = _this.scrollerElement.scrollLeft;\n        scrollState.scrollYPossible = !scrollState.scrollYBlocked && scrollState.scrollHeight > scrollState.clientHeight;\n        scrollState.scrollXPossible = !scrollState.scrollXBlocked && scrollState.scrollWidth > scrollState.clientWidth;\n        scrollState.trackYVisible = scrollState.scrollYPossible || props.permanentTracks || props.permanentTrackY;\n        scrollState.trackXVisible = scrollState.scrollXPossible || props.permanentTracks || props.permanentTrackX;\n      }\n\n      if (_this.contentElement) {\n        scrollState.contentScrollHeight = _this.contentElement.scrollHeight;\n        scrollState.contentScrollWidth = _this.contentElement.scrollWidth;\n      }\n\n      return scrollState;\n    };\n    /**\r\n     * @description Scroll to top border\r\n     */\n\n\n    _this.scrollToTop = function () {\n      if (_this.scrollerElement) {\n        _this.scrollerElement.scrollTop = 0;\n      }\n\n      return _this;\n    };\n    /**\r\n     * @description Scroll to left border\r\n     */\n\n\n    _this.scrollToLeft = function () {\n      if (_this.scrollerElement) {\n        _this.scrollerElement.scrollLeft = 0;\n      }\n\n      return _this;\n    };\n    /**\r\n     * @description Scroll to bottom border\r\n     */\n\n\n    _this.scrollToBottom = function () {\n      if (_this.scrollerElement) {\n        _this.scrollerElement.scrollTop = _this.scrollerElement.scrollHeight - _this.scrollerElement.clientHeight;\n      }\n\n      return _this;\n    };\n    /**\r\n     * @description Scroll to right border\r\n     */\n\n\n    _this.scrollToRight = function () {\n      if (_this.scrollerElement) {\n        _this.scrollerElement.scrollLeft = _this.scrollerElement.scrollWidth - _this.scrollerElement.clientWidth;\n      }\n\n      return _this;\n    };\n    /**\r\n     * @description Set the scrolls at given coordinates.<br/>\r\n     * If coordinate is undefined - current scroll value will persist.\r\n     */\n\n\n    _this.scrollTo = function (x, y) {\n      if (_this.scrollerElement) {\n        isNum(x) && (_this.scrollerElement.scrollLeft = x);\n        isNum(y) && (_this.scrollerElement.scrollTop = y);\n      }\n\n      return _this;\n    };\n    /**\r\n     * @description Center the viewport at given coordinates.<br/>\r\n     * If coordinate is undefined - current scroll value will persist.\r\n     */\n\n\n    _this.centerAt = function (x, y) {\n      if (_this.scrollerElement) {\n        isNum(x) && (_this.scrollerElement.scrollLeft = x - _this.scrollerElement.clientWidth / 2);\n        isNum(y) && (_this.scrollerElement.scrollTop = y - _this.scrollerElement.clientHeight / 2);\n      }\n\n      return _this;\n    };\n\n    _this.update = function (force) {\n      if (force === void 0) {\n        force = false;\n      }\n\n      if (!_this.scrollerElement) {\n        return;\n      } // autodetect direction if not defined\n\n\n      if (isUndef(_this.state.isRTL)) {\n        _this.setState({\n          isRTL: getComputedStyle(_this.scrollerElement).direction === \"rtl\"\n        });\n\n        return _this.getScrollState();\n      }\n\n      var scrollState = _this.getScrollState(true);\n\n      var prevScrollState = _assign({}, _this.scrollValues);\n\n      var props = _this.props;\n      var bitmask = 0;\n\n      if (!force) {\n        prevScrollState.clientHeight !== scrollState.clientHeight && (bitmask |= 1 << 0);\n        prevScrollState.clientWidth !== scrollState.clientWidth && (bitmask |= 1 << 1);\n        prevScrollState.scrollHeight !== scrollState.scrollHeight && (bitmask |= 1 << 2);\n        prevScrollState.scrollWidth !== scrollState.scrollWidth && (bitmask |= 1 << 3);\n        prevScrollState.scrollTop !== scrollState.scrollTop && (bitmask |= 1 << 4);\n        prevScrollState.scrollLeft !== scrollState.scrollLeft && (bitmask |= 1 << 5);\n        prevScrollState.scrollYBlocked !== scrollState.scrollYBlocked && (bitmask |= 1 << 6);\n        prevScrollState.scrollXBlocked !== scrollState.scrollXBlocked && (bitmask |= 1 << 7);\n        prevScrollState.scrollYPossible !== scrollState.scrollYPossible && (bitmask |= 1 << 8);\n        prevScrollState.scrollXPossible !== scrollState.scrollXPossible && (bitmask |= 1 << 9);\n        prevScrollState.trackYVisible !== scrollState.trackYVisible && (bitmask |= 1 << 10);\n        prevScrollState.trackXVisible !== scrollState.trackXVisible && (bitmask |= 1 << 11);\n        prevScrollState.isRTL !== scrollState.isRTL && (bitmask |= 1 << 12);\n        prevScrollState.contentScrollHeight !== scrollState.contentScrollHeight && (bitmask |= 1 << 13);\n        prevScrollState.contentScrollWidth !== scrollState.contentScrollWidth && (bitmask |= 1 << 14);\n        prevScrollState.zoomLevel !== scrollState.zoomLevel && (bitmask |= 1 << 15); // if not forced and nothing has changed - skip this update\n\n        if (bitmask === 0) {\n          return prevScrollState;\n        }\n      } else {\n        bitmask = 32767;\n      }\n\n      if (!props.native && _this.holderElement) {\n        if (bitmask & 1 << 13 && (props.translateContentSizesToHolder || props.translateContentSizeYToHolder)) {\n          _this.holderElement.style.height = scrollState.contentScrollHeight + \"px\";\n        }\n\n        if (bitmask & 1 << 14 && (props.translateContentSizesToHolder || props.translateContentSizeXToHolder)) {\n          _this.holderElement.style.width = scrollState.contentScrollWidth + \"px\";\n        }\n\n        if (props.translateContentSizesToHolder || props.translateContentSizeYToHolder || props.translateContentSizeXToHolder) {\n          if (!scrollState.clientHeight && scrollState.contentScrollHeight || !scrollState.clientWidth && scrollState.contentScrollWidth) {\n            return;\n          }\n        }\n      } // if scrollbars visibility has changed\n\n\n      if (bitmask & 1 << 10 || bitmask & 1 << 11) {\n        prevScrollState.scrollYBlocked = scrollState.scrollYBlocked;\n        prevScrollState.scrollXBlocked = scrollState.scrollXBlocked;\n        prevScrollState.scrollYPossible = scrollState.scrollYPossible;\n        prevScrollState.scrollXPossible = scrollState.scrollXPossible;\n\n        if (_this.trackYElement && bitmask & 1 << 10) {\n          _this.trackYElement.style.display = scrollState.trackYVisible ? null : \"none\";\n        }\n\n        if (_this.trackXElement && bitmask & 1 << 11) {\n          _this.trackXElement.style.display = scrollState.trackXVisible ? null : \"none\";\n        }\n\n        _this.scrollValues = prevScrollState;\n\n        _this.setState({\n          trackYVisible: _this.scrollValues.trackYVisible = scrollState.trackYVisible,\n          trackXVisible: _this.scrollValues.trackXVisible = scrollState.trackXVisible\n        });\n\n        return;\n      }\n\n      (props.native ? _this.updaterNative : _this.updaterCustom)(bitmask, scrollState);\n      _this.scrollValues = scrollState;\n\n      if (!props.native && bitmask & 1 << 15) {\n        getScrollbarWidth(true);\n\n        _this.forceUpdate();\n      }\n\n      _this.eventEmitter.emit(\"update\", _assign({}, scrollState), prevScrollState);\n\n      (bitmask & 1 << 4 || bitmask & 1 << 5) && _this.eventEmitter.emit(\"scroll\", _assign({}, scrollState), prevScrollState);\n      return _this.scrollValues;\n    };\n\n    _this.updaterNative = function () {\n      // just for future\n      return true;\n    };\n\n    _this.updaterCustom = function (bitmask, scrollValues) {\n      var props = _this.props;\n\n      if (_this.trackYElement) {\n        if (_this.thumbYElement && (bitmask & 1 << 0 || bitmask & 1 << 2 || bitmask & 1 << 4 || bitmask & 1 << 6 || bitmask & 1 << 8)) {\n          if (scrollValues.scrollYPossible) {\n            var trackInnerSize = getInnerHeight(_this.trackYElement);\n            var thumbSize = calcThumbSize(scrollValues.scrollHeight, scrollValues.clientHeight, trackInnerSize, props.minimalThumbYSize || props.minimalThumbSize, props.maximalThumbYSize || props.maximalThumbSize);\n            var thumbOffset = calcThumbOffset(scrollValues.scrollHeight, scrollValues.clientHeight, trackInnerSize, thumbSize, scrollValues.scrollTop);\n            _this.thumbYElement.style.transform = \"translateY(\" + thumbOffset + \"px)\";\n            _this.thumbYElement.style.height = thumbSize + \"px\";\n            _this.thumbYElement.style.display = \"\";\n          } else {\n            _this.thumbYElement.style.transform = \"\";\n            _this.thumbYElement.style.height = \"0px\";\n            _this.thumbYElement.style.display = \"none\";\n          }\n        }\n      }\n\n      if (_this.trackXElement) {\n        if (_this.thumbXElement && (bitmask & 1 << 1 || bitmask & 1 << 3 || bitmask & 1 << 5 || bitmask & 1 << 7 || bitmask & 1 << 9 || bitmask & 1 << 12)) {\n          if (scrollValues.scrollXPossible) {\n            var trackInnerSize = getInnerWidth(_this.trackXElement);\n            var thumbSize = calcThumbSize(scrollValues.scrollWidth, scrollValues.clientWidth, trackInnerSize, props.minimalThumbXSize || props.minimalThumbSize, props.maximalThumbXSize || props.maximalThumbSize);\n            var thumbOffset = calcThumbOffset(scrollValues.scrollWidth, scrollValues.clientWidth, trackInnerSize, thumbSize, scrollValues.scrollLeft);\n\n            if (_this.state.isRTL && shouldReverseRtlScroll()) {\n              thumbOffset += trackInnerSize - thumbSize;\n            }\n\n            _this.thumbXElement.style.transform = \"translateX(\" + thumbOffset + \"px)\";\n            _this.thumbXElement.style.width = thumbSize + \"px\";\n            _this.thumbXElement.style.display = \"\";\n          } else {\n            _this.thumbXElement.style.transform = \"\";\n            _this.thumbXElement.style.width = \"0px\";\n            _this.thumbXElement.style.display = \"none\";\n          }\n        }\n      }\n\n      return true;\n    };\n\n    _this.elementRefHolder = function (ref) {\n      _this.holderElement = ref;\n      isFun(_this.props.elementRef) && _this.props.elementRef(ref);\n    };\n\n    _this.elementRefWrapper = function (ref) {\n      _this.wrapperElement = ref;\n      isFun(_this.props.wrapperProps.elementRef) && _this.props.wrapperProps.elementRef(ref);\n    };\n\n    _this.elementRefScroller = function (ref) {\n      _this.scrollerElement = ref;\n      isFun(_this.props.scrollerProps.elementRef) && _this.props.scrollerProps.elementRef(ref);\n    };\n\n    _this.elementRefContent = function (ref) {\n      _this.contentElement = ref;\n      isFun(_this.props.contentProps.elementRef) && _this.props.contentProps.elementRef(ref);\n    };\n\n    _this.elementRefTrackX = function (ref) {\n      _this.trackXElement = ref;\n      isFun(_this.props.trackXProps.elementRef) && _this.props.trackXProps.elementRef(ref);\n    };\n\n    _this.elementRefTrackY = function (ref) {\n      _this.trackYElement = ref;\n      isFun(_this.props.trackYProps.elementRef) && _this.props.trackYProps.elementRef(ref);\n    };\n\n    _this.elementRefThumbX = function (ref) {\n      _this.thumbXElement = ref;\n      isFun(_this.props.thumbXProps.elementRef) && _this.props.thumbXProps.elementRef(ref);\n    };\n\n    _this.elementRefThumbY = function (ref) {\n      _this.thumbYElement = ref;\n      isFun(_this.props.thumbYProps.elementRef) && _this.props.thumbYProps.elementRef(ref);\n    };\n\n    _this.handleTrackXClick = function (ev, values) {\n      _this.props.trackXProps.onClick && _this.props.trackXProps.onClick(ev, values);\n\n      if (!_this.scrollerElement || !_this.trackXElement || !_this.thumbXElement || !_this.scrollValues || !_this.scrollValues.scrollXPossible) {\n        return;\n      }\n\n      _this._scrollDetection();\n\n      var thumbSize = _this.thumbXElement.clientWidth;\n      var trackInnerSize = getInnerWidth(_this.trackXElement);\n      var thumbOffset = (_this.scrollValues.isRTL && shouldReverseRtlScroll() ? values.offset + thumbSize / 2 - trackInnerSize : values.offset - thumbSize / 2) - ( //@ts-ignore\n      parseFloat(getComputedStyle(_this.trackXElement).paddingLeft) || 0);\n      var target = calcScrollForThumbOffset(_this.scrollValues.scrollWidth, _this.scrollValues.clientWidth, trackInnerSize, thumbSize, thumbOffset);\n\n      if (_this.props.trackClickBehavior === TRACK_CLICK_BEHAVIOR.STEP) {\n        target = (_this.scrollValues.isRTL ? _this.scrollValues.scrollLeft > target : _this.scrollValues.scrollLeft < target) ? _this.scrollValues.scrollLeft + _this.scrollValues.clientWidth : _this.scrollValues.scrollLeft - _this.scrollValues.clientWidth;\n      }\n\n      _this.scrollerElement.scrollLeft = target;\n    };\n\n    _this.handleTrackYClick = function (ev, values) {\n      _this.props.trackYProps.onClick && _this.props.trackYProps.onClick(ev, values);\n\n      if (!_this.scrollerElement || !_this.trackYElement || !_this.thumbYElement || !_this.scrollValues || !_this.scrollValues.scrollYPossible) {\n        return;\n      }\n\n      _this._scrollDetection();\n\n      var thumbSize = _this.thumbYElement.clientHeight;\n      var target = calcScrollForThumbOffset(_this.scrollValues.scrollHeight, _this.scrollValues.clientHeight, getInnerHeight(_this.trackYElement), thumbSize, values.offset - thumbSize / 2) - ( //@ts-ignore\n      parseFloat(getComputedStyle(_this.trackYElement).paddingTop) || 0);\n\n      if (_this.props.trackClickBehavior === TRACK_CLICK_BEHAVIOR.JUMP) {\n        _this.scrollerElement.scrollTop = target;\n      } else {\n        _this.scrollerElement.scrollTop = _this.scrollValues.scrollTop < target ? _this.scrollValues.scrollTop + _this.scrollValues.clientHeight : _this.scrollValues.scrollTop - _this.scrollValues.clientHeight;\n      }\n    };\n\n    _this.handleTrackYMouseWheel = function (ev) {\n      var props = _this.props;\n      props.trackYProps && props.trackYProps.onWheel && props.trackYProps.onWheel(ev);\n\n      if (props.disableTracksMousewheelScrolling || props.disableTrackYMousewheelScrolling) {\n        return;\n      }\n\n      _this._scrollDetection();\n\n      if (!_this.scrollerElement || _this.scrollValues.scrollYBlocked) {\n        return;\n      }\n\n      _this.scrollTop += ev.deltaY;\n    };\n\n    _this.handleTrackXMouseWheel = function (ev) {\n      var props = _this.props;\n      props.trackXProps && props.trackXProps.onWheel && props.trackXProps.onWheel(ev);\n\n      if (props.disableTracksMousewheelScrolling || props.disableTrackXMousewheelScrolling) {\n        return;\n      }\n\n      _this._scrollDetection();\n\n      if (!_this.scrollerElement || _this.scrollValues.scrollXBlocked) {\n        return;\n      }\n\n      _this.scrollLeft += ev.deltaX;\n    };\n\n    _this.handleThumbXDrag = function (data) {\n      if (!_this.trackXElement || !_this.thumbXElement || !_this.scrollerElement || !_this.scrollValues || !_this.scrollValues.scrollXPossible) {\n        return;\n      }\n\n      _this._scrollDetection();\n\n      var trackRect = _this.trackXElement.getBoundingClientRect();\n\n      var styles = getComputedStyle(_this.trackXElement); //@ts-ignore\n\n      var paddingLeft = parseFloat(styles.paddingLeft) || 0; //@ts-ignore\n\n      var paddingRight = parseFloat(styles.paddingRight) || 0;\n      var trackInnerSize = trackRect.width - paddingLeft - paddingRight;\n      var thumbSize = _this.thumbXElement.clientWidth;\n      var offset = _this.scrollValues.isRTL && shouldReverseRtlScroll() ? data.x + thumbSize - trackInnerSize + paddingLeft : data.lastX - paddingLeft;\n      _this.scrollerElement.scrollLeft = calcScrollForThumbOffset(_this.scrollValues.scrollWidth, _this.scrollValues.clientWidth, trackInnerSize, thumbSize, offset);\n    };\n\n    _this.handleThumbYDrag = function (data) {\n      if (!_this.scrollerElement || !_this.trackYElement || !_this.thumbYElement || !_this.scrollValues || !_this.scrollValues.scrollYPossible) {\n        return;\n      }\n\n      _this._scrollDetection();\n\n      var trackRect = _this.trackYElement.getBoundingClientRect();\n\n      var styles = getComputedStyle(_this.trackYElement); //@ts-ignore\n\n      var paddingTop = parseFloat(styles.paddingTop) || 0; //@ts-ignore\n\n      var paddingBottom = parseFloat(styles.paddingBottom) || 0;\n      var trackInnerSize = trackRect.height - paddingTop - paddingBottom;\n      var thumbSize = _this.thumbYElement.clientHeight;\n      var offset = data.y - paddingTop;\n      _this.scrollerElement.scrollTop = calcScrollForThumbOffset(_this.scrollValues.scrollHeight, _this.scrollValues.clientHeight, trackInnerSize, thumbSize, offset);\n    };\n\n    _this.handleScrollerScroll = function () {\n      _this._scrollDetection();\n    };\n\n    _this._scrollDetection = function () {\n      !_this._scrollDetectionTO && _this.eventEmitter.emit(\"scrollStart\", _this.getScrollState());\n      _this._scrollDetectionTO && global.window && global.window.clearTimeout(_this._scrollDetectionTO);\n      _this._scrollDetectionTO = global.window ? global.window.setTimeout(_this._scrollDetectionCallback, _this.props.scrollDetectionThreshold || 0) : null;\n    };\n\n    _this._scrollDetectionCallback = function () {\n      _this._scrollDetectionTO = null;\n\n      _this.eventEmitter.emit(\"scrollStop\", _this.getScrollState());\n    };\n\n    _this.state = {\n      trackXVisible: false,\n      trackYVisible: false,\n      isRTL: props.rtl\n    };\n    _this.scrollValues = _this.getScrollState(true);\n    _this.eventEmitter = new Emittr(15);\n    props.onUpdate && _this.eventEmitter.on(\"update\", props.onUpdate);\n    props.onScroll && _this.eventEmitter.on(\"scroll\", props.onScroll);\n    props.onScrollStart && _this.eventEmitter.on(\"scrollStart\", props.onScrollStart);\n    props.onScrollStop && _this.eventEmitter.on(\"scrollStop\", props.onScrollStop);\n    _this.id = uuid();\n    return _this;\n  }\n\n  Object.defineProperty(Scrollbar.prototype, \"scrollTop\", {\n    get: function get() {\n      if (this.scrollerElement) {\n        return this.scrollerElement.scrollTop;\n      }\n\n      return 0;\n    },\n    set: function set(top) {\n      if (this.scrollerElement) {\n        this.scrollerElement.scrollTop = top;\n        this.update();\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Scrollbar.prototype, \"scrollLeft\", {\n    get: function get() {\n      if (this.scrollerElement) {\n        return this.scrollerElement.scrollLeft;\n      }\n\n      return 0;\n    },\n    set: function set(left) {\n      if (this.scrollerElement) {\n        this.scrollerElement.scrollLeft = left;\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Scrollbar.prototype, \"scrollHeight\", {\n    get: function get() {\n      if (this.scrollerElement) {\n        return this.scrollerElement.scrollHeight;\n      }\n\n      return 0;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Scrollbar.prototype, \"scrollWidth\", {\n    get: function get() {\n      if (this.scrollerElement) {\n        return this.scrollerElement.scrollWidth;\n      }\n\n      return 0;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Scrollbar.prototype, \"clientHeight\", {\n    get: function get() {\n      if (this.scrollerElement) {\n        return this.scrollerElement.clientHeight;\n      }\n\n      return 0;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Scrollbar.prototype, \"clientWidth\", {\n    get: function get() {\n      if (this.scrollerElement) {\n        return this.scrollerElement.clientWidth;\n      }\n\n      return 0;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Scrollbar.calculateStyles = function (props, state, scrollValues, scrollbarWidth) {\n    var _a, _b, _c, _d;\n\n    var useDefaultStyles = !props.noDefaultStyles;\n    return {\n      holder: _assign(_assign(_assign({}, useDefaultStyles && style.holder), {\n        position: \"relative\"\n      }), props.style),\n      wrapper: _assign(_assign(_assign({}, useDefaultStyles && _assign(_assign(_assign({}, style.wrapper), !props.disableTracksWidthCompensation && !props.disableTrackYWidthCompensation && (_a = {}, _a[state.isRTL ? \"left\" : \"right\"] = state.trackYVisible ? 10 : 0, _a)), !props.disableTracksWidthCompensation && !props.disableTrackXWidthCompensation && {\n        bottom: state.trackXVisible ? 10 : 0\n      })), props.wrapperProps.style), {\n        position: \"absolute\",\n        overflow: \"hidden\"\n      }),\n      content: _assign(_assign(_assign(_assign(_assign({}, useDefaultStyles && style.content), props.translateContentSizesToHolder || props.translateContentSizeYToHolder || props.translateContentSizeXToHolder ? {\n        display: \"table-cell\"\n      } : {\n        padding: 0.05 // needed to disable margin collapsing without flexboxes, other possible solutions here: https://stackoverflow.com/questions/19718634/how-to-disable-margin-collapsing\n\n      }), useDefaultStyles && !(props.translateContentSizesToHolder || props.translateContentSizeYToHolder) && {\n        minHeight: \"100%\"\n      }), useDefaultStyles && !(props.translateContentSizesToHolder || props.translateContentSizeXToHolder) && {\n        minWidth: \"100%\"\n      }), props.contentProps.style),\n      scroller: _assign(_assign(_assign(_assign((_b = {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        bottom: 0,\n        right: 0,\n        paddingBottom: !scrollbarWidth && scrollValues.scrollXPossible ? props.fallbackScrollbarWidth : undefined\n      }, _b[state.isRTL ? \"paddingLeft\" : \"paddingRight\"] = !scrollbarWidth && scrollValues.scrollYPossible ? props.fallbackScrollbarWidth : undefined, _b), props.scrollerProps.style), !isUndef(props.rtl) && {\n        direction: props.rtl ? \"rtl\" : \"ltr\"\n      }), props.momentum && {\n        WebkitOverflowScrolling: \"touch\"\n      }), (_c = {\n        overflowY: scrollValues.scrollYPossible ? \"scroll\" : \"hidden\",\n        overflowX: scrollValues.scrollXPossible ? \"scroll\" : \"hidden\",\n        marginBottom: scrollValues.scrollXPossible ? -(scrollbarWidth || props.fallbackScrollbarWidth) - Number(scrollValues.zoomLevel !== 1) : undefined\n      }, _c[state.isRTL ? \"marginLeft\" : \"marginRight\"] = scrollValues.scrollYPossible ? -(scrollbarWidth || props.fallbackScrollbarWidth) - Number(scrollValues.zoomLevel !== 1) : undefined, _c)),\n      trackX: _assign(_assign(_assign(_assign({}, useDefaultStyles && style.track.common), useDefaultStyles && style.track.x), props.trackXProps.style), !state.trackXVisible && {\n        display: \"none\"\n      }),\n      trackY: _assign(_assign(_assign(_assign(_assign({}, useDefaultStyles && style.track.common), useDefaultStyles && style.track.y), useDefaultStyles && (_d = {}, _d[state.isRTL ? \"left\" : \"right\"] = 0, _d)), props.trackYProps.style), !state.trackYVisible && {\n        display: \"none\"\n      }),\n      thumbX: _assign(_assign(_assign({}, useDefaultStyles && style.thumb.common), useDefaultStyles && style.thumb.x), props.thumbXProps.style),\n      thumbY: _assign(_assign(_assign({}, useDefaultStyles && style.thumb.common), useDefaultStyles && style.thumb.y), props.thumbYProps.style)\n    };\n  };\n\n  Scrollbar.prototype.componentDidMount = function () {\n    if (!this.scrollerElement) {\n      this.setState(function () {\n        throw new Error(\"scroller element was not created. Possibly you haven't provided HTMLDivElement to renderer's `elementRef` function.\");\n      });\n      return;\n    }\n\n    if (!this.contentElement) {\n      this.setState(function () {\n        throw new Error(\"content element was not created. Possibly you haven't provided HTMLDivElement to renderer's `elementRef` function.\");\n      });\n      return;\n    }\n\n    var props = this.props;\n\n    if (!props.native && !props.mobileNative) {\n      //ToDo: move native state to the state so it can be synchronized\n      if (!this.holderElement) {\n        this.setState(function () {\n          throw new Error(\"holder element was not created. Possibly you haven't provided HTMLDivElement to renderer's `elementRef` function.\");\n        });\n        return;\n      }\n\n      if (!this.wrapperElement) {\n        this.setState(function () {\n          throw new Error(\"wrapper element was not created. Possibly you haven't provided HTMLDivElement to renderer's `elementRef` function.\");\n        });\n        return;\n      }\n    }\n\n    Loop.addTarget(this);\n\n    if (!isUndef(props.scrollTop)) {\n      this.scrollerElement.scrollTop = props.scrollTop;\n    }\n\n    if (!isUndef(props.scrollLeft)) {\n      this.scrollerElement.scrollLeft = props.scrollLeft;\n    }\n\n    this.update(true);\n  };\n\n  Scrollbar.prototype.componentWillUnmount = function () {\n    Loop.removeTarget(this);\n  };\n\n  Scrollbar.prototype.componentDidUpdate = function (prevProps, prevState) {\n    if (!this.scrollerElement) {\n      return;\n    }\n\n    var props = this.props;\n\n    if (props.rtl !== prevProps.rtl && props.rtl !== this.state.isRTL) {\n      this.setState({\n        isRTL: props.rtl\n      });\n    }\n\n    if (this.state.isRTL !== prevState.isRTL) {\n      this.update();\n    }\n\n    if (!isUndef(props.scrollTop) && props.scrollTop !== this.scrollerElement.scrollTop) {\n      this.scrollerElement.scrollTop = props.scrollTop;\n    }\n\n    if (!isUndef(props.scrollLeft) && props.scrollLeft !== this.scrollerElement.scrollLeft) {\n      this.scrollerElement.scrollLeft = props.scrollLeft;\n    }\n\n    if (prevProps.onUpdate !== props.onUpdate) {\n      prevProps.onUpdate && this.eventEmitter.off(\"update\", prevProps.onUpdate);\n      props.onUpdate && this.eventEmitter.on(\"update\", props.onUpdate);\n    }\n\n    if (prevProps.onScroll !== props.onScroll) {\n      prevProps.onScroll && this.eventEmitter.off(\"scroll\", prevProps.onScroll);\n      props.onScroll && this.eventEmitter.on(\"scroll\", props.onScroll);\n    }\n\n    if (prevProps.onScrollStart !== props.onScrollStart) {\n      prevProps.onScrollStart && this.eventEmitter.off(\"scrollStart\", prevProps.onScrollStart);\n      props.onScrollStart && this.eventEmitter.on(\"scrollStart\", props.onScrollStart);\n    }\n\n    if (prevProps.onScrollStop !== props.onScrollStop) {\n      prevProps.onScrollStop && this.eventEmitter.off(\"scrollStop\", prevProps.onScrollStop);\n      props.onScrollStop && this.eventEmitter.on(\"scrollStop\", props.onScrollStop);\n    }\n  };\n\n  Scrollbar.prototype.render = function () {\n    var _a = this.props,\n        createContext = _a.createContext,\n        rtl = _a.rtl,\n        native = _a.native,\n        mobileNative = _a.mobileNative,\n        momentum = _a.momentum,\n        noDefaultStyles = _a.noDefaultStyles,\n        disableTracksMousewheelScrolling = _a.disableTracksMousewheelScrolling,\n        disableTrackXMousewheelScrolling = _a.disableTrackXMousewheelScrolling,\n        disableTrackYMousewheelScrolling = _a.disableTrackYMousewheelScrolling,\n        disableTracksWidthCompensation = _a.disableTracksWidthCompensation,\n        disableTrackXWidthCompensation = _a.disableTrackXWidthCompensation,\n        disableTrackYWidthCompensation = _a.disableTrackYWidthCompensation,\n        noScrollX = _a.noScrollX,\n        noScrollY = _a.noScrollY,\n        noScroll = _a.noScroll,\n        permanentTrackX = _a.permanentTrackX,\n        permanentTrackY = _a.permanentTrackY,\n        permanentTracks = _a.permanentTracks,\n        removeTracksWhenNotUsed = _a.removeTracksWhenNotUsed,\n        removeTrackYWhenNotUsed = _a.removeTrackYWhenNotUsed,\n        removeTrackXWhenNotUsed = _a.removeTrackXWhenNotUsed,\n        minimalThumbSize = _a.minimalThumbSize,\n        maximalThumbSize = _a.maximalThumbSize,\n        minimalThumbXSize = _a.minimalThumbXSize,\n        maximalThumbXSize = _a.maximalThumbXSize,\n        minimalThumbYSize = _a.minimalThumbYSize,\n        maximalThumbYSize = _a.maximalThumbYSize,\n        fallbackScrollbarWidth = _a.fallbackScrollbarWidth,\n        scrollTop = _a.scrollTop,\n        scrollLeft = _a.scrollLeft,\n        trackClickBehavior = _a.trackClickBehavior,\n        scrollDetectionThreshold = _a.scrollDetectionThreshold,\n        propsWrapperProps = _a.wrapperProps,\n        propsScrollerProps = _a.scrollerProps,\n        propsContentProps = _a.contentProps,\n        propsTrackXProps = _a.trackXProps,\n        propsTrackYProps = _a.trackYProps,\n        propsThumbXProps = _a.thumbXProps,\n        propsThumbYProps = _a.thumbYProps,\n        propsScrollbarWidth = _a.scrollbarWidth,\n        elementRef = _a.elementRef,\n        onUpdate = _a.onUpdate,\n        onScroll = _a.onScroll,\n        onScrollStart = _a.onScrollStart,\n        onScrollStop = _a.onScrollStop,\n        translateContentSizesToHolder = _a.translateContentSizesToHolder,\n        translateContentSizeYToHolder = _a.translateContentSizeYToHolder,\n        translateContentSizeXToHolder = _a.translateContentSizeXToHolder,\n        children = _a.children,\n        propsHolderProps = __rest(_a, [\"createContext\", \"rtl\", \"native\", \"mobileNative\", \"momentum\", \"noDefaultStyles\", \"disableTracksMousewheelScrolling\", \"disableTrackXMousewheelScrolling\", \"disableTrackYMousewheelScrolling\", \"disableTracksWidthCompensation\", \"disableTrackXWidthCompensation\", \"disableTrackYWidthCompensation\", \"noScrollX\", \"noScrollY\", \"noScroll\", \"permanentTrackX\", \"permanentTrackY\", \"permanentTracks\", \"removeTracksWhenNotUsed\", \"removeTrackYWhenNotUsed\", \"removeTrackXWhenNotUsed\", \"minimalThumbSize\", \"maximalThumbSize\", \"minimalThumbXSize\", \"maximalThumbXSize\", \"minimalThumbYSize\", \"maximalThumbYSize\", \"fallbackScrollbarWidth\", \"scrollTop\", \"scrollLeft\", \"trackClickBehavior\", \"scrollDetectionThreshold\", \"wrapperProps\", \"scrollerProps\", \"contentProps\", \"trackXProps\", \"trackYProps\", \"thumbXProps\", \"thumbYProps\", \"scrollbarWidth\", \"elementRef\", \"onUpdate\", \"onScroll\", \"onScrollStart\", \"onScrollStop\", \"translateContentSizesToHolder\", \"translateContentSizeYToHolder\", \"translateContentSizeXToHolder\", \"children\"]);\n\n    var scrollbarWidth = !isUndef(propsScrollbarWidth) ? propsScrollbarWidth : getScrollbarWidth() || 0;\n\n    if (native || !scrollbarWidth && mobileNative) {\n      this.elementRefHolder(null);\n      this.elementRefWrapper(null);\n      this.elementRefTrackX(null);\n      this.elementRefTrackY(null);\n      this.elementRefThumbX(null);\n      this.elementRefThumbY(null);\n\n      var contentProps_1 = _assign(_assign({}, propsContentProps), {\n        key: \"ScrollbarsCustom-Content\",\n        className: cnb(\"ScrollbarsCustom-Content\", propsContentProps.className),\n        children: children\n      });\n\n      var scrollerProps_1 = _assign(_assign({}, propsHolderProps), {\n        className: cnb(\"ScrollbarsCustom native\", this.state.trackYVisible && \"trackYVisible\", this.state.trackXVisible && \"trackXVisible\", this.state.isRTL && \"rtl\", propsHolderProps.className),\n        style: _assign(_assign(_assign(_assign({}, propsHolderProps.style), !isUndef(rtl) && {\n          direction: rtl ? \"rtl\" : \"ltr\"\n        }), momentum && {\n          WebkitOverflowScrolling: \"touch\"\n        }), {\n          overflowX: noScroll || noScrollX ? \"hidden\" : permanentTracks || permanentTrackX ? \"scroll\" : \"auto\",\n          overflowY: noScroll || noScrollY ? \"hidden\" : permanentTracks || permanentTrackY ? \"scroll\" : \"auto\"\n        }),\n        onScroll: this.handleScrollerScroll,\n        children: renderDivWithRenderer(contentProps_1, this.elementRefContent),\n        renderer: propsScrollerProps.renderer,\n        elementRef: propsScrollerProps.elementRef\n      });\n\n      return renderDivWithRenderer(scrollerProps_1, this.elementRefScroller);\n    }\n\n    var styles = Scrollbar.calculateStyles(this.props, this.state, this.scrollValues, scrollbarWidth);\n    var holderChildren = [];\n\n    var contentProps = _assign(_assign({}, propsContentProps), {\n      key: \"ScrollbarsCustom-Content\",\n      className: cnb(\"ScrollbarsCustom-Content\", propsContentProps.className),\n      style: styles.content,\n      children: createContext ? createElement(ScrollbarContext.Provider, {\n        value: {\n          parentScrollbar: this\n        },\n        children: children\n      }) : children\n    });\n\n    var scrollerProps = _assign(_assign({}, propsScrollerProps), {\n      key: \"ScrollbarsCustom-Scroller\",\n      className: cnb(\"ScrollbarsCustom-Scroller\", propsScrollerProps.className),\n      style: styles.scroller,\n      children: renderDivWithRenderer(contentProps, this.elementRefContent),\n      onScroll: this.handleScrollerScroll\n    });\n\n    var wrapperProps = _assign(_assign({}, propsWrapperProps), {\n      key: \"ScrollbarsCustom-Wrapper\",\n      className: cnb(\"ScrollbarsCustom-Wrapper\", propsWrapperProps.className),\n      style: styles.wrapper,\n      children: renderDivWithRenderer(scrollerProps, this.elementRefScroller)\n    });\n\n    holderChildren.push(renderDivWithRenderer(wrapperProps, this.elementRefWrapper));\n\n    if (this.state.trackYVisible || !removeTracksWhenNotUsed && !removeTrackYWhenNotUsed) {\n      var thumbYProps = _assign(_assign({}, propsThumbYProps), {\n        key: \"ScrollbarsCustom-ThumbY\",\n        style: styles.thumbY,\n        elementRef: this.elementRefThumbY,\n        onDrag: this.handleThumbYDrag,\n        onDragEnd: this.handleThumbYDrag,\n        axis: AXIS_DIRECTION.Y\n      });\n\n      var trackYProps = _assign(_assign(_assign(_assign({}, propsTrackYProps), {\n        key: \"ScrollbarsCustom-TrackY\",\n        style: styles.trackY,\n        elementRef: this.elementRefTrackY,\n        onClick: this.handleTrackYClick\n      }), (disableTracksMousewheelScrolling || disableTrackYMousewheelScrolling) && {\n        onWheel: this.handleTrackYMouseWheel\n      }), {\n        axis: AXIS_DIRECTION.Y\n      });\n\n      trackYProps.children = createElement(ScrollbarThumb, _assign({}, thumbYProps));\n      holderChildren.push(createElement(ScrollbarTrack, _assign({}, trackYProps)));\n    } else {\n      this.elementRefTrackY(null);\n      this.elementRefThumbY(null);\n    }\n\n    if (this.state.trackXVisible || !removeTracksWhenNotUsed && !removeTrackXWhenNotUsed) {\n      var thumbXProps = _assign(_assign({}, propsThumbXProps), {\n        key: \"ScrollbarsCustom-ThumbX\",\n        style: styles.thumbX,\n        elementRef: this.elementRefThumbX,\n        onDrag: this.handleThumbXDrag,\n        onDragEnd: this.handleThumbXDrag,\n        axis: AXIS_DIRECTION.X\n      });\n\n      var trackXProps = _assign(_assign(_assign(_assign({}, propsTrackXProps), {\n        key: \"ScrollbarsCustom-TrackX\",\n        style: styles.trackX,\n        elementRef: this.elementRefTrackX,\n        onClick: this.handleTrackXClick\n      }), (disableTracksMousewheelScrolling || disableTrackXMousewheelScrolling) && {\n        onWheel: this.handleTrackXMouseWheel\n      }), {\n        axis: AXIS_DIRECTION.X\n      });\n\n      trackXProps.children = createElement(ScrollbarThumb, _assign({}, thumbXProps));\n      holderChildren.push(createElement(ScrollbarTrack, _assign({}, trackXProps)));\n    } else {\n      this.elementRefTrackX(null);\n      this.elementRefThumbX(null);\n    }\n\n    var holderProps = _assign(_assign({}, propsHolderProps), {\n      className: cnb(\"ScrollbarsCustom\", this.state.trackYVisible && \"trackYVisible\", this.state.trackXVisible && \"trackXVisible\", this.state.isRTL && \"rtl\", propsHolderProps.className),\n      style: styles.holder,\n      children: holderChildren\n    });\n\n    return renderDivWithRenderer(holderProps, this.elementRefHolder);\n  };\n\n  Scrollbar.contextType = ScrollbarContext;\n  Scrollbar.propTypes = {\n    createContext: bool,\n    rtl: bool,\n    native: bool,\n    mobileNative: bool,\n    momentum: bool,\n    noDefaultStyles: bool,\n    disableTracksMousewheelScrolling: bool,\n    disableTrackXMousewheelScrolling: bool,\n    disableTrackYMousewheelScrolling: bool,\n    disableTracksWidthCompensation: bool,\n    disableTrackXWidthCompensation: bool,\n    disableTrackYWidthCompensation: bool,\n    minimalThumbSize: number,\n    maximalThumbSize: number,\n    minimalThumbXSize: number,\n    maximalThumbXSize: number,\n    minimalThumbYSize: number,\n    maximalThumbYSize: number,\n    noScrollX: bool,\n    noScrollY: bool,\n    noScroll: bool,\n    permanentTrackX: bool,\n    permanentTrackY: bool,\n    permanentTracks: bool,\n    translateContentSizesToHolder: bool,\n    translateContentSizeYToHolder: bool,\n    translateContentSizeXToHolder: bool,\n    removeTracksWhenNotUsed: bool,\n    removeTrackYWhenNotUsed: bool,\n    removeTrackXWhenNotUsed: bool,\n    trackClickBehavior: TRACK_CLICK_BEHAVIOR_PROP_TYPE,\n    scrollbarWidth: number,\n    fallbackScrollbarWidth: number,\n    scrollDetectionThreshold: number,\n    scrollTop: number,\n    scrollLeft: number,\n    className: string,\n    wrapperProps: object,\n    contentProps: object,\n    trackXProps: object,\n    trackYProps: object,\n    thumbXProps: object,\n    thumbYProps: object,\n    onUpdate: func,\n    onScroll: func,\n    onScrollStart: func,\n    onScrollStop: func\n  };\n  Scrollbar.defaultProps = {\n    momentum: true,\n    minimalThumbSize: 30,\n    fallbackScrollbarWidth: 20,\n    trackClickBehavior: TRACK_CLICK_BEHAVIOR.JUMP,\n    scrollDetectionThreshold: 100,\n    wrapperProps: {},\n    scrollerProps: {},\n    contentProps: {},\n    trackXProps: {},\n    trackYProps: {},\n    thumbXProps: {},\n    thumbYProps: {}\n  };\n  return Scrollbar;\n}(Component);\n\nexport default Scrollbar;\nexport { Scrollbar, ScrollbarContext };","map":{"version":3,"sources":["C:/Users/WOW/Documents/GitHub/react/react-test/node_modules/react-scrollbars-custom/dist/rsc.esm.js"],"names":["cnb","oneOf","func","bool","number","string","object","createElement","Component","createContext","zoomLevel","DraggableCore","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__spreadArrays","il","r","k","a","j","jl","_typeof","obj","Symbol","iterator","doc","document","isUndef","v","isFun","isNum","renderDivWithRenderer","props","elementRef","renderer","ref","getInnerSize","el","dimension","padding1","padding2","styles","getComputedStyle","boxSizing","Math","max","parseFloat","getInnerHeight","getInnerWidth","uuid","random","toString","calcThumbSize","contentSize","viewportSize","trackSize","minimalSize","maximalSize","thumbSize","min","calcThumbOffset","scroll","calcScrollForThumbOffset","thumbOffset","getScrollbarWidth","force","_cache","setAttribute","body","appendChild","clientWidth","removeChild","shouldReverseRtlScroll","child","scrollLeft","Emittr","maxHandlers","setMaxHandlers","_handlers","_callEventHandlers","emitter","handlers","args","Reflect","idx","count","TypeError","_maxHandlers","getMaxHandlers","emit","name","_i","isArray","on","handler","_addHandler","prependOn","once","_wrapOnceHandler","prependOnce","off","_removeHandler","removeAllHandlers","removeHandlers","eventName","onceState","fired","wrappedHandler","undefined","event","_onceWrapper","bind","prepend","unshift","push","shift","splice","RAFLoop","_this","targets","animationFrameID","_isActive","start","cancelAnimationFrame","requestAnimationFrame","rafCallback","stop","addTarget","target","silent","removeTarget","_unmounted","update","defineProperty","get","enumerable","configurable","Loop","AXIS_DIRECTION","AXIS_DIRECTION_PROP_TYPE","X","Y","TRACK_CLICK_BEHAVIOR","TRACK_CLICK_BEHAVIOR_PROP_TYPE","JUMP","STEP","ScrollbarThumb","_super","initialOffsetX","initialOffsetY","lastDragData","x","y","deltaX","deltaY","lastX","lastY","element","handleOnDragStart","ev","data","handleOnDragStop","global","prevUserSelect","style","userSelect","prevOnSelectStart","onselectstart","selectStartReplacer","onDragStart","classList","add","handleOnDrag","onDrag","resultData","onDragEnd","remove","handleOnMouseDown","preventDefault","stopPropagation","offsetX","offsetY","rect","getBoundingClientRect","clientX","touches","left","clientY","top","componentDidMount","setState","Error","componentWillUnmount","render","_a","axis","className","allowAnyClick","enableUserSelectHack","onMouseDown","onStart","onStop","children","propTypes","ScrollbarTrack","handleClick","button","onClick","offset","addEventListener","removeEventListener","holder","position","width","height","wrapper","bottom","right","content","track","common","overflow","borderRadius","background","thumb","cursor","pageZoomLevel","window","passive","ScrollbarContext","parentScrollbar","Scrollbar","getScrollState","scrollValues","scrollState","clientHeight","contentScrollHeight","contentScrollWidth","scrollHeight","scrollWidth","scrollTop","scrollYBlocked","scrollXBlocked","scrollYPossible","scrollXPossible","trackYVisible","trackXVisible","isRTL","state","noScroll","noScrollY","noScrollX","scrollerElement","permanentTracks","permanentTrackY","permanentTrackX","contentElement","scrollToTop","scrollToLeft","scrollToBottom","scrollToRight","scrollTo","centerAt","direction","prevScrollState","bitmask","native","holderElement","translateContentSizesToHolder","translateContentSizeYToHolder","translateContentSizeXToHolder","trackYElement","display","trackXElement","updaterNative","updaterCustom","forceUpdate","eventEmitter","thumbYElement","trackInnerSize","minimalThumbYSize","minimalThumbSize","maximalThumbYSize","maximalThumbSize","transform","thumbXElement","minimalThumbXSize","maximalThumbXSize","elementRefHolder","elementRefWrapper","wrapperElement","wrapperProps","elementRefScroller","scrollerProps","elementRefContent","contentProps","elementRefTrackX","trackXProps","elementRefTrackY","trackYProps","elementRefThumbX","thumbXProps","elementRefThumbY","thumbYProps","handleTrackXClick","values","_scrollDetection","paddingLeft","trackClickBehavior","handleTrackYClick","paddingTop","handleTrackYMouseWheel","onWheel","disableTracksMousewheelScrolling","disableTrackYMousewheelScrolling","handleTrackXMouseWheel","disableTrackXMousewheelScrolling","handleThumbXDrag","trackRect","paddingRight","handleThumbYDrag","paddingBottom","handleScrollerScroll","_scrollDetectionTO","clearTimeout","setTimeout","_scrollDetectionCallback","scrollDetectionThreshold","rtl","onUpdate","onScroll","onScrollStart","onScrollStop","id","set","calculateStyles","scrollbarWidth","_b","_c","_d","useDefaultStyles","noDefaultStyles","disableTracksWidthCompensation","disableTrackYWidthCompensation","disableTrackXWidthCompensation","padding","minHeight","minWidth","scroller","fallbackScrollbarWidth","momentum","WebkitOverflowScrolling","overflowY","overflowX","marginBottom","Number","trackX","trackY","thumbX","thumbY","mobileNative","componentDidUpdate","prevProps","prevState","removeTracksWhenNotUsed","removeTrackYWhenNotUsed","removeTrackXWhenNotUsed","propsWrapperProps","propsScrollerProps","propsContentProps","propsTrackXProps","propsTrackYProps","propsThumbXProps","propsThumbYProps","propsScrollbarWidth","propsHolderProps","contentProps_1","key","scrollerProps_1","holderChildren","Provider","value","holderProps","contextType","defaultProps"],"mappings":"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","sourcesContent":["import cnb from 'cnbuilder';\nimport { oneOf, func, bool, number, string, object } from 'prop-types';\nimport { createElement, Component, createContext } from 'react';\nimport { zoomLevel } from 'zoom-level';\nimport { DraggableCore } from 'react-draggable';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar doc = (typeof document === \"undefined\" ? \"undefined\" : _typeof(document)) === \"object\" ? document : null;\nvar isUndef = function isUndef(v) {\n  return typeof v === \"undefined\";\n};\nvar isFun = function isFun(v) {\n  return typeof v === \"function\";\n};\nvar isNum = function isNum(v) {\n  return typeof v === \"number\";\n};\n/**\r\n * @description Will return renderer result if presented, div element otherwise.\r\n * If renderer is presented it'll receive `elementRef` function which should be used as HTMLElement's ref.\r\n *\r\n * @param props {ElementPropsWithElementRefAndRenderer}\r\n * @param elementRef {ElementRef}\r\n */\n\nvar renderDivWithRenderer = function renderDivWithRenderer(props, elementRef) {\n  if (isFun(props.renderer)) {\n    props.elementRef = elementRef;\n    var renderer = props.renderer;\n    delete props.renderer;\n    return renderer(props);\n  }\n\n  delete props.elementRef;\n  return createElement(\"div\", __assign({}, props, {\n    ref: elementRef\n  }));\n};\n\nvar getInnerSize = function getInnerSize(el, dimension, padding1, padding2) {\n  var styles = getComputedStyle(el);\n\n  if (styles.boxSizing === \"border-box\") {\n    return Math.max(0, (parseFloat(styles[dimension]) || 0) - (parseFloat(styles[padding1]) || 0) - (parseFloat(styles[padding2]) || 0));\n  }\n\n  return parseFloat(styles[dimension]) || 0;\n};\n/**\r\n * @description Return element's height without padding\r\n */\n\n\nvar getInnerHeight = function getInnerHeight(el) {\n  return getInnerSize(el, \"height\", \"paddingTop\", \"paddingBottom\");\n};\n/**\r\n * @description Return element's width without padding\r\n */\n\nvar getInnerWidth = function getInnerWidth(el) {\n  return getInnerSize(el, \"width\", \"paddingLeft\", \"paddingRight\");\n};\n/**\r\n * @description Return unique UUID v4\r\n */\n\nvar uuid = function uuid() {\n  var uuid = \"\";\n\n  for (var i = 0; i < 32; i++) {\n    if (i === 8 || i === 20) {\n      uuid += \"-\" + (Math.random() * 16 | 0).toString(16);\n    } else if (i === 12) {\n      uuid += \"-4\";\n    } else if (i === 16) {\n      uuid += \"-\" + (Math.random() * 16 | 0 & 3 | 8).toString(16);\n    } else {\n      uuid += (Math.random() * 16 | 0).toString(16);\n    }\n  }\n\n  return uuid;\n};\n/**\r\n * @description Calculate thumb size for given viewport and track parameters\r\n *\r\n * @param {number} contentSize - Scrollable content size\r\n * @param {number} viewportSize - Viewport size\r\n * @param {number} trackSize - Track size thumb can move\r\n * @param {number} minimalSize - Minimal thumb's size\r\n * @param {number} maximalSize - Maximal thumb's size\r\n */\n\nvar calcThumbSize = function calcThumbSize(contentSize, viewportSize, trackSize, minimalSize, maximalSize) {\n  if (viewportSize >= contentSize) {\n    return 0;\n  }\n\n  var thumbSize = viewportSize / contentSize * trackSize;\n  isNum(maximalSize) && (thumbSize = Math.min(maximalSize, thumbSize));\n  isNum(minimalSize) && (thumbSize = Math.max(minimalSize, thumbSize));\n  return thumbSize;\n};\n/**\r\n * @description Calculate thumb offset for given viewport, track and thumb parameters\r\n *\r\n * @param {number} contentSize - Scrollable content size\r\n * @param {number} viewportSize - Viewport size\r\n * @param {number} trackSize - Track size thumb can move\r\n * @param {number} thumbSize - Thumb size\r\n * @param {number} scroll - Scroll value to represent\r\n */\n\nvar calcThumbOffset = function calcThumbOffset(contentSize, viewportSize, trackSize, thumbSize, scroll) {\n  if (!scroll || !thumbSize || viewportSize >= contentSize) {\n    return 0;\n  }\n\n  return (trackSize - thumbSize) * scroll / (contentSize - viewportSize);\n};\n/**\r\n * @description Calculate scroll for given viewport, track and thumb parameters\r\n *\r\n * @param {number} contentSize - Scrollable content size\r\n * @param {number} viewportSize - Viewport size\r\n * @param {number} trackSize - Track size thumb can move\r\n * @param {number} thumbSize - Thumb size\r\n * @param {number} thumbOffset - Thumb's offset representing the scroll\r\n */\n\nvar calcScrollForThumbOffset = function calcScrollForThumbOffset(contentSize, viewportSize, trackSize, thumbSize, thumbOffset) {\n  if (!thumbOffset || !thumbSize || viewportSize >= contentSize) {\n    return 0;\n  }\n\n  return thumbOffset * (contentSize - viewportSize) / (trackSize - thumbSize);\n};\n/**\r\n * @description Returns scrollbar width specific for current environment. Can return undefined if DOM is not ready yet.\r\n */\n\nvar getScrollbarWidth = function getScrollbarWidth(force) {\n  if (force === void 0) {\n    force = false;\n  }\n\n  if (!doc) {\n    return getScrollbarWidth._cache = 0;\n  }\n\n  if (!force && !isUndef(getScrollbarWidth._cache)) {\n    return getScrollbarWidth._cache;\n  }\n\n  var el = doc.createElement(\"div\");\n  el.setAttribute(\"style\", \"position:absolute;width:100px;height:100px;top:-999px;left:-999px;overflow:scroll;\");\n  doc.body.appendChild(el);\n  /* istanbul ignore next */\n\n  if (el.clientWidth === 0) {\n    // Do not even cache this value because there is no calculations. Issue https://github.com/xobotyi/react-scrollbars-custom/issues/123\n    doc.body.removeChild(el);\n    return;\n  }\n\n  getScrollbarWidth._cache = 100 - el.clientWidth;\n  doc.body.removeChild(el);\n  return getScrollbarWidth._cache;\n};\n/**\r\n * @description Detect need of horizontal scroll reverse while RTL.\r\n */\n\nvar shouldReverseRtlScroll = function shouldReverseRtlScroll(force) {\n  if (force === void 0) {\n    force = false;\n  }\n\n  if (!force && !isUndef(shouldReverseRtlScroll._cache)) {\n    return shouldReverseRtlScroll._cache;\n  }\n\n  if (!doc) {\n    return shouldReverseRtlScroll._cache = false;\n  }\n\n  var el = doc.createElement(\"div\");\n  var child = doc.createElement(\"div\");\n  el.appendChild(child);\n  el.setAttribute(\"style\", \"position:absolute;width:100px;height:100px;top:-999px;left:-999px;overflow:scroll;direction:rtl\");\n  child.setAttribute(\"style\", \"width:1000px;height:1000px\");\n  doc.body.appendChild(el);\n  el.scrollLeft = -50;\n  shouldReverseRtlScroll._cache = el.scrollLeft === -50;\n  doc.body.removeChild(el);\n  return shouldReverseRtlScroll._cache;\n};\n\nvar Emittr =\n/** @class */\nfunction () {\n  function Emittr(maxHandlers) {\n    if (maxHandlers === void 0) {\n      maxHandlers = 10;\n    }\n\n    this.setMaxHandlers(maxHandlers);\n    this._handlers = Object.create(null);\n  }\n\n  Emittr._callEventHandlers = function (emitter, handlers, args) {\n    if (!handlers.length) {\n      return;\n    }\n\n    if (handlers.length === 1) {\n      Reflect.apply(handlers[0], emitter, args);\n      return;\n    }\n\n    handlers = __spreadArrays(handlers);\n    var idx;\n\n    for (idx = 0; idx < handlers.length; idx++) {\n      Reflect.apply(handlers[idx], emitter, args);\n    }\n  };\n\n  Emittr.prototype.setMaxHandlers = function (count) {\n    if (!isNum(count) || count <= 0) {\n      throw new TypeError(\"Expected maxHandlers to be a positive number, got '\" + count + \"' of type \" + _typeof(count));\n    }\n\n    this._maxHandlers = count;\n    return this;\n  };\n\n  Emittr.prototype.getMaxHandlers = function () {\n    return this._maxHandlers;\n  };\n\n  Emittr.prototype.emit = function (name) {\n    var args = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n\n    if (_typeof(this._handlers[name]) !== \"object\" || !Array.isArray(this._handlers[name])) {\n      return false;\n    }\n\n    Emittr._callEventHandlers(this, this._handlers[name], args);\n\n    return true;\n  };\n\n  Emittr.prototype.on = function (name, handler) {\n    Emittr._addHandler(this, name, handler);\n\n    return this;\n  };\n\n  Emittr.prototype.prependOn = function (name, handler) {\n    Emittr._addHandler(this, name, handler, true);\n\n    return this;\n  };\n\n  Emittr.prototype.once = function (name, handler) {\n    if (!isFun(handler)) {\n      throw new TypeError(\"Expected event handler to be a function, got \" + _typeof(handler));\n    }\n\n    Emittr._addHandler(this, name, this._wrapOnceHandler(name, handler));\n\n    return this;\n  };\n\n  Emittr.prototype.prependOnce = function (name, handler) {\n    if (!isFun(handler)) {\n      throw new TypeError(\"Expected event handler to be a function, got \" + _typeof(handler));\n    }\n\n    Emittr._addHandler(this, name, this._wrapOnceHandler(name, handler), true);\n\n    return this;\n  };\n\n  Emittr.prototype.off = function (name, handler) {\n    Emittr._removeHandler(this, name, handler);\n\n    return this;\n  };\n\n  Emittr.prototype.removeAllHandlers = function () {\n    var handlers = this._handlers;\n    this._handlers = Object.create(null);\n    var removeHandlers = handlers[\"removeHandler\"];\n    delete handlers[\"removeHandler\"];\n    var idx, eventName;\n\n    for (eventName in handlers) {\n      for (idx = handlers[eventName].length - 1; idx >= 0; idx--) {\n        Emittr._callEventHandlers(this, removeHandlers, [eventName, handlers[eventName][idx].handler || handlers[eventName][idx]]);\n      }\n    }\n\n    return this;\n  };\n\n  Emittr.prototype._wrapOnceHandler = function (name, handler) {\n    var onceState = {\n      fired: false,\n      handler: handler,\n      wrappedHandler: undefined,\n      emitter: this,\n      event: name\n    };\n\n    var wrappedHandler = Emittr._onceWrapper.bind(onceState);\n\n    onceState.wrappedHandler = wrappedHandler;\n    wrappedHandler.handler = handler;\n    wrappedHandler.event = name;\n    return wrappedHandler;\n  };\n\n  Emittr._addHandler = function (emitter, name, handler, prepend) {\n    if (prepend === void 0) {\n      prepend = false;\n    }\n\n    if (!isFun(handler)) {\n      throw new TypeError(\"Expected event handler to be a function, got \" + _typeof(handler));\n    }\n\n    emitter._handlers[name] = emitter._handlers[name] || [];\n    emitter.emit(\"addHandler\", name, handler);\n    prepend ? emitter._handlers[name].unshift(handler) : emitter._handlers[name].push(handler);\n    return emitter;\n  };\n\n  Emittr._onceWrapper = function _onceWrapper() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    if (!this.fired) {\n      this.fired = true;\n      this.emitter.off(this.event, this.wrappedHandler);\n      Reflect.apply(this.handler, this.emitter, args);\n    }\n  };\n\n  Emittr._removeHandler = function (emitter, name, handler) {\n    if (!isFun(handler)) {\n      throw new TypeError(\"Expected event handler to be a function, got \" + _typeof(handler));\n    }\n\n    if (isUndef(emitter._handlers[name]) || !emitter._handlers[name].length) {\n      return emitter;\n    }\n\n    var idx = -1;\n\n    if (emitter._handlers[name].length === 1) {\n      if (emitter._handlers[name][0] === handler || emitter._handlers[name][0].handler === handler) {\n        idx = 0;\n        handler = emitter._handlers[name][0].handler || emitter._handlers[name][0];\n      }\n    } else {\n      for (idx = emitter._handlers[name].length - 1; idx >= 0; idx--) {\n        if (emitter._handlers[name][idx] === handler || emitter._handlers[name][idx].handler === handler) {\n          handler = emitter._handlers[name][idx].handler || emitter._handlers[name][idx];\n          break;\n        }\n      }\n    }\n\n    if (idx === -1) {\n      return emitter;\n    }\n\n    idx === 0 ? emitter._handlers[name].shift() : emitter._handlers[name].splice(idx, 1);\n    emitter.emit(\"removeHandler\", name, handler);\n    return emitter;\n  };\n\n  return Emittr;\n}();\n\nvar RAFLoop =\n/** @class */\nfunction () {\n  function RAFLoop() {\n    var _this = this;\n    /**\r\n     * @description List of targets to update\r\n     */\n\n\n    this.targets = [];\n    /**\r\n     * @description ID of requested animation frame. Valuable only if loop is active and has items to iterate.\r\n     */\n\n    this.animationFrameID = 0;\n    /**\r\n     * @description Loop's state.\r\n     */\n\n    this._isActive = false;\n    /**\r\n     * @description Start the loop if it wasn't yet.\r\n     */\n\n    this.start = function () {\n      if (!_this._isActive && _this.targets.length) {\n        _this._isActive = true;\n        _this.animationFrameID && cancelAnimationFrame(_this.animationFrameID);\n        _this.animationFrameID = requestAnimationFrame(_this.rafCallback);\n      }\n\n      return _this;\n    };\n    /**\r\n     * @description Stop the loop if is was active.\r\n     */\n\n\n    this.stop = function () {\n      if (_this._isActive) {\n        _this._isActive = false;\n        _this.animationFrameID && cancelAnimationFrame(_this.animationFrameID);\n        _this.animationFrameID = 0;\n      }\n\n      return _this;\n    };\n    /**\r\n     * @description Add target to the iteration list if it's not there.\r\n     */\n\n\n    this.addTarget = function (target, silent) {\n      if (silent === void 0) {\n        silent = false;\n      }\n\n      if (_this.targets.indexOf(target) === -1) {\n        _this.targets.push(target);\n\n        _this.targets.length === 1 && !silent && _this.start();\n      }\n\n      return _this;\n    };\n    /**\r\n     * @description Remove target from iteration list if it was there.\r\n     */\n\n\n    this.removeTarget = function (target) {\n      var idx = _this.targets.indexOf(target);\n\n      if (idx !== -1) {\n        _this.targets.splice(idx, 1);\n\n        _this.targets.length === 0 && _this.stop();\n      }\n\n      return _this;\n    };\n    /**\r\n     * @description Callback that called each animation frame.\r\n     */\n\n\n    this.rafCallback = function () {\n      if (!_this._isActive) {\n        return 0;\n      }\n\n      for (var i = 0; i < _this.targets.length; i++) {\n        !_this.targets[i]._unmounted && _this.targets[i].update();\n      }\n\n      return _this.animationFrameID = requestAnimationFrame(_this.rafCallback);\n    };\n  }\n\n  Object.defineProperty(RAFLoop.prototype, \"isActive\", {\n    /**\r\n     * @description Loop's state.\r\n     */\n    get: function get() {\n      return this._isActive;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return RAFLoop;\n}();\nvar Loop = new RAFLoop();\n\nvar AXIS_DIRECTION;\n\n(function (AXIS_DIRECTION) {\n  AXIS_DIRECTION[\"X\"] = \"x\";\n  AXIS_DIRECTION[\"Y\"] = \"y\";\n})(AXIS_DIRECTION || (AXIS_DIRECTION = {}));\n\nvar AXIS_DIRECTION_PROP_TYPE = oneOf([AXIS_DIRECTION.X, AXIS_DIRECTION.Y]);\nvar TRACK_CLICK_BEHAVIOR;\n\n(function (TRACK_CLICK_BEHAVIOR) {\n  TRACK_CLICK_BEHAVIOR[\"JUMP\"] = \"jump\";\n  TRACK_CLICK_BEHAVIOR[\"STEP\"] = \"step\";\n})(TRACK_CLICK_BEHAVIOR || (TRACK_CLICK_BEHAVIOR = {}));\n\nvar TRACK_CLICK_BEHAVIOR_PROP_TYPE = oneOf([TRACK_CLICK_BEHAVIOR.JUMP, TRACK_CLICK_BEHAVIOR.STEP]);\n\nvar ScrollbarThumb =\n/** @class */\nfunction (_super) {\n  __extends(ScrollbarThumb, _super);\n\n  function ScrollbarThumb() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.initialOffsetX = 0;\n    _this.initialOffsetY = 0;\n    _this.lastDragData = {\n      x: 0,\n      y: 0,\n      deltaX: 0,\n      deltaY: 0,\n      lastX: 0,\n      lastY: 0\n    };\n    _this.element = null;\n\n    _this.handleOnDragStart = function (ev, data) {\n      if (!_this.element) {\n        _this.handleOnDragStop(ev, data);\n\n        return;\n      }\n\n      if (global.document) {\n        _this.prevUserSelect = global.document.body.style.userSelect;\n        global.document.body.style.userSelect = \"none\";\n        _this.prevOnSelectStart = global.document.onselectstart;\n        global.document.onselectstart = ScrollbarThumb.selectStartReplacer;\n      }\n\n      _this.props.onDragStart && _this.props.onDragStart(_this.lastDragData = {\n        x: data.x - _this.initialOffsetX,\n        y: data.y - _this.initialOffsetY,\n        lastX: data.lastX - _this.initialOffsetX,\n        lastY: data.lastY - _this.initialOffsetY,\n        deltaX: data.deltaX,\n        deltaY: data.deltaY\n      });\n\n      _this.element.classList.add(\"dragging\");\n    };\n\n    _this.handleOnDrag = function (ev, data) {\n      if (!_this.element) {\n        _this.handleOnDragStop(ev, data);\n\n        return;\n      }\n\n      _this.props.onDrag && _this.props.onDrag(_this.lastDragData = {\n        x: data.x - _this.initialOffsetX,\n        y: data.y - _this.initialOffsetY,\n        lastX: data.lastX - _this.initialOffsetX,\n        lastY: data.lastY - _this.initialOffsetY,\n        deltaX: data.deltaX,\n        deltaY: data.deltaY\n      });\n    };\n\n    _this.handleOnDragStop = function (ev, data) {\n      var resultData = data ? {\n        x: data.x - _this.initialOffsetX,\n        y: data.y - _this.initialOffsetY,\n        lastX: data.lastX - _this.initialOffsetX,\n        lastY: data.lastY - _this.initialOffsetY,\n        deltaX: data.deltaX,\n        deltaY: data.deltaY\n      } : _this.lastDragData;\n      _this.props.onDragEnd && _this.props.onDragEnd(resultData);\n      _this.element && _this.element.classList.remove(\"dragging\");\n\n      if (global.document) {\n        global.document.body.style.userSelect = _this.prevUserSelect;\n        global.document.onselectstart = _this.prevOnSelectStart;\n        _this.prevOnSelectStart = null;\n      }\n\n      _this.initialOffsetX = 0;\n      _this.initialOffsetY = 0;\n      _this.lastDragData = {\n        x: 0,\n        y: 0,\n        deltaX: 0,\n        deltaY: 0,\n        lastX: 0,\n        lastY: 0\n      };\n    };\n\n    _this.handleOnMouseDown = function (ev) {\n      if (!_this.element) {\n        return;\n      }\n\n      ev.preventDefault();\n      ev.stopPropagation();\n\n      if (!isUndef(ev.offsetX)) {\n        /* istanbul ignore next */\n        _this.initialOffsetX = ev.offsetX;\n        /* istanbul ignore next */\n\n        _this.initialOffsetY = ev.offsetY;\n      } else {\n        var rect = _this.element.getBoundingClientRect();\n\n        _this.initialOffsetX = (ev.clientX || ev.touches[0].clientX) - rect.left;\n        _this.initialOffsetY = (ev.clientY || ev.touches[0].clientY) - rect.top;\n      }\n    };\n\n    _this.elementRef = function (ref) {\n      isFun(_this.props.elementRef) && _this.props.elementRef(ref);\n      _this.element = ref;\n    };\n\n    return _this;\n  }\n\n  ScrollbarThumb.prototype.componentDidMount = function () {\n    if (!this.element) {\n      this.setState(function () {\n        throw new Error(\"Element was not created. Possibly you haven't provided HTMLDivElement to renderer's `elementRef` function.\");\n      });\n      return;\n    }\n  };\n\n  ScrollbarThumb.prototype.componentWillUnmount = function () {\n    this.handleOnDragStop();\n    this.elementRef(null);\n  };\n\n  ScrollbarThumb.prototype.render = function () {\n    var _a = this.props,\n        elementRef = _a.elementRef,\n        axis = _a.axis,\n        onDrag = _a.onDrag,\n        onDragEnd = _a.onDragEnd,\n        onDragStart = _a.onDragStart,\n        props = __rest(_a, [\"elementRef\", \"axis\", \"onDrag\", \"onDragEnd\", \"onDragStart\"]);\n\n    props.className = cnb(\"ScrollbarsCustom-Thumb\", axis === AXIS_DIRECTION.X ? \"ScrollbarsCustom-ThumbX\" : \"ScrollbarsCustom-ThumbY\", props.className);\n\n    if (props.renderer) {\n      props.axis = axis;\n    }\n\n    return createElement(DraggableCore, {\n      allowAnyClick: false,\n      enableUserSelectHack: false,\n      onMouseDown: this.handleOnMouseDown,\n      onDrag: this.handleOnDrag,\n      onStart: this.handleOnDragStart,\n      onStop: this.handleOnDragStop,\n      children: renderDivWithRenderer(props, this.elementRef)\n    });\n  };\n\n  ScrollbarThumb.propTypes = {\n    axis: AXIS_DIRECTION_PROP_TYPE,\n    onDrag: func,\n    onDragStart: func,\n    onDragEnd: func,\n    elementRef: func,\n    renderer: func\n  };\n\n  ScrollbarThumb.selectStartReplacer = function () {\n    return false;\n  };\n\n  return ScrollbarThumb;\n}(Component);\n\nvar ScrollbarTrack =\n/** @class */\nfunction (_super) {\n  __extends(ScrollbarTrack, _super);\n\n  function ScrollbarTrack() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.element = null;\n\n    _this.elementRef = function (ref) {\n      isFun(_this.props.elementRef) && _this.props.elementRef(ref);\n      _this.element = ref;\n    };\n\n    _this.handleClick = function (ev) {\n      if (!ev || !_this.element || ev.button !== 0) {\n        return;\n      }\n\n      if (isFun(_this.props.onClick) && ev.target === _this.element) {\n        if (!isUndef(ev.offsetX)) {\n          _this.props.onClick(ev, {\n            axis: _this.props.axis,\n            offset: _this.props.axis === AXIS_DIRECTION.X ? ev.offsetX : ev.offsetY\n          });\n        } else {\n          // support for old browsers\n\n          /* istanbul ignore next */\n          var rect = _this.element.getBoundingClientRect();\n          /* istanbul ignore next */\n\n\n          _this.props.onClick(ev, {\n            axis: _this.props.axis,\n            offset: _this.props.axis === AXIS_DIRECTION.X ? (ev.clientX || ev.touches[0].clientX) - rect.left : (ev.clientY || ev.touches[0].clientY) - rect.top\n          });\n        }\n      }\n\n      return true;\n    };\n\n    return _this;\n  }\n\n  ScrollbarTrack.prototype.componentDidMount = function () {\n    if (!this.element) {\n      this.setState(function () {\n        throw new Error(\"Element was not created. Possibly you haven't provided HTMLDivElement to renderer's `elementRef` function.\");\n      });\n      return;\n    }\n\n    this.element.addEventListener(\"click\", this.handleClick);\n  };\n\n  ScrollbarTrack.prototype.componentWillUnmount = function () {\n    if (this.element) {\n      this.element.removeEventListener(\"click\", this.handleClick);\n      this.element = null;\n      this.elementRef(null);\n    }\n  };\n\n  ScrollbarTrack.prototype.render = function () {\n    var _a = this.props,\n        elementRef = _a.elementRef,\n        axis = _a.axis,\n        onClick = _a.onClick,\n        props = __rest(_a, [\"elementRef\", \"axis\", \"onClick\"]);\n\n    props.className = cnb(\"ScrollbarsCustom-Track\", axis === AXIS_DIRECTION.X ? \"ScrollbarsCustom-TrackX\" : \"ScrollbarsCustom-TrackY\", props.className);\n\n    if (props.renderer) {\n      props.axis = axis;\n    }\n\n    return renderDivWithRenderer(props, this.elementRef);\n  };\n\n  ScrollbarTrack.propTypes = {\n    axis: AXIS_DIRECTION_PROP_TYPE,\n    onClick: func,\n    elementRef: func,\n    renderer: func\n  };\n  return ScrollbarTrack;\n}(Component);\n\nvar style = {\n  holder: {\n    position: \"relative\",\n    width: \"100%\",\n    height: \"100%\"\n  },\n  wrapper: {\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0\n  },\n  content: {\n    boxSizing: \"border-box\"\n  },\n  track: {\n    common: {\n      position: \"absolute\",\n      overflow: \"hidden\",\n      borderRadius: 4,\n      background: \"rgba(0,0,0,.1)\",\n      userSelect: \"none\"\n    },\n    x: {\n      height: 10,\n      width: \"calc(100% - 20px)\",\n      bottom: 0,\n      left: 10\n    },\n    y: {\n      width: 10,\n      height: \"calc(100% - 20px)\",\n      top: 10\n    }\n  },\n  thumb: {\n    common: {\n      cursor: \"pointer\",\n      borderRadius: 4,\n      background: \"rgba(0,0,0,.4)\"\n    },\n    x: {\n      height: \"100%\",\n      width: 0\n    },\n    y: {\n      width: \"100%\",\n      height: 0\n    }\n  }\n};\n\nvar pageZoomLevel = global.window ? zoomLevel() : 1;\nglobal.window && global.window.addEventListener(\"resize\", function () {\n  return pageZoomLevel = zoomLevel();\n}, {\n  passive: true\n});\nvar ScrollbarContext = createContext({\n  parentScrollbar: null\n});\n\nvar Scrollbar =\n/** @class */\nfunction (_super) {\n  __extends(Scrollbar, _super);\n\n  function Scrollbar(props) {\n    var _this = _super.call(this, props) || this;\n    /**\r\n     * @description Get current scroll-related values.<br/>\r\n     * If <i>force</i> if truthy - will recalculate them instead of returning cached values.\r\n     *\r\n     * @return ScrollState\r\n     */\n\n\n    _this.getScrollState = function (force) {\n      if (force === void 0) {\n        force = false;\n      }\n\n      if (_this.scrollValues && !force) {\n        return __assign({}, _this.scrollValues);\n      }\n\n      var scrollState = {\n        clientHeight: 0,\n        clientWidth: 0,\n        contentScrollHeight: 0,\n        contentScrollWidth: 0,\n        scrollHeight: 0,\n        scrollWidth: 0,\n        scrollTop: 0,\n        scrollLeft: 0,\n        scrollYBlocked: false,\n        scrollXBlocked: false,\n        scrollYPossible: false,\n        scrollXPossible: false,\n        trackYVisible: false,\n        trackXVisible: false,\n        zoomLevel: pageZoomLevel * 1,\n        isRTL: undefined\n      };\n      var props = _this.props;\n      scrollState.isRTL = _this.state.isRTL;\n      scrollState.scrollYBlocked = props.noScroll || props.noScrollY;\n      scrollState.scrollXBlocked = props.noScroll || props.noScrollX;\n\n      if (_this.scrollerElement) {\n        scrollState.clientHeight = _this.scrollerElement.clientHeight;\n        scrollState.clientWidth = _this.scrollerElement.clientWidth;\n        scrollState.scrollHeight = _this.scrollerElement.scrollHeight;\n        scrollState.scrollWidth = _this.scrollerElement.scrollWidth;\n        scrollState.scrollTop = _this.scrollerElement.scrollTop;\n        scrollState.scrollLeft = _this.scrollerElement.scrollLeft;\n        scrollState.scrollYPossible = !scrollState.scrollYBlocked && scrollState.scrollHeight > scrollState.clientHeight;\n        scrollState.scrollXPossible = !scrollState.scrollXBlocked && scrollState.scrollWidth > scrollState.clientWidth;\n        scrollState.trackYVisible = scrollState.scrollYPossible || props.permanentTracks || props.permanentTrackY;\n        scrollState.trackXVisible = scrollState.scrollXPossible || props.permanentTracks || props.permanentTrackX;\n      }\n\n      if (_this.contentElement) {\n        scrollState.contentScrollHeight = _this.contentElement.scrollHeight;\n        scrollState.contentScrollWidth = _this.contentElement.scrollWidth;\n      }\n\n      return scrollState;\n    };\n    /**\r\n     * @description Scroll to top border\r\n     */\n\n\n    _this.scrollToTop = function () {\n      if (_this.scrollerElement) {\n        _this.scrollerElement.scrollTop = 0;\n      }\n\n      return _this;\n    };\n    /**\r\n     * @description Scroll to left border\r\n     */\n\n\n    _this.scrollToLeft = function () {\n      if (_this.scrollerElement) {\n        _this.scrollerElement.scrollLeft = 0;\n      }\n\n      return _this;\n    };\n    /**\r\n     * @description Scroll to bottom border\r\n     */\n\n\n    _this.scrollToBottom = function () {\n      if (_this.scrollerElement) {\n        _this.scrollerElement.scrollTop = _this.scrollerElement.scrollHeight - _this.scrollerElement.clientHeight;\n      }\n\n      return _this;\n    };\n    /**\r\n     * @description Scroll to right border\r\n     */\n\n\n    _this.scrollToRight = function () {\n      if (_this.scrollerElement) {\n        _this.scrollerElement.scrollLeft = _this.scrollerElement.scrollWidth - _this.scrollerElement.clientWidth;\n      }\n\n      return _this;\n    };\n    /**\r\n     * @description Set the scrolls at given coordinates.<br/>\r\n     * If coordinate is undefined - current scroll value will persist.\r\n     */\n\n\n    _this.scrollTo = function (x, y) {\n      if (_this.scrollerElement) {\n        isNum(x) && (_this.scrollerElement.scrollLeft = x);\n        isNum(y) && (_this.scrollerElement.scrollTop = y);\n      }\n\n      return _this;\n    };\n    /**\r\n     * @description Center the viewport at given coordinates.<br/>\r\n     * If coordinate is undefined - current scroll value will persist.\r\n     */\n\n\n    _this.centerAt = function (x, y) {\n      if (_this.scrollerElement) {\n        isNum(x) && (_this.scrollerElement.scrollLeft = x - _this.scrollerElement.clientWidth / 2);\n        isNum(y) && (_this.scrollerElement.scrollTop = y - _this.scrollerElement.clientHeight / 2);\n      }\n\n      return _this;\n    };\n\n    _this.update = function (force) {\n      if (force === void 0) {\n        force = false;\n      }\n\n      if (!_this.scrollerElement) {\n        return;\n      } // autodetect direction if not defined\n\n\n      if (isUndef(_this.state.isRTL)) {\n        _this.setState({\n          isRTL: getComputedStyle(_this.scrollerElement).direction === \"rtl\"\n        });\n\n        return _this.getScrollState();\n      }\n\n      var scrollState = _this.getScrollState(true);\n\n      var prevScrollState = __assign({}, _this.scrollValues);\n\n      var props = _this.props;\n      var bitmask = 0;\n\n      if (!force) {\n        prevScrollState.clientHeight !== scrollState.clientHeight && (bitmask |= 1 << 0);\n        prevScrollState.clientWidth !== scrollState.clientWidth && (bitmask |= 1 << 1);\n        prevScrollState.scrollHeight !== scrollState.scrollHeight && (bitmask |= 1 << 2);\n        prevScrollState.scrollWidth !== scrollState.scrollWidth && (bitmask |= 1 << 3);\n        prevScrollState.scrollTop !== scrollState.scrollTop && (bitmask |= 1 << 4);\n        prevScrollState.scrollLeft !== scrollState.scrollLeft && (bitmask |= 1 << 5);\n        prevScrollState.scrollYBlocked !== scrollState.scrollYBlocked && (bitmask |= 1 << 6);\n        prevScrollState.scrollXBlocked !== scrollState.scrollXBlocked && (bitmask |= 1 << 7);\n        prevScrollState.scrollYPossible !== scrollState.scrollYPossible && (bitmask |= 1 << 8);\n        prevScrollState.scrollXPossible !== scrollState.scrollXPossible && (bitmask |= 1 << 9);\n        prevScrollState.trackYVisible !== scrollState.trackYVisible && (bitmask |= 1 << 10);\n        prevScrollState.trackXVisible !== scrollState.trackXVisible && (bitmask |= 1 << 11);\n        prevScrollState.isRTL !== scrollState.isRTL && (bitmask |= 1 << 12);\n        prevScrollState.contentScrollHeight !== scrollState.contentScrollHeight && (bitmask |= 1 << 13);\n        prevScrollState.contentScrollWidth !== scrollState.contentScrollWidth && (bitmask |= 1 << 14);\n        prevScrollState.zoomLevel !== scrollState.zoomLevel && (bitmask |= 1 << 15); // if not forced and nothing has changed - skip this update\n\n        if (bitmask === 0) {\n          return prevScrollState;\n        }\n      } else {\n        bitmask = 32767;\n      }\n\n      if (!props.native && _this.holderElement) {\n        if (bitmask & 1 << 13 && (props.translateContentSizesToHolder || props.translateContentSizeYToHolder)) {\n          _this.holderElement.style.height = scrollState.contentScrollHeight + \"px\";\n        }\n\n        if (bitmask & 1 << 14 && (props.translateContentSizesToHolder || props.translateContentSizeXToHolder)) {\n          _this.holderElement.style.width = scrollState.contentScrollWidth + \"px\";\n        }\n\n        if (props.translateContentSizesToHolder || props.translateContentSizeYToHolder || props.translateContentSizeXToHolder) {\n          if (!scrollState.clientHeight && scrollState.contentScrollHeight || !scrollState.clientWidth && scrollState.contentScrollWidth) {\n            return;\n          }\n        }\n      } // if scrollbars visibility has changed\n\n\n      if (bitmask & 1 << 10 || bitmask & 1 << 11) {\n        prevScrollState.scrollYBlocked = scrollState.scrollYBlocked;\n        prevScrollState.scrollXBlocked = scrollState.scrollXBlocked;\n        prevScrollState.scrollYPossible = scrollState.scrollYPossible;\n        prevScrollState.scrollXPossible = scrollState.scrollXPossible;\n\n        if (_this.trackYElement && bitmask & 1 << 10) {\n          _this.trackYElement.style.display = scrollState.trackYVisible ? null : \"none\";\n        }\n\n        if (_this.trackXElement && bitmask & 1 << 11) {\n          _this.trackXElement.style.display = scrollState.trackXVisible ? null : \"none\";\n        }\n\n        _this.scrollValues = prevScrollState;\n\n        _this.setState({\n          trackYVisible: _this.scrollValues.trackYVisible = scrollState.trackYVisible,\n          trackXVisible: _this.scrollValues.trackXVisible = scrollState.trackXVisible\n        });\n\n        return;\n      }\n\n      (props.native ? _this.updaterNative : _this.updaterCustom)(bitmask, scrollState);\n      _this.scrollValues = scrollState;\n\n      if (!props.native && bitmask & 1 << 15) {\n        getScrollbarWidth(true);\n\n        _this.forceUpdate();\n      }\n\n      _this.eventEmitter.emit(\"update\", __assign({}, scrollState), prevScrollState);\n\n      (bitmask & 1 << 4 || bitmask & 1 << 5) && _this.eventEmitter.emit(\"scroll\", __assign({}, scrollState), prevScrollState);\n      return _this.scrollValues;\n    };\n\n    _this.updaterNative = function () {\n      // just for future\n      return true;\n    };\n\n    _this.updaterCustom = function (bitmask, scrollValues) {\n      var props = _this.props;\n\n      if (_this.trackYElement) {\n        if (_this.thumbYElement && (bitmask & 1 << 0 || bitmask & 1 << 2 || bitmask & 1 << 4 || bitmask & 1 << 6 || bitmask & 1 << 8)) {\n          if (scrollValues.scrollYPossible) {\n            var trackInnerSize = getInnerHeight(_this.trackYElement);\n            var thumbSize = calcThumbSize(scrollValues.scrollHeight, scrollValues.clientHeight, trackInnerSize, props.minimalThumbYSize || props.minimalThumbSize, props.maximalThumbYSize || props.maximalThumbSize);\n            var thumbOffset = calcThumbOffset(scrollValues.scrollHeight, scrollValues.clientHeight, trackInnerSize, thumbSize, scrollValues.scrollTop);\n            _this.thumbYElement.style.transform = \"translateY(\" + thumbOffset + \"px)\";\n            _this.thumbYElement.style.height = thumbSize + \"px\";\n            _this.thumbYElement.style.display = \"\";\n          } else {\n            _this.thumbYElement.style.transform = \"\";\n            _this.thumbYElement.style.height = \"0px\";\n            _this.thumbYElement.style.display = \"none\";\n          }\n        }\n      }\n\n      if (_this.trackXElement) {\n        if (_this.thumbXElement && (bitmask & 1 << 1 || bitmask & 1 << 3 || bitmask & 1 << 5 || bitmask & 1 << 7 || bitmask & 1 << 9 || bitmask & 1 << 12)) {\n          if (scrollValues.scrollXPossible) {\n            var trackInnerSize = getInnerWidth(_this.trackXElement);\n            var thumbSize = calcThumbSize(scrollValues.scrollWidth, scrollValues.clientWidth, trackInnerSize, props.minimalThumbXSize || props.minimalThumbSize, props.maximalThumbXSize || props.maximalThumbSize);\n            var thumbOffset = calcThumbOffset(scrollValues.scrollWidth, scrollValues.clientWidth, trackInnerSize, thumbSize, scrollValues.scrollLeft);\n\n            if (_this.state.isRTL && shouldReverseRtlScroll()) {\n              thumbOffset += trackInnerSize - thumbSize;\n            }\n\n            _this.thumbXElement.style.transform = \"translateX(\" + thumbOffset + \"px)\";\n            _this.thumbXElement.style.width = thumbSize + \"px\";\n            _this.thumbXElement.style.display = \"\";\n          } else {\n            _this.thumbXElement.style.transform = \"\";\n            _this.thumbXElement.style.width = \"0px\";\n            _this.thumbXElement.style.display = \"none\";\n          }\n        }\n      }\n\n      return true;\n    };\n\n    _this.elementRefHolder = function (ref) {\n      _this.holderElement = ref;\n      isFun(_this.props.elementRef) && _this.props.elementRef(ref);\n    };\n\n    _this.elementRefWrapper = function (ref) {\n      _this.wrapperElement = ref;\n      isFun(_this.props.wrapperProps.elementRef) && _this.props.wrapperProps.elementRef(ref);\n    };\n\n    _this.elementRefScroller = function (ref) {\n      _this.scrollerElement = ref;\n      isFun(_this.props.scrollerProps.elementRef) && _this.props.scrollerProps.elementRef(ref);\n    };\n\n    _this.elementRefContent = function (ref) {\n      _this.contentElement = ref;\n      isFun(_this.props.contentProps.elementRef) && _this.props.contentProps.elementRef(ref);\n    };\n\n    _this.elementRefTrackX = function (ref) {\n      _this.trackXElement = ref;\n      isFun(_this.props.trackXProps.elementRef) && _this.props.trackXProps.elementRef(ref);\n    };\n\n    _this.elementRefTrackY = function (ref) {\n      _this.trackYElement = ref;\n      isFun(_this.props.trackYProps.elementRef) && _this.props.trackYProps.elementRef(ref);\n    };\n\n    _this.elementRefThumbX = function (ref) {\n      _this.thumbXElement = ref;\n      isFun(_this.props.thumbXProps.elementRef) && _this.props.thumbXProps.elementRef(ref);\n    };\n\n    _this.elementRefThumbY = function (ref) {\n      _this.thumbYElement = ref;\n      isFun(_this.props.thumbYProps.elementRef) && _this.props.thumbYProps.elementRef(ref);\n    };\n\n    _this.handleTrackXClick = function (ev, values) {\n      _this.props.trackXProps.onClick && _this.props.trackXProps.onClick(ev, values);\n\n      if (!_this.scrollerElement || !_this.trackXElement || !_this.thumbXElement || !_this.scrollValues || !_this.scrollValues.scrollXPossible) {\n        return;\n      }\n\n      _this._scrollDetection();\n\n      var thumbSize = _this.thumbXElement.clientWidth;\n      var trackInnerSize = getInnerWidth(_this.trackXElement);\n      var thumbOffset = (_this.scrollValues.isRTL && shouldReverseRtlScroll() ? values.offset + thumbSize / 2 - trackInnerSize : values.offset - thumbSize / 2) - ( //@ts-ignore\n      parseFloat(getComputedStyle(_this.trackXElement).paddingLeft) || 0);\n      var target = calcScrollForThumbOffset(_this.scrollValues.scrollWidth, _this.scrollValues.clientWidth, trackInnerSize, thumbSize, thumbOffset);\n\n      if (_this.props.trackClickBehavior === TRACK_CLICK_BEHAVIOR.STEP) {\n        target = (_this.scrollValues.isRTL ? _this.scrollValues.scrollLeft > target : _this.scrollValues.scrollLeft < target) ? _this.scrollValues.scrollLeft + _this.scrollValues.clientWidth : _this.scrollValues.scrollLeft - _this.scrollValues.clientWidth;\n      }\n\n      _this.scrollerElement.scrollLeft = target;\n    };\n\n    _this.handleTrackYClick = function (ev, values) {\n      _this.props.trackYProps.onClick && _this.props.trackYProps.onClick(ev, values);\n\n      if (!_this.scrollerElement || !_this.trackYElement || !_this.thumbYElement || !_this.scrollValues || !_this.scrollValues.scrollYPossible) {\n        return;\n      }\n\n      _this._scrollDetection();\n\n      var thumbSize = _this.thumbYElement.clientHeight;\n      var target = calcScrollForThumbOffset(_this.scrollValues.scrollHeight, _this.scrollValues.clientHeight, getInnerHeight(_this.trackYElement), thumbSize, values.offset - thumbSize / 2) - ( //@ts-ignore\n      parseFloat(getComputedStyle(_this.trackYElement).paddingTop) || 0);\n\n      if (_this.props.trackClickBehavior === TRACK_CLICK_BEHAVIOR.JUMP) {\n        _this.scrollerElement.scrollTop = target;\n      } else {\n        _this.scrollerElement.scrollTop = _this.scrollValues.scrollTop < target ? _this.scrollValues.scrollTop + _this.scrollValues.clientHeight : _this.scrollValues.scrollTop - _this.scrollValues.clientHeight;\n      }\n    };\n\n    _this.handleTrackYMouseWheel = function (ev) {\n      var props = _this.props;\n      props.trackYProps && props.trackYProps.onWheel && props.trackYProps.onWheel(ev);\n\n      if (props.disableTracksMousewheelScrolling || props.disableTrackYMousewheelScrolling) {\n        return;\n      }\n\n      _this._scrollDetection();\n\n      if (!_this.scrollerElement || _this.scrollValues.scrollYBlocked) {\n        return;\n      }\n\n      _this.scrollTop += ev.deltaY;\n    };\n\n    _this.handleTrackXMouseWheel = function (ev) {\n      var props = _this.props;\n      props.trackXProps && props.trackXProps.onWheel && props.trackXProps.onWheel(ev);\n\n      if (props.disableTracksMousewheelScrolling || props.disableTrackXMousewheelScrolling) {\n        return;\n      }\n\n      _this._scrollDetection();\n\n      if (!_this.scrollerElement || _this.scrollValues.scrollXBlocked) {\n        return;\n      }\n\n      _this.scrollLeft += ev.deltaX;\n    };\n\n    _this.handleThumbXDrag = function (data) {\n      if (!_this.trackXElement || !_this.thumbXElement || !_this.scrollerElement || !_this.scrollValues || !_this.scrollValues.scrollXPossible) {\n        return;\n      }\n\n      _this._scrollDetection();\n\n      var trackRect = _this.trackXElement.getBoundingClientRect();\n\n      var styles = getComputedStyle(_this.trackXElement); //@ts-ignore\n\n      var paddingLeft = parseFloat(styles.paddingLeft) || 0; //@ts-ignore\n\n      var paddingRight = parseFloat(styles.paddingRight) || 0;\n      var trackInnerSize = trackRect.width - paddingLeft - paddingRight;\n      var thumbSize = _this.thumbXElement.clientWidth;\n      var offset = _this.scrollValues.isRTL && shouldReverseRtlScroll() ? data.x + thumbSize - trackInnerSize + paddingLeft : data.lastX - paddingLeft;\n      _this.scrollerElement.scrollLeft = calcScrollForThumbOffset(_this.scrollValues.scrollWidth, _this.scrollValues.clientWidth, trackInnerSize, thumbSize, offset);\n    };\n\n    _this.handleThumbYDrag = function (data) {\n      if (!_this.scrollerElement || !_this.trackYElement || !_this.thumbYElement || !_this.scrollValues || !_this.scrollValues.scrollYPossible) {\n        return;\n      }\n\n      _this._scrollDetection();\n\n      var trackRect = _this.trackYElement.getBoundingClientRect();\n\n      var styles = getComputedStyle(_this.trackYElement); //@ts-ignore\n\n      var paddingTop = parseFloat(styles.paddingTop) || 0; //@ts-ignore\n\n      var paddingBottom = parseFloat(styles.paddingBottom) || 0;\n      var trackInnerSize = trackRect.height - paddingTop - paddingBottom;\n      var thumbSize = _this.thumbYElement.clientHeight;\n      var offset = data.y - paddingTop;\n      _this.scrollerElement.scrollTop = calcScrollForThumbOffset(_this.scrollValues.scrollHeight, _this.scrollValues.clientHeight, trackInnerSize, thumbSize, offset);\n    };\n\n    _this.handleScrollerScroll = function () {\n      _this._scrollDetection();\n    };\n\n    _this._scrollDetection = function () {\n      !_this._scrollDetectionTO && _this.eventEmitter.emit(\"scrollStart\", _this.getScrollState());\n      _this._scrollDetectionTO && global.window && global.window.clearTimeout(_this._scrollDetectionTO);\n      _this._scrollDetectionTO = global.window ? global.window.setTimeout(_this._scrollDetectionCallback, _this.props.scrollDetectionThreshold || 0) : null;\n    };\n\n    _this._scrollDetectionCallback = function () {\n      _this._scrollDetectionTO = null;\n\n      _this.eventEmitter.emit(\"scrollStop\", _this.getScrollState());\n    };\n\n    _this.state = {\n      trackXVisible: false,\n      trackYVisible: false,\n      isRTL: props.rtl\n    };\n    _this.scrollValues = _this.getScrollState(true);\n    _this.eventEmitter = new Emittr(15);\n    props.onUpdate && _this.eventEmitter.on(\"update\", props.onUpdate);\n    props.onScroll && _this.eventEmitter.on(\"scroll\", props.onScroll);\n    props.onScrollStart && _this.eventEmitter.on(\"scrollStart\", props.onScrollStart);\n    props.onScrollStop && _this.eventEmitter.on(\"scrollStop\", props.onScrollStop);\n    _this.id = uuid();\n    return _this;\n  }\n\n  Object.defineProperty(Scrollbar.prototype, \"scrollTop\", {\n    get: function get() {\n      if (this.scrollerElement) {\n        return this.scrollerElement.scrollTop;\n      }\n\n      return 0;\n    },\n    set: function set(top) {\n      if (this.scrollerElement) {\n        this.scrollerElement.scrollTop = top;\n        this.update();\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Scrollbar.prototype, \"scrollLeft\", {\n    get: function get() {\n      if (this.scrollerElement) {\n        return this.scrollerElement.scrollLeft;\n      }\n\n      return 0;\n    },\n    set: function set(left) {\n      if (this.scrollerElement) {\n        this.scrollerElement.scrollLeft = left;\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Scrollbar.prototype, \"scrollHeight\", {\n    get: function get() {\n      if (this.scrollerElement) {\n        return this.scrollerElement.scrollHeight;\n      }\n\n      return 0;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Scrollbar.prototype, \"scrollWidth\", {\n    get: function get() {\n      if (this.scrollerElement) {\n        return this.scrollerElement.scrollWidth;\n      }\n\n      return 0;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Scrollbar.prototype, \"clientHeight\", {\n    get: function get() {\n      if (this.scrollerElement) {\n        return this.scrollerElement.clientHeight;\n      }\n\n      return 0;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Scrollbar.prototype, \"clientWidth\", {\n    get: function get() {\n      if (this.scrollerElement) {\n        return this.scrollerElement.clientWidth;\n      }\n\n      return 0;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Scrollbar.calculateStyles = function (props, state, scrollValues, scrollbarWidth) {\n    var _a, _b, _c, _d;\n\n    var useDefaultStyles = !props.noDefaultStyles;\n    return {\n      holder: __assign(__assign(__assign({}, useDefaultStyles && style.holder), {\n        position: \"relative\"\n      }), props.style),\n      wrapper: __assign(__assign(__assign({}, useDefaultStyles && __assign(__assign(__assign({}, style.wrapper), !props.disableTracksWidthCompensation && !props.disableTrackYWidthCompensation && (_a = {}, _a[state.isRTL ? \"left\" : \"right\"] = state.trackYVisible ? 10 : 0, _a)), !props.disableTracksWidthCompensation && !props.disableTrackXWidthCompensation && {\n        bottom: state.trackXVisible ? 10 : 0\n      })), props.wrapperProps.style), {\n        position: \"absolute\",\n        overflow: \"hidden\"\n      }),\n      content: __assign(__assign(__assign(__assign(__assign({}, useDefaultStyles && style.content), props.translateContentSizesToHolder || props.translateContentSizeYToHolder || props.translateContentSizeXToHolder ? {\n        display: \"table-cell\"\n      } : {\n        padding: 0.05 // needed to disable margin collapsing without flexboxes, other possible solutions here: https://stackoverflow.com/questions/19718634/how-to-disable-margin-collapsing\n\n      }), useDefaultStyles && !(props.translateContentSizesToHolder || props.translateContentSizeYToHolder) && {\n        minHeight: \"100%\"\n      }), useDefaultStyles && !(props.translateContentSizesToHolder || props.translateContentSizeXToHolder) && {\n        minWidth: \"100%\"\n      }), props.contentProps.style),\n      scroller: __assign(__assign(__assign(__assign((_b = {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        bottom: 0,\n        right: 0,\n        paddingBottom: !scrollbarWidth && scrollValues.scrollXPossible ? props.fallbackScrollbarWidth : undefined\n      }, _b[state.isRTL ? \"paddingLeft\" : \"paddingRight\"] = !scrollbarWidth && scrollValues.scrollYPossible ? props.fallbackScrollbarWidth : undefined, _b), props.scrollerProps.style), !isUndef(props.rtl) && {\n        direction: props.rtl ? \"rtl\" : \"ltr\"\n      }), props.momentum && {\n        WebkitOverflowScrolling: \"touch\"\n      }), (_c = {\n        overflowY: scrollValues.scrollYPossible ? \"scroll\" : \"hidden\",\n        overflowX: scrollValues.scrollXPossible ? \"scroll\" : \"hidden\",\n        marginBottom: scrollValues.scrollXPossible ? -(scrollbarWidth || props.fallbackScrollbarWidth) - Number(scrollValues.zoomLevel !== 1) : undefined\n      }, _c[state.isRTL ? \"marginLeft\" : \"marginRight\"] = scrollValues.scrollYPossible ? -(scrollbarWidth || props.fallbackScrollbarWidth) - Number(scrollValues.zoomLevel !== 1) : undefined, _c)),\n      trackX: __assign(__assign(__assign(__assign({}, useDefaultStyles && style.track.common), useDefaultStyles && style.track.x), props.trackXProps.style), !state.trackXVisible && {\n        display: \"none\"\n      }),\n      trackY: __assign(__assign(__assign(__assign(__assign({}, useDefaultStyles && style.track.common), useDefaultStyles && style.track.y), useDefaultStyles && (_d = {}, _d[state.isRTL ? \"left\" : \"right\"] = 0, _d)), props.trackYProps.style), !state.trackYVisible && {\n        display: \"none\"\n      }),\n      thumbX: __assign(__assign(__assign({}, useDefaultStyles && style.thumb.common), useDefaultStyles && style.thumb.x), props.thumbXProps.style),\n      thumbY: __assign(__assign(__assign({}, useDefaultStyles && style.thumb.common), useDefaultStyles && style.thumb.y), props.thumbYProps.style)\n    };\n  };\n\n  Scrollbar.prototype.componentDidMount = function () {\n    if (!this.scrollerElement) {\n      this.setState(function () {\n        throw new Error(\"scroller element was not created. Possibly you haven't provided HTMLDivElement to renderer's `elementRef` function.\");\n      });\n      return;\n    }\n\n    if (!this.contentElement) {\n      this.setState(function () {\n        throw new Error(\"content element was not created. Possibly you haven't provided HTMLDivElement to renderer's `elementRef` function.\");\n      });\n      return;\n    }\n\n    var props = this.props;\n\n    if (!props.native && !props.mobileNative) {\n      //ToDo: move native state to the state so it can be synchronized\n      if (!this.holderElement) {\n        this.setState(function () {\n          throw new Error(\"holder element was not created. Possibly you haven't provided HTMLDivElement to renderer's `elementRef` function.\");\n        });\n        return;\n      }\n\n      if (!this.wrapperElement) {\n        this.setState(function () {\n          throw new Error(\"wrapper element was not created. Possibly you haven't provided HTMLDivElement to renderer's `elementRef` function.\");\n        });\n        return;\n      }\n    }\n\n    Loop.addTarget(this);\n\n    if (!isUndef(props.scrollTop)) {\n      this.scrollerElement.scrollTop = props.scrollTop;\n    }\n\n    if (!isUndef(props.scrollLeft)) {\n      this.scrollerElement.scrollLeft = props.scrollLeft;\n    }\n\n    this.update(true);\n  };\n\n  Scrollbar.prototype.componentWillUnmount = function () {\n    Loop.removeTarget(this);\n  };\n\n  Scrollbar.prototype.componentDidUpdate = function (prevProps, prevState) {\n    if (!this.scrollerElement) {\n      return;\n    }\n\n    var props = this.props;\n\n    if (props.rtl !== prevProps.rtl && props.rtl !== this.state.isRTL) {\n      this.setState({\n        isRTL: props.rtl\n      });\n    }\n\n    if (this.state.isRTL !== prevState.isRTL) {\n      this.update();\n    }\n\n    if (!isUndef(props.scrollTop) && props.scrollTop !== this.scrollerElement.scrollTop) {\n      this.scrollerElement.scrollTop = props.scrollTop;\n    }\n\n    if (!isUndef(props.scrollLeft) && props.scrollLeft !== this.scrollerElement.scrollLeft) {\n      this.scrollerElement.scrollLeft = props.scrollLeft;\n    }\n\n    if (prevProps.onUpdate !== props.onUpdate) {\n      prevProps.onUpdate && this.eventEmitter.off(\"update\", prevProps.onUpdate);\n      props.onUpdate && this.eventEmitter.on(\"update\", props.onUpdate);\n    }\n\n    if (prevProps.onScroll !== props.onScroll) {\n      prevProps.onScroll && this.eventEmitter.off(\"scroll\", prevProps.onScroll);\n      props.onScroll && this.eventEmitter.on(\"scroll\", props.onScroll);\n    }\n\n    if (prevProps.onScrollStart !== props.onScrollStart) {\n      prevProps.onScrollStart && this.eventEmitter.off(\"scrollStart\", prevProps.onScrollStart);\n      props.onScrollStart && this.eventEmitter.on(\"scrollStart\", props.onScrollStart);\n    }\n\n    if (prevProps.onScrollStop !== props.onScrollStop) {\n      prevProps.onScrollStop && this.eventEmitter.off(\"scrollStop\", prevProps.onScrollStop);\n      props.onScrollStop && this.eventEmitter.on(\"scrollStop\", props.onScrollStop);\n    }\n  };\n\n  Scrollbar.prototype.render = function () {\n    var _a = this.props,\n        createContext = _a.createContext,\n        rtl = _a.rtl,\n        native = _a.native,\n        mobileNative = _a.mobileNative,\n        momentum = _a.momentum,\n        noDefaultStyles = _a.noDefaultStyles,\n        disableTracksMousewheelScrolling = _a.disableTracksMousewheelScrolling,\n        disableTrackXMousewheelScrolling = _a.disableTrackXMousewheelScrolling,\n        disableTrackYMousewheelScrolling = _a.disableTrackYMousewheelScrolling,\n        disableTracksWidthCompensation = _a.disableTracksWidthCompensation,\n        disableTrackXWidthCompensation = _a.disableTrackXWidthCompensation,\n        disableTrackYWidthCompensation = _a.disableTrackYWidthCompensation,\n        noScrollX = _a.noScrollX,\n        noScrollY = _a.noScrollY,\n        noScroll = _a.noScroll,\n        permanentTrackX = _a.permanentTrackX,\n        permanentTrackY = _a.permanentTrackY,\n        permanentTracks = _a.permanentTracks,\n        removeTracksWhenNotUsed = _a.removeTracksWhenNotUsed,\n        removeTrackYWhenNotUsed = _a.removeTrackYWhenNotUsed,\n        removeTrackXWhenNotUsed = _a.removeTrackXWhenNotUsed,\n        minimalThumbSize = _a.minimalThumbSize,\n        maximalThumbSize = _a.maximalThumbSize,\n        minimalThumbXSize = _a.minimalThumbXSize,\n        maximalThumbXSize = _a.maximalThumbXSize,\n        minimalThumbYSize = _a.minimalThumbYSize,\n        maximalThumbYSize = _a.maximalThumbYSize,\n        fallbackScrollbarWidth = _a.fallbackScrollbarWidth,\n        scrollTop = _a.scrollTop,\n        scrollLeft = _a.scrollLeft,\n        trackClickBehavior = _a.trackClickBehavior,\n        scrollDetectionThreshold = _a.scrollDetectionThreshold,\n        propsWrapperProps = _a.wrapperProps,\n        propsScrollerProps = _a.scrollerProps,\n        propsContentProps = _a.contentProps,\n        propsTrackXProps = _a.trackXProps,\n        propsTrackYProps = _a.trackYProps,\n        propsThumbXProps = _a.thumbXProps,\n        propsThumbYProps = _a.thumbYProps,\n        propsScrollbarWidth = _a.scrollbarWidth,\n        elementRef = _a.elementRef,\n        onUpdate = _a.onUpdate,\n        onScroll = _a.onScroll,\n        onScrollStart = _a.onScrollStart,\n        onScrollStop = _a.onScrollStop,\n        translateContentSizesToHolder = _a.translateContentSizesToHolder,\n        translateContentSizeYToHolder = _a.translateContentSizeYToHolder,\n        translateContentSizeXToHolder = _a.translateContentSizeXToHolder,\n        children = _a.children,\n        propsHolderProps = __rest(_a, [\"createContext\", \"rtl\", \"native\", \"mobileNative\", \"momentum\", \"noDefaultStyles\", \"disableTracksMousewheelScrolling\", \"disableTrackXMousewheelScrolling\", \"disableTrackYMousewheelScrolling\", \"disableTracksWidthCompensation\", \"disableTrackXWidthCompensation\", \"disableTrackYWidthCompensation\", \"noScrollX\", \"noScrollY\", \"noScroll\", \"permanentTrackX\", \"permanentTrackY\", \"permanentTracks\", \"removeTracksWhenNotUsed\", \"removeTrackYWhenNotUsed\", \"removeTrackXWhenNotUsed\", \"minimalThumbSize\", \"maximalThumbSize\", \"minimalThumbXSize\", \"maximalThumbXSize\", \"minimalThumbYSize\", \"maximalThumbYSize\", \"fallbackScrollbarWidth\", \"scrollTop\", \"scrollLeft\", \"trackClickBehavior\", \"scrollDetectionThreshold\", \"wrapperProps\", \"scrollerProps\", \"contentProps\", \"trackXProps\", \"trackYProps\", \"thumbXProps\", \"thumbYProps\", \"scrollbarWidth\", \"elementRef\", \"onUpdate\", \"onScroll\", \"onScrollStart\", \"onScrollStop\", \"translateContentSizesToHolder\", \"translateContentSizeYToHolder\", \"translateContentSizeXToHolder\", \"children\"]);\n\n    var scrollbarWidth = !isUndef(propsScrollbarWidth) ? propsScrollbarWidth : getScrollbarWidth() || 0;\n\n    if (native || !scrollbarWidth && mobileNative) {\n      this.elementRefHolder(null);\n      this.elementRefWrapper(null);\n      this.elementRefTrackX(null);\n      this.elementRefTrackY(null);\n      this.elementRefThumbX(null);\n      this.elementRefThumbY(null);\n\n      var contentProps_1 = __assign(__assign({}, propsContentProps), {\n        key: \"ScrollbarsCustom-Content\",\n        className: cnb(\"ScrollbarsCustom-Content\", propsContentProps.className),\n        children: children\n      });\n\n      var scrollerProps_1 = __assign(__assign({}, propsHolderProps), {\n        className: cnb(\"ScrollbarsCustom native\", this.state.trackYVisible && \"trackYVisible\", this.state.trackXVisible && \"trackXVisible\", this.state.isRTL && \"rtl\", propsHolderProps.className),\n        style: __assign(__assign(__assign(__assign({}, propsHolderProps.style), !isUndef(rtl) && {\n          direction: rtl ? \"rtl\" : \"ltr\"\n        }), momentum && {\n          WebkitOverflowScrolling: \"touch\"\n        }), {\n          overflowX: noScroll || noScrollX ? \"hidden\" : permanentTracks || permanentTrackX ? \"scroll\" : \"auto\",\n          overflowY: noScroll || noScrollY ? \"hidden\" : permanentTracks || permanentTrackY ? \"scroll\" : \"auto\"\n        }),\n        onScroll: this.handleScrollerScroll,\n        children: renderDivWithRenderer(contentProps_1, this.elementRefContent),\n        renderer: propsScrollerProps.renderer,\n        elementRef: propsScrollerProps.elementRef\n      });\n\n      return renderDivWithRenderer(scrollerProps_1, this.elementRefScroller);\n    }\n\n    var styles = Scrollbar.calculateStyles(this.props, this.state, this.scrollValues, scrollbarWidth);\n    var holderChildren = [];\n\n    var contentProps = __assign(__assign({}, propsContentProps), {\n      key: \"ScrollbarsCustom-Content\",\n      className: cnb(\"ScrollbarsCustom-Content\", propsContentProps.className),\n      style: styles.content,\n      children: createContext ? createElement(ScrollbarContext.Provider, {\n        value: {\n          parentScrollbar: this\n        },\n        children: children\n      }) : children\n    });\n\n    var scrollerProps = __assign(__assign({}, propsScrollerProps), {\n      key: \"ScrollbarsCustom-Scroller\",\n      className: cnb(\"ScrollbarsCustom-Scroller\", propsScrollerProps.className),\n      style: styles.scroller,\n      children: renderDivWithRenderer(contentProps, this.elementRefContent),\n      onScroll: this.handleScrollerScroll\n    });\n\n    var wrapperProps = __assign(__assign({}, propsWrapperProps), {\n      key: \"ScrollbarsCustom-Wrapper\",\n      className: cnb(\"ScrollbarsCustom-Wrapper\", propsWrapperProps.className),\n      style: styles.wrapper,\n      children: renderDivWithRenderer(scrollerProps, this.elementRefScroller)\n    });\n\n    holderChildren.push(renderDivWithRenderer(wrapperProps, this.elementRefWrapper));\n\n    if (this.state.trackYVisible || !removeTracksWhenNotUsed && !removeTrackYWhenNotUsed) {\n      var thumbYProps = __assign(__assign({}, propsThumbYProps), {\n        key: \"ScrollbarsCustom-ThumbY\",\n        style: styles.thumbY,\n        elementRef: this.elementRefThumbY,\n        onDrag: this.handleThumbYDrag,\n        onDragEnd: this.handleThumbYDrag,\n        axis: AXIS_DIRECTION.Y\n      });\n\n      var trackYProps = __assign(__assign(__assign(__assign({}, propsTrackYProps), {\n        key: \"ScrollbarsCustom-TrackY\",\n        style: styles.trackY,\n        elementRef: this.elementRefTrackY,\n        onClick: this.handleTrackYClick\n      }), (disableTracksMousewheelScrolling || disableTrackYMousewheelScrolling) && {\n        onWheel: this.handleTrackYMouseWheel\n      }), {\n        axis: AXIS_DIRECTION.Y\n      });\n\n      trackYProps.children = createElement(ScrollbarThumb, __assign({}, thumbYProps));\n      holderChildren.push(createElement(ScrollbarTrack, __assign({}, trackYProps)));\n    } else {\n      this.elementRefTrackY(null);\n      this.elementRefThumbY(null);\n    }\n\n    if (this.state.trackXVisible || !removeTracksWhenNotUsed && !removeTrackXWhenNotUsed) {\n      var thumbXProps = __assign(__assign({}, propsThumbXProps), {\n        key: \"ScrollbarsCustom-ThumbX\",\n        style: styles.thumbX,\n        elementRef: this.elementRefThumbX,\n        onDrag: this.handleThumbXDrag,\n        onDragEnd: this.handleThumbXDrag,\n        axis: AXIS_DIRECTION.X\n      });\n\n      var trackXProps = __assign(__assign(__assign(__assign({}, propsTrackXProps), {\n        key: \"ScrollbarsCustom-TrackX\",\n        style: styles.trackX,\n        elementRef: this.elementRefTrackX,\n        onClick: this.handleTrackXClick\n      }), (disableTracksMousewheelScrolling || disableTrackXMousewheelScrolling) && {\n        onWheel: this.handleTrackXMouseWheel\n      }), {\n        axis: AXIS_DIRECTION.X\n      });\n\n      trackXProps.children = createElement(ScrollbarThumb, __assign({}, thumbXProps));\n      holderChildren.push(createElement(ScrollbarTrack, __assign({}, trackXProps)));\n    } else {\n      this.elementRefTrackX(null);\n      this.elementRefThumbX(null);\n    }\n\n    var holderProps = __assign(__assign({}, propsHolderProps), {\n      className: cnb(\"ScrollbarsCustom\", this.state.trackYVisible && \"trackYVisible\", this.state.trackXVisible && \"trackXVisible\", this.state.isRTL && \"rtl\", propsHolderProps.className),\n      style: styles.holder,\n      children: holderChildren\n    });\n\n    return renderDivWithRenderer(holderProps, this.elementRefHolder);\n  };\n\n  Scrollbar.contextType = ScrollbarContext;\n  Scrollbar.propTypes = {\n    createContext: bool,\n    rtl: bool,\n    native: bool,\n    mobileNative: bool,\n    momentum: bool,\n    noDefaultStyles: bool,\n    disableTracksMousewheelScrolling: bool,\n    disableTrackXMousewheelScrolling: bool,\n    disableTrackYMousewheelScrolling: bool,\n    disableTracksWidthCompensation: bool,\n    disableTrackXWidthCompensation: bool,\n    disableTrackYWidthCompensation: bool,\n    minimalThumbSize: number,\n    maximalThumbSize: number,\n    minimalThumbXSize: number,\n    maximalThumbXSize: number,\n    minimalThumbYSize: number,\n    maximalThumbYSize: number,\n    noScrollX: bool,\n    noScrollY: bool,\n    noScroll: bool,\n    permanentTrackX: bool,\n    permanentTrackY: bool,\n    permanentTracks: bool,\n    translateContentSizesToHolder: bool,\n    translateContentSizeYToHolder: bool,\n    translateContentSizeXToHolder: bool,\n    removeTracksWhenNotUsed: bool,\n    removeTrackYWhenNotUsed: bool,\n    removeTrackXWhenNotUsed: bool,\n    trackClickBehavior: TRACK_CLICK_BEHAVIOR_PROP_TYPE,\n    scrollbarWidth: number,\n    fallbackScrollbarWidth: number,\n    scrollDetectionThreshold: number,\n    scrollTop: number,\n    scrollLeft: number,\n    className: string,\n    wrapperProps: object,\n    contentProps: object,\n    trackXProps: object,\n    trackYProps: object,\n    thumbXProps: object,\n    thumbYProps: object,\n    onUpdate: func,\n    onScroll: func,\n    onScrollStart: func,\n    onScrollStop: func\n  };\n  Scrollbar.defaultProps = {\n    momentum: true,\n    minimalThumbSize: 30,\n    fallbackScrollbarWidth: 20,\n    trackClickBehavior: TRACK_CLICK_BEHAVIOR.JUMP,\n    scrollDetectionThreshold: 100,\n    wrapperProps: {},\n    scrollerProps: {},\n    contentProps: {},\n    trackXProps: {},\n    trackYProps: {},\n    thumbXProps: {},\n    thumbYProps: {}\n  };\n  return Scrollbar;\n}(Component);\n\nexport default Scrollbar;\nexport { Scrollbar, ScrollbarContext };\n"]},"metadata":{},"sourceType":"module"}