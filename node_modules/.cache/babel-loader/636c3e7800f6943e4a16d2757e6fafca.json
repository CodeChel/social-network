{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\WOW\\\\Documents\\\\GitHub\\\\react\\\\react-test\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _toConsumableArray from\"C:\\\\Users\\\\WOW\\\\Documents\\\\GitHub\\\\react\\\\react-test\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Users\\\\WOW\\\\Documents\\\\GitHub\\\\react\\\\react-test\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{usersAPI}from'../API/api';export var FOLLOW='friends-reducer/FOLLOW';export var UNFOLLOW='friends-reducer/UNFOLLOW';export var SET_USERS='friends-reducer/SET-USERS';export var SET_CURRENT_PAGE='friends-reducer/SET_CURRENT_PAGE';export var SET_TOTAL_COUNT='friends-reducer/SET_TOTAL_COUNT';export var TOGGLE_IS_FETCHING='friends-reducer/TOGGLE_IS_FETCHING';export var TOGGLE_IS_FOLOWING_PROGRESS='friends-reducer/TOGGLE_IS_FOLOWING_PROGRESS';export var SET_MESSAGE_MODE='friends-reducer/SET_MESSAGE_MODE';export var ADD_MORE_USER='friends-reducer/ADD_MORE_USER';var initialState={users:[],friends:[],pageSize:30,totalUsersCout:0,currentPage:1,isFetching:false,followingInProgress:[],messageMode:false,messageId:0};export var friendsReducer=function friendsReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case FOLLOW:return _objectSpread({},state,{users:state.users.map(function(u){return action.payload===u.id?_objectSpread({},u,{followed:true}):u;})});case UNFOLLOW:return _objectSpread({},state,{users:state.users.map(function(u){return action.payload===u.id?_objectSpread({},u,{followed:false}):u;})});case SET_USERS:return _objectSpread({},state,{},action.payload);case ADD_MORE_USER:return _objectSpread({},state,{users:[].concat(_toConsumableArray(state.users),_toConsumableArray(action.payload))});case SET_CURRENT_PAGE:return _objectSpread({},state,{currentPage:action.payload});case SET_TOTAL_COUNT:return _objectSpread({},state,{totalUsersCout:action.payload});case TOGGLE_IS_FETCHING:return _objectSpread({},state,{isFetching:action.payload});case TOGGLE_IS_FOLOWING_PROGRESS:return _objectSpread({},state,{followingInProgress:action.payload.isFetching?[].concat(_toConsumableArray(state.followingInProgress),[action.payload.userId]):state.followingInProgress.filter(function(userId){return userId!==action.payload.userId;})});case SET_MESSAGE_MODE:return _objectSpread({},state,{},action.payload);default:return state;}};export var follow=function follow(id){return{type:FOLLOW,payload:id};};export var unfollow=function unfollow(id){return{type:UNFOLLOW,payload:id};};export var setUsers=function setUsers(users){return{type:SET_USERS,payload:{users:users}};};export var setCurrentPage=function setCurrentPage(currentPage){return{type:SET_CURRENT_PAGE,payload:currentPage};};export var setTotalUsersCount=function setTotalUsersCount(totalUsersCout){return{type:SET_TOTAL_COUNT,payload:totalUsersCout};};export var toggleIsFetching=function toggleIsFetching(isFetching){return{type:TOGGLE_IS_FETCHING,payload:isFetching};};export var toggleFollowingProgress=function toggleFollowingProgress(isFetching,userId){return{type:TOGGLE_IS_FOLOWING_PROGRESS,payload:{isFetching:isFetching,userId:userId}};};export var setMessageMode=function setMessageMode(messageMode,messageId){return{type:SET_MESSAGE_MODE,payload:{messageMode:messageMode,messageId:messageId}};};export var setMoreUsers=function setMoreUsers(users){return{type:ADD_MORE_USER,payload:users};};export var getUsersThunk=function getUsersThunk(currentPage,pageSize){return function _callee(dispatch){var data;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(toggleIsFetching(true));_context.next=3;return _regeneratorRuntime.awrap(usersAPI.getUsers(currentPage,pageSize));case 3:data=_context.sent;dispatch(setUsers(data.items));dispatch(setTotalUsersCount(data.totalCount));dispatch(toggleIsFetching(false));case 7:case\"end\":return _context.stop();}}});};};export var getMoreUsers=function getMoreUsers(currentPage,pageSize){return function _callee2(dispatch){var data;return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch(setCurrentPage(currentPage));dispatch(toggleIsFetching(true));_context2.next=4;return _regeneratorRuntime.awrap(usersAPI.getUsers(currentPage,pageSize));case 4:data=_context2.sent;dispatch(setMoreUsers(data.items));dispatch(setTotalUsersCount(data.totalCount));dispatch(toggleIsFetching(false));case 8:case\"end\":return _context2.stop();}}});};};export var changeCurrentPageThunk=function changeCurrentPageThunk(pageNumber,pageSize){return function _callee3(dispatch){var data;return _regeneratorRuntime.async(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch(toggleIsFetching(true));dispatch(setCurrentPage(pageNumber));_context3.next=4;return _regeneratorRuntime.awrap(usersAPI.getUsers(pageNumber,pageSize));case 4:data=_context3.sent;dispatch(setUsers(data.items));dispatch(toggleIsFetching(false));case 7:case\"end\":return _context3.stop();}}});};};export var followUnfollowFlow=function followUnfollowFlow(dispatch,apiMethod,actionCreator,id){var data;return _regeneratorRuntime.async(function followUnfollowFlow$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch(toggleIsFetching(true));dispatch(toggleFollowingProgress(true,id));_context4.next=4;return _regeneratorRuntime.awrap(apiMethod(id));case 4:data=_context4.sent;if(data.resultCode===0){dispatch(actionCreator(id));dispatch(toggleFollowingProgress(false,id));dispatch(toggleIsFetching(false));}case 6:case\"end\":return _context4.stop();}}});};export var unFollowThunk=function unFollowThunk(id){return function _callee4(dispatch){return _regeneratorRuntime.async(function _callee4$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return _regeneratorRuntime.awrap(followUnfollowFlow(dispatch,usersAPI.deleteFollow,unfollow,id));case 2:case\"end\":return _context5.stop();}}});};};export var followThunk=function followThunk(id){return function _callee5(dispatch){return _regeneratorRuntime.async(function _callee5$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return _regeneratorRuntime.awrap(followUnfollowFlow(dispatch,usersAPI.postFollow,follow,id));case 2:case\"end\":return _context6.stop();}}});};};export default friendsReducer;","map":{"version":3,"sources":["C:/Users/WOW/Documents/GitHub/react/react-test/src/redux/friends-reducer.js"],"names":["usersAPI","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLOWING_PROGRESS","SET_MESSAGE_MODE","ADD_MORE_USER","initialState","users","friends","pageSize","totalUsersCout","currentPage","isFetching","followingInProgress","messageMode","messageId","friendsReducer","state","action","type","map","u","payload","id","followed","userId","filter","follow","unfollow","setUsers","setCurrentPage","setTotalUsersCount","toggleIsFetching","toggleFollowingProgress","setMessageMode","setMoreUsers","getUsersThunk","dispatch","getUsers","data","items","totalCount","getMoreUsers","changeCurrentPageThunk","pageNumber","followUnfollowFlow","apiMethod","actionCreator","resultCode","unFollowThunk","deleteFollow","followThunk","postFollow"],"mappings":"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","sourcesContent":["import { usersAPI } from '../API/api'\r\n\r\n\r\nexport const FOLLOW = 'friends-reducer/FOLLOW';\r\nexport const UNFOLLOW = 'friends-reducer/UNFOLLOW';\r\nexport const SET_USERS = 'friends-reducer/SET-USERS';\r\nexport const SET_CURRENT_PAGE = 'friends-reducer/SET_CURRENT_PAGE';\r\nexport const SET_TOTAL_COUNT = 'friends-reducer/SET_TOTAL_COUNT';\r\nexport const TOGGLE_IS_FETCHING = 'friends-reducer/TOGGLE_IS_FETCHING';\r\nexport const TOGGLE_IS_FOLOWING_PROGRESS = 'friends-reducer/TOGGLE_IS_FOLOWING_PROGRESS';\r\nexport const SET_MESSAGE_MODE = 'friends-reducer/SET_MESSAGE_MODE';\r\nexport const ADD_MORE_USER = 'friends-reducer/ADD_MORE_USER';\r\n\r\n\r\nconst initialState = {\r\n    users: [],\r\n    friends: [],\r\n    pageSize: 30,\r\n    totalUsersCout: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n    messageMode: false,\r\n    messageId: 0\r\n}\r\n\r\nexport const friendsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => action.payload === u.id ? { ...u, followed: true } : u)\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => action.payload === u.id ? { ...u, followed: false } : u)\r\n            }\r\n        case SET_USERS:\r\n            return { ...state, ...action.payload }\r\n        case ADD_MORE_USER:\r\n            return { ...state, users: [...state.users, ...action.payload] }\r\n        case SET_CURRENT_PAGE:\r\n            return { ...state, currentPage: action.payload }\r\n        case SET_TOTAL_COUNT:\r\n            return { ...state, totalUsersCout: action.payload }\r\n        case TOGGLE_IS_FETCHING:\r\n            return { ...state, isFetching: action.payload }\r\n        case TOGGLE_IS_FOLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.payload.isFetching\r\n                    ? [...state.followingInProgress, action.payload.userId]\r\n                    : state.followingInProgress.filter(userId => userId !== action.payload.userId)\r\n\r\n            }\r\n        case SET_MESSAGE_MODE:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default: return state;\r\n\r\n    }\r\n\r\n}\r\n\r\nexport const follow = (id) => ({ type: FOLLOW, payload: id });\r\nexport const unfollow = (id) => ({ type: UNFOLLOW, payload: id });\r\nexport const setUsers = (users) => ({ type: SET_USERS, payload: { users } });\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, payload: currentPage });\r\nexport const setTotalUsersCount = (totalUsersCout) => ({ type: SET_TOTAL_COUNT, payload: totalUsersCout });\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, payload: isFetching });\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLOWING_PROGRESS, payload: { isFetching, userId } })\r\nexport const setMessageMode = (messageMode, messageId) => ({ type: SET_MESSAGE_MODE, payload: { messageMode, messageId } })\r\nexport const setMoreUsers = (users) => ({ type: ADD_MORE_USER, payload: users })\r\n\r\n\r\nexport const getUsersThunk = (currentPage, pageSize) => async (dispatch) => {\r\n\r\n    dispatch(toggleIsFetching(true))\r\n\r\n    const data = await (usersAPI.getUsers(currentPage, pageSize))\r\n\r\n    \r\n    dispatch(setUsers(data.items))\r\n    dispatch(setTotalUsersCount(data.totalCount))\r\n    dispatch(toggleIsFetching(false))\r\n}\r\n\r\nexport const getMoreUsers = (currentPage, pageSize) => async (dispatch) => {\r\n\r\n    dispatch(setCurrentPage(currentPage))\r\n    dispatch(toggleIsFetching(true))\r\n    const data = await (usersAPI.getUsers(currentPage, pageSize));\r\n    dispatch(setMoreUsers(data.items))\r\n    \r\n    dispatch(setTotalUsersCount(data.totalCount));\r\n    dispatch(toggleIsFetching(false))\r\n\r\n}\r\nexport const changeCurrentPageThunk = (pageNumber, pageSize) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true))\r\n\r\n    dispatch(setCurrentPage(pageNumber))\r\n    const data = await (usersAPI.getUsers(pageNumber, pageSize))\r\n    dispatch(setUsers(data.items))\r\n\r\n    dispatch(toggleIsFetching(false))\r\n}\r\n\r\nexport const followUnfollowFlow = async (dispatch, apiMethod, actionCreator, id) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(toggleFollowingProgress(true, id));\r\n    const data = await (apiMethod(id));\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(id));\r\n        dispatch(toggleFollowingProgress(false, id));\r\n        dispatch(toggleIsFetching(false));\r\n    }\r\n\r\n}\r\nexport const unFollowThunk = (id) => async (dispatch) => {\r\n    await followUnfollowFlow(dispatch, usersAPI.deleteFollow, unfollow, id);\r\n}\r\nexport const followThunk = (id) => async (dispatch) => {\r\n    await followUnfollowFlow(dispatch, usersAPI.postFollow, follow, id);\r\n}\r\n\r\nexport default friendsReducer;"]},"metadata":{},"sourceType":"module"}