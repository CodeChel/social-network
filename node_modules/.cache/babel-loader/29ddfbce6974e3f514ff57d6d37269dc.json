{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\WOW\\\\Documents\\\\GitHub\\\\react\\\\react-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"C:\\\\Users\\\\WOW\\\\Documents\\\\GitHub\\\\react\\\\react-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"C:\\\\Users\\\\WOW\\\\Documents\\\\GitHub\\\\react\\\\react-test\\\\src\\\\components\\\\Messages-container\\\\Messages\\\\Messages.jsx\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport styles from './Messages.module.css';\nimport DialogWithUser from '../DialogsList/DialogWithUser';\nimport DialogSession from './DialogSession';\nimport ScrollbarHOC from '../../common/HOCScrollBar/HOCScrollbarCusctom';\n\nconst Messages = (_ref) => {\n  let dialogItemsData = _ref.dialogItemsData,\n      currentDialogId = _ref.currentDialogId,\n      search = _ref.search,\n      dialogsFromSearch = _ref.dialogsFromSearch,\n      props = _objectWithoutProperties(_ref, [\"dialogItemsData\", \"currentDialogId\", \"search\", \"dialogsFromSearch\"]);\n\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        searchWord = _useState2[0],\n        setSearchWord = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        isSearchMode = _useState4[0],\n        setSearchMode = _useState4[1];\n\n  const handleSearch = e => {\n    const word = e.currentTarget.value;\n    setSearchWord(word);\n\n    if (word && word.trim() !== '') {\n      search(word);\n      setSearchMode(true);\n      document.addEventListener('click', outSearh);\n    }\n  };\n\n  const outSearh = e => {\n    setTimeout(() => {\n      setSearchMode(false);\n      setSearchWord('');\n    }, 100);\n  };\n\n  const dialogItems = dialogItemsData.map((item, index) => React.createElement(DialogWithUser, {\n    currentDialogId: currentDialogId,\n    avatar: item.avatar,\n    date: item.messages[item.messages.length - 1].date,\n    isYoursMessage: item.messages[item.messages.length - 1].right,\n    lastMessage: item.messages[item.messages.length - 1].message,\n    setDialogID: props.setDialogID,\n    key: index + 1,\n    name: item.name,\n    id: item.userId,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }));\n  const dialogItemsSearch = isSearchMode && dialogsFromSearch.map((item, index) => React.createElement(DialogWithUser, {\n    isSearchMode: isSearchMode,\n    currentDialogId: currentDialogId,\n    avatar: item.avatar,\n    outSearh: outSearh,\n    lastMessage: item.messages[item.messages.length - 1].message,\n    date: item.messages[item.messages.length - 1].date,\n    isYoursMessage: item.messages[item.messages.length - 1].right,\n    setDialogID: props.setDialogID,\n    key: index + 1,\n    name: item.name,\n    id: item.userId,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }));\n  const currentDialog = dialogItemsData[dialogItemsData.findIndex(i => {\n    return i.userId === currentDialogId;\n  })];\n  return React.createElement(\"div\", {\n    className: styles.messages,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, currentDialogId === 0 ? React.createElement(\"div\", {\n    className: styles.emptyMessages,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: styles.iconMessage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: styles.selectDialog,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Please select a dialog\")) : React.createElement(DialogSession, {\n    valueMessage: props.valueMessage,\n    isSearchMode: isSearchMode,\n    userId: currentDialog.userId,\n    sendMessage: props.sendMessage,\n    name: currentDialog.name,\n    avatar: currentDialog.avatar,\n    messages: currentDialog.messages,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: styles.dialogItems,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: styles.dialogSearch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    placeholder: \"Search\",\n    className: styles.searchInput,\n    onBlur: outSearh,\n    value: searchWord,\n    onChange: e => handleSearch(e),\n    type: \"text\",\n    name: \"\",\n    id: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.dialogsList,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(ScrollbarHOC, {\n    children: isSearchMode ? dialogItemsSearch : dialogItems,\n    autoHide: true,\n    removeTrackYWhenNotUsed: true,\n    style: {\n      width: \"100%\",\n      height: \"85vh\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }))));\n};\n\nexport default Messages;","map":{"version":3,"sources":["C:\\Users\\WOW\\Documents\\GitHub\\react\\react-test\\src\\components\\Messages-container\\Messages\\Messages.jsx"],"names":["React","useEffect","useRef","useState","styles","DialogWithUser","DialogSession","ScrollbarHOC","Messages","dialogItemsData","currentDialogId","search","dialogsFromSearch","props","searchWord","setSearchWord","isSearchMode","setSearchMode","handleSearch","e","word","currentTarget","value","trim","document","addEventListener","outSearh","setTimeout","dialogItems","map","item","index","avatar","messages","length","date","right","message","setDialogID","name","userId","dialogItemsSearch","currentDialog","findIndex","i","emptyMessages","iconMessage","selectDialog","valueMessage","sendMessage","dialogSearch","searchInput","dialogsList","width","height"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\r\n\r\nimport styles from './Messages.module.css'\r\nimport DialogWithUser from '../DialogsList/DialogWithUser'\r\nimport DialogSession from './DialogSession'\r\nimport ScrollbarHOC from '../../common/HOCScrollBar/HOCScrollbarCusctom'\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst Messages = ({ dialogItemsData, currentDialogId, search, dialogsFromSearch, ...props }) => {\r\n    const [searchWord, setSearchWord] = useState(null);\r\n    const [isSearchMode, setSearchMode] = useState(false);\r\n\r\n\r\n    const handleSearch = (e) => {\r\n        const word = e.currentTarget.value;\r\n        setSearchWord(word);\r\n        if (word && word.trim() !== '') {\r\n            search(word);\r\n            setSearchMode(true);\r\n            document.addEventListener('click', outSearh)\r\n        }\r\n    }\r\n    const outSearh = (e) => {\r\n\r\n        setTimeout(() => {\r\n            setSearchMode(false);\r\n            setSearchWord('');\r\n        }, 100);\r\n    }\r\n\r\n\r\n    const dialogItems = dialogItemsData.map((item, index) => <DialogWithUser currentDialogId={currentDialogId} avatar={item.avatar}\r\n        date={item.messages[item.messages.length - 1].date} isYoursMessage={item.messages[item.messages.length - 1].right} lastMessage={item.messages[item.messages.length - 1].message}\r\n        setDialogID={props.setDialogID} key={index + 1} name={item.name} id={item.userId} />)\r\n\r\n    const dialogItemsSearch = isSearchMode && dialogsFromSearch.map((item, index) => <DialogWithUser isSearchMode={isSearchMode}\r\n        currentDialogId={currentDialogId} avatar={item.avatar} outSearh={outSearh} lastMessage={item.messages[item.messages.length - 1].message}\r\n        date={item.messages[item.messages.length - 1].date} isYoursMessage={item.messages[item.messages.length - 1].right} setDialogID={props.setDialogID}\r\n        key={index + 1} name={item.name} id={item.userId} />)\r\n\r\n    const currentDialog = dialogItemsData[dialogItemsData.findIndex((i) => { return i.userId === currentDialogId })];\r\n\r\n\r\n    return <div className={styles.messages} >\r\n\r\n        {currentDialogId === 0\r\n            ? <div className={styles.emptyMessages}>\r\n                <div className={styles.iconMessage}></div>\r\n                <div className={styles.selectDialog}>\r\n                    Please select a dialog\r\n                </div>\r\n            </div>\r\n            : <DialogSession valueMessage={props.valueMessage} isSearchMode={isSearchMode} userId={currentDialog.userId} sendMessage={props.sendMessage} name={currentDialog.name}\r\n                avatar={currentDialog.avatar} messages={currentDialog.messages} />}\r\n\r\n        <div className={styles.dialogItems}>\r\n            <div className={styles.dialogSearch}><input placeholder='Search' className={styles.searchInput} onBlur={outSearh} value={searchWord} onChange={e => handleSearch(e)} type=\"text\" name=\"\" id=\"\" /></div>\r\n            <div className={styles.dialogsList}>\r\n                <ScrollbarHOC children={isSearchMode ? dialogItemsSearch : dialogItems} autoHide removeTrackYWhenNotUsed={true} style={{ width: \"100%\", height: \"85vh\" }} />\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n}\r\n\r\n\r\nexport default Messages;"]},"metadata":{},"sourceType":"module"}