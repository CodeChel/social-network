{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\WOW\\\\Documents\\\\GitHub\\\\react\\\\react-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport avatar from '../assets/img/ava.jpg';\nconst SEND_MESSAGE = 'messages-reducer/SEND-MESSAGE';\nconst SET_DIALOG_ID = 'messages-reducer/SET_DIALOG_ID';\nconst SET_NEW_DIALOG = 'messages-reducer/SET_NEW_DIALOG';\nconst SEARCH_DIALOG = 'messages-reducer/SEARCH_DIALOG';\nconst IS_SEARCH_MODE = 'messages-reducer/IS_SEARCH_MODE';\nlet initialState = {\n  dialogItemsData: [{\n    name: 'Suarez',\n    userId: 5081,\n    avatar: 'https://social-network.samuraijs.com/activecontent/images/users/5081/user-small.jpg?v=13',\n    messages: [{\n      message: 'Hey,how are you?',\n      id: 1,\n      date: 1574411457616,\n      timeFormat: 'December 8, 2019, 1:26 PM'\n    }, {\n      message: 'Great! How are you?',\n      id: 2,\n      right: true,\n      date: 1574411457616,\n      timeFormat: 'December 8, 2019, 1:27 PM'\n    }, {\n      message: 'Im fine! Go work!',\n      id: 3,\n      date: 1574411457616,\n      timeFormat: 'December 8, 2019, 1:28 PM'\n    }, {\n      message: 'Lets go!!!',\n      id: 4,\n      right: true,\n      date: 1574411457616,\n      timeFormat: 'December 8, 2019, 1:26 PM'\n    }]\n  }, {\n    name: 'Siarhei',\n    userId: 5217,\n    avatar: 'https://social-network.samuraijs.com/activecontent/images/users/5217/user-small.jpg?v=13',\n    messages: [{\n      message: 'Hey,how are you?',\n      id: 1,\n      date: 1574411457616,\n      timeFormat: 'December 7, 2019, 2:26 PM'\n    }, {\n      message: 'Great! How are you?',\n      id: 2,\n      right: true,\n      date: 1574411457616,\n      timeFormat: 'December 7, 2019, 2:27 PM'\n    }]\n  }, {\n    name: 'SeregaLucky',\n    userId: 1670,\n    avatar: 'https://social-network.samuraijs.com/activecontent/images/users/1670/user-small.jpg?v=13',\n    messages: [{\n      message: 'Hello!',\n      id: 1,\n      date: 1574411457616\n    }, {\n      message: 'A group of people born on the same day, including Rebecca (Moore) and Jack (Ventimiglia), a married couple expecting triplets in Pittsburgh, and Kevin (Hartley), a handsome television actor growing bored of his fly bachelor lifestyle.',\n      id: 2,\n      right: true,\n      date: 1574411457616,\n      timeFormat: 'December 7, 2019, 2:30 PM'\n    }, {\n      message: 'WOW!',\n      id: 3,\n      date: 1574411457616,\n      timeFormat: 'December 7, 2019, 2:30 PM'\n    }, {\n      message: 'YEAH, I LIKE IT!!!',\n      id: 4,\n      right: true,\n      date: 1574411457616,\n      timeFormat: 'December 7, 2019, 2:30 PM'\n    }]\n  }, {\n    name: 'Andrej',\n    userId: 4987,\n    avatar: 'https://social-network.samuraijs.com/activecontent/images/users/4987/user-small.jpg?v=13',\n    messages: [{\n      message: 'DO YOU KNOW REACT?',\n      id: 1,\n      date: 1574411457616,\n      timeFormat: 'December 6, 2019, 2:30 PM'\n    }, {\n      message: 'yes, what about u?',\n      id: 2,\n      right: true,\n      date: 1574411457616,\n      timeFormat: 'December 7, 2019, 2:31 PM'\n    }, {\n      message: 'Me too!',\n      id: 3,\n      timeFormat: 'December 7, 2019, 2:31 PM'\n    }, {\n      message: 'React better than vue',\n      id: 4,\n      right: true,\n      date: 1574411457616,\n      timeFormat: 'December 7, 2019, 3:30 PM'\n    }]\n  }],\n  dialogsFromSearch: null,\n  isSearchMode: false,\n  currentDialogId: 0\n};\n\nconst messagesReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SEND_MESSAGE:\n      debugger;\n      return _objectSpread({}, state, {\n        dialogItemsData: state.dialogItemsData.map(i => {\n          return i.userId === action.id ? _objectSpread({}, i, {\n            messages: [...i.messages, {\n              message: action.message,\n              id: i.messages.length + 1,\n              right: true,\n              date: action.date,\n              timeFormat: action.timeFormat\n            }]\n          }) : _objectSpread({}, i);\n        }).sort((a, b) => {\n          return b.messages[b.messages.length - 1].date - a.messages[a.messages.length - 1].date;\n        })\n      });\n\n    case SET_DIALOG_ID:\n      return _objectSpread({}, state, {\n        currentDialogId: action.id\n      });\n\n    case SET_NEW_DIALOG:\n      return _objectSpread({}, state, {\n        dialogItemsData: [...state.dialogItemsData, {\n          name: action.name,\n          userId: action.userId,\n          avatar: action.photo || avatar,\n          messages: [{\n            message: action.message,\n            id: 1,\n            right: true,\n            date: action.date\n          }]\n        }],\n        currentDialogId: action.userId\n      });\n\n    case SEARCH_DIALOG:\n      return _objectSpread({}, state, {\n        dialogsFromSearch: state.dialogItemsData.filter(i => i.name.toLowerCase().includes(action.word.toLowerCase()))\n      });\n\n    case IS_SEARCH_MODE:\n      return _objectSpread({}, state, {\n        isSearchMode: action.isMode\n      });\n\n    default:\n      return state;\n  }\n};\n\nconst options = {\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric',\n  timezone: 'UTC',\n  hour: 'numeric',\n  minute: 'numeric'\n};\nexport const sendMessage = (message, id) => ({\n  type: SEND_MESSAGE,\n  message,\n  id,\n  date: Date.now(),\n  timeFormat: new Date().toLocaleString(\"en-US\", options)\n});\nexport const setDialogID = id => ({\n  type: SET_DIALOG_ID,\n  id\n});\nexport const newDialog = (message, userId, photo, name) => ({\n  type: SET_NEW_DIALOG,\n  userId,\n  photo,\n  name,\n  message,\n  date: Date.now(),\n  timeFormat: new Date().toLocaleString(\"en-US\", options)\n});\nexport const messageFromPopUp = (data, user) => (dispatch, getState) => {\n  const userId = user.id || user.userId;\n  const photo = user.photos.small;\n  const name = user.name || user.fullName;\n\n  if (getState().Messages.dialogItemsData.find(i => i.userId === userId)) {\n    dispatch(sendMessage(data.messagePopup, userId));\n  } else {\n    dispatch(newDialog(data.messagePopup, userId, photo, name));\n  }\n};\nexport const search = word => ({\n  type: SEARCH_DIALOG,\n  word\n});\nexport const setSearchMode = isMode => ({\n  type: IS_SEARCH_MODE,\n  isMode\n});\nexport default messagesReducer;","map":{"version":3,"sources":["C:\\Users\\WOW\\Documents\\GitHub\\react\\react-test\\src\\redux\\messages-reducer.js"],"names":["avatar","SEND_MESSAGE","SET_DIALOG_ID","SET_NEW_DIALOG","SEARCH_DIALOG","IS_SEARCH_MODE","initialState","dialogItemsData","name","userId","messages","message","id","date","timeFormat","right","dialogsFromSearch","isSearchMode","currentDialogId","messagesReducer","state","action","type","map","i","length","sort","a","b","photo","filter","toLowerCase","includes","word","isMode","options","year","month","day","timezone","hour","minute","sendMessage","Date","now","toLocaleString","setDialogID","newDialog","messageFromPopUp","data","user","dispatch","getState","photos","small","fullName","Messages","find","messagePopup","search","setSearchMode"],"mappings":"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","sourcesContent":["import avatar from '../assets/img/ava.jpg';\r\n\r\nconst SEND_MESSAGE = 'messages-reducer/SEND-MESSAGE';\r\nconst SET_DIALOG_ID = 'messages-reducer/SET_DIALOG_ID';\r\nconst SET_NEW_DIALOG = 'messages-reducer/SET_NEW_DIALOG';\r\nconst SEARCH_DIALOG = 'messages-reducer/SEARCH_DIALOG';\r\nconst IS_SEARCH_MODE = 'messages-reducer/IS_SEARCH_MODE';\r\n\r\nlet initialState = {\r\n    dialogItemsData: [\r\n        {\r\n            name: 'Suarez', userId: 5081, avatar: 'https://social-network.samuraijs.com/activecontent/images/users/5081/user-small.jpg?v=13',\r\n            messages: [\r\n                { message: 'Hey,how are you?', id: 1, date: 1574411457616, timeFormat: 'December 8, 2019, 1:26 PM' },\r\n                { message: 'Great! How are you?', id: 2, right: true, date: 1574411457616, timeFormat: 'December 8, 2019, 1:27 PM' },\r\n                { message: 'Im fine! Go work!', id: 3, date: 1574411457616, timeFormat: 'December 8, 2019, 1:28 PM' },\r\n                { message: 'Lets go!!!', id: 4, right: true, date: 1574411457616, timeFormat: 'December 8, 2019, 1:26 PM' },\r\n            ]\r\n\r\n        },\r\n        {\r\n            name: 'Siarhei', userId: 5217, avatar: 'https://social-network.samuraijs.com/activecontent/images/users/5217/user-small.jpg?v=13', \r\n            messages: [\r\n                { message: 'Hey,how are you?', id: 1, date: 1574411457616, timeFormat: 'December 7, 2019, 2:26 PM' },\r\n                { message: 'Great! How are you?', id: 2, right: true, date: 1574411457616, timeFormat: 'December 7, 2019, 2:27 PM' }\r\n            ]\r\n        },\r\n        {\r\n            name: 'SeregaLucky', userId: 1670, avatar: 'https://social-network.samuraijs.com/activecontent/images/users/1670/user-small.jpg?v=13',\r\n            messages: [\r\n                { message: 'Hello!', id: 1, date: 1574411457616 },\r\n                {\r\n                    message: 'A group of people born on the same day, including Rebecca (Moore) and Jack (Ventimiglia), a married couple expecting triplets in Pittsburgh, and Kevin (Hartley), a handsome television actor growing bored of his fly bachelor lifestyle.',\r\n                    id: 2, right: true, date: 1574411457616,\r\n                    timeFormat: 'December 7, 2019, 2:30 PM'\r\n                },\r\n                { message: 'WOW!', id: 3, date: 1574411457616, timeFormat: 'December 7, 2019, 2:30 PM' },\r\n                { message: 'YEAH, I LIKE IT!!!', id: 4, right: true, date: 1574411457616, timeFormat: 'December 7, 2019, 2:30 PM' },\r\n            ]\r\n        },\r\n        {\r\n            name: 'Andrej', userId: 4987, avatar: 'https://social-network.samuraijs.com/activecontent/images/users/4987/user-small.jpg?v=13',\r\n            messages: [\r\n                { message: 'DO YOU KNOW REACT?', id: 1, date: 1574411457616, timeFormat: 'December 6, 2019, 2:30 PM' },\r\n                { message: 'yes, what about u?', id: 2, right: true, date: 1574411457616, timeFormat: 'December 7, 2019, 2:31 PM' },\r\n                { message: 'Me too!', id: 3, timeFormat: 'December 7, 2019, 2:31 PM' },\r\n                { message: 'React better than vue', id: 4, right: true, date: 1574411457616, timeFormat: 'December 7, 2019, 3:30 PM' },\r\n            ]\r\n        }\r\n    ],\r\n    dialogsFromSearch: null,\r\n    isSearchMode: false,\r\n    currentDialogId: 0\r\n}\r\n\r\nconst messagesReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            debugger;\r\n            return {\r\n                ...state,\r\n                dialogItemsData: state.dialogItemsData.map((i) => {\r\n                    return i.userId === action.id\r\n                        ? { ...i, messages: [...i.messages, { message: action.message, id: i.messages.length + 1, right: true, date: action.date, timeFormat: action.timeFormat }] }\r\n                        : { ...i }\r\n                }).sort((a, b) => { return b.messages[b.messages.length - 1].date - a.messages[a.messages.length - 1].date })\r\n            }\r\n        case SET_DIALOG_ID:\r\n            return {\r\n                ...state,\r\n                currentDialogId: action.id\r\n            }\r\n        case SET_NEW_DIALOG:\r\n            return {\r\n                ...state,\r\n                dialogItemsData: [...state.dialogItemsData, {\r\n                    name: action.name, userId: action.userId, avatar: action.photo || avatar,\r\n                    messages: [{ message: action.message, id: 1, right: true, date: action.date }]\r\n                }],\r\n                currentDialogId: action.userId\r\n            }\r\n        case SEARCH_DIALOG:\r\n            return {\r\n                ...state,\r\n                dialogsFromSearch: state.dialogItemsData.filter(i=>i.name.toLowerCase().includes(action.word.toLowerCase()))\r\n            }\r\n        case IS_SEARCH_MODE:\r\n            return{\r\n                ...state,\r\n                isSearchMode: action.isMode\r\n            }\r\n        default: return state;\r\n    }\r\n\r\n}\r\nconst options = {\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric',\r\n    timezone: 'UTC',\r\n    hour: 'numeric',\r\n    minute: 'numeric'\r\n}\r\nexport const sendMessage = (message, id) => ({ type: SEND_MESSAGE, message, id, date: Date.now(), timeFormat: new Date().toLocaleString(\"en-US\", options)  });\r\nexport const setDialogID = (id) => ({ type: SET_DIALOG_ID, id });\r\nexport const newDialog = (message, userId, photo, name) => ({ type: SET_NEW_DIALOG, userId, photo, name, message, date: Date.now(), timeFormat: new Date().toLocaleString(\"en-US\", options) })\r\nexport const messageFromPopUp = (data, user) => (dispatch, getState) => {\r\n\r\n    const userId = user.id || user.userId;\r\n    const photo = user.photos.small;\r\n    const name = user.name || user.fullName;\r\n\r\n    if (getState().Messages.dialogItemsData.find(i => i.userId === userId)) {\r\n\r\n        dispatch(sendMessage(data.messagePopup, userId))\r\n    }\r\n    else {\r\n        dispatch(newDialog(data.messagePopup, userId, photo, name))\r\n    }\r\n}\r\nexport const search = (word) => ({type: SEARCH_DIALOG, word})\r\nexport const setSearchMode = (isMode) => ({type: IS_SEARCH_MODE, isMode})\r\nexport default messagesReducer;"]},"metadata":{},"sourceType":"module"}