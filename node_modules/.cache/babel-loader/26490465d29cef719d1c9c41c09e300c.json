{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\WOW\\\\Documents\\\\GitHub\\\\react\\\\react-test\\\\src\\\\components\\\\Messages-container\\\\Messages\\\\AddMessageFormWithConnect.jsx\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport { reduxForm, reset } from 'redux-form';\nimport { createField } from '../../common/FormControls/FormControls';\nimport { required, voidValue } from '../../../utils/validators/validator';\n\nconst AddMessageForm = props => {\n  const onKeyHandler = e => {\n    if (e.keyCode == 13 && e.shiftKey == false) {\n      if (e.target.name == \"message\".concat(props.userId)) {\n        e.preventDefault();\n        props.handleSubmit();\n      }\n    }\n  };\n\n  return React.createElement(\"form\", {\n    onKeyDown: onKeyHandler,\n    onSubmit: props.handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, createField(\"write message to \".concat(props.name), \"message\".concat(props.userId), [required, voidValue], 'textarea', null, null, {\n    autoFocus: true\n  }), props.dirty && React.createElement(\"button\", {\n    className: styles.buttonForm,\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }), React.createElement(EmojiPicker, {\n    formName: \"addMessageForm\",\n    fieldName: \"message\".concat(props.userId),\n    Form: props.addMessageForm,\n    styles: styles,\n    dispatch: props.dispatch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }));\n};\n\nconst afterSumbit = (result, dispatch) => {\n  dispatch(reset('addMessageForm'));\n};\n\nconst AddMessageFormRedux = reduxForm({\n  form: 'addMessageForm',\n  onSubmitSuccess: afterSumbit\n})(AddMessageForm);\n\nconst mapStateToPropse = state => ({\n  addMessageForm: state.form.addMessageForm\n});\n\nconst AddMessageFormWithConnect = connect(mapStateToPropse)(AddMessageFormRedux);\nexport default AddMessageFormWithConnect;","map":{"version":3,"sources":["C:\\Users\\WOW\\Documents\\GitHub\\react\\react-test\\src\\components\\Messages-container\\Messages\\AddMessageFormWithConnect.jsx"],"names":["React","useEffect","useRef","useState","reduxForm","reset","createField","required","voidValue","AddMessageForm","props","onKeyHandler","e","keyCode","shiftKey","target","name","userId","preventDefault","handleSubmit","autoFocus","dirty","styles","buttonForm","addMessageForm","dispatch","afterSumbit","result","AddMessageFormRedux","form","onSubmitSuccess","mapStateToPropse","state","AddMessageFormWithConnect","connect"],"mappings":";AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,SAASC,SAAT,EAAoBC,KAApB,QAAiC,YAAjC;AACA,SAASC,WAAT,QAA4B,wCAA5B;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,qCAApC;;AAMA,MAAMC,cAAc,GAAIC,KAAD,IAAW;AAE9B,QAAMC,YAAY,GAAIC,CAAD,IAAO;AACxB,QAAIA,CAAC,CAACC,OAAF,IAAa,EAAb,IAAmBD,CAAC,CAACE,QAAF,IAAc,KAArC,EAA4C;AACxC,UAAIF,CAAC,CAACG,MAAF,CAASC,IAAT,qBAA2BN,KAAK,CAACO,MAAjC,CAAJ,EAA+C;AAC3CL,QAAAA,CAAC,CAACM,cAAF;AACAR,QAAAA,KAAK,CAACS,YAAN;AAEH;AACJ;AACJ,GARD;;AAUA,SAAO;AAAM,IAAA,SAAS,EAAER,YAAjB;AAA+B,IAAA,QAAQ,EAAED,KAAK,CAACS,YAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACFb,WAAW,4BAAqBI,KAAK,CAACM,IAA3B,oBAA6CN,KAAK,CAACO,MAAnD,GAA6D,CAACV,QAAD,EAAWC,SAAX,CAA7D,EAAoF,UAApF,EAAgG,IAAhG,EAAsG,IAAtG,EAA4G;AAAEY,IAAAA,SAAS,EAAE;AAAb,GAA5G,CADT,EAGFV,KAAK,CAACW,KAAN,IAAe;AAAQ,IAAA,SAAS,EAAEC,MAAM,CAACC,UAA1B;AAAsC,IAAA,IAAI,EAAC,QAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHb,EAIH,oBAAC,WAAD;AAAa,IAAA,QAAQ,EAAC,gBAAtB;AAAuC,IAAA,SAAS,mBAAYb,KAAK,CAACO,MAAlB,CAAhD;AAA4E,IAAA,IAAI,EAAEP,KAAK,CAACc,cAAxF;AAAwG,IAAA,MAAM,EAAEF,MAAhH;AAAwH,IAAA,QAAQ,EAAEZ,KAAK,CAACe,QAAxI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJG,CAAP;AASH,CArBD;;AAsBA,MAAMC,WAAW,GAAG,CAACC,MAAD,EAASF,QAAT,KAAsB;AACtCA,EAAAA,QAAQ,CAACpB,KAAK,CAAC,gBAAD,CAAN,CAAR;AACH,CAFD;;AAGA,MAAMuB,mBAAmB,GAAGxB,SAAS,CAAC;AAClCyB,EAAAA,IAAI,EAAE,gBAD4B;AAElCC,EAAAA,eAAe,EAAEJ;AAFiB,CAAD,CAAT,CAGzBjB,cAHyB,CAA5B;;AAIA,MAAMsB,gBAAgB,GAAIC,KAAD,KAAY;AACjCR,EAAAA,cAAc,EAAEQ,KAAK,CAACH,IAAN,CAAWL;AADM,CAAZ,CAAzB;;AAIC,MAAMS,yBAAyB,GAAGC,OAAO,CAACH,gBAAD,CAAP,CAA0BH,mBAA1B,CAAlC;AAEA,eAAeK,yBAAf","sourcesContent":["\r\nimport React, { useEffect, useRef, useState } from 'react'\r\nimport { reduxForm, reset } from 'redux-form';\r\nimport { createField } from '../../common/FormControls/FormControls';\r\nimport { required, voidValue } from '../../../utils/validators/validator';\r\n\r\n\r\n\r\n\r\n\r\nconst AddMessageForm = (props) => {\r\n\r\n    const onKeyHandler = (e) => {\r\n        if (e.keyCode == 13 && e.shiftKey == false) {\r\n            if (e.target.name == `message${props.userId}`) {\r\n                e.preventDefault();\r\n                props.handleSubmit();\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    return <form onKeyDown={onKeyHandler} onSubmit={props.handleSubmit}>\r\n        {createField(`write message to ${props.name}`, `message${props.userId}`, [required, voidValue], 'textarea', null, null, { autoFocus: true })}\r\n\r\n        {props.dirty && <button className={styles.buttonForm} type=\"submit\"></button>}\r\n        <EmojiPicker formName='addMessageForm' fieldName={`message${props.userId}`} Form={props.addMessageForm} styles={styles} dispatch={props.dispatch} />\r\n\r\n\r\n\r\n    </form>\r\n}\r\nconst afterSumbit = (result, dispatch) => {\r\n    dispatch(reset('addMessageForm'))\r\n}\r\nconst AddMessageFormRedux = reduxForm({\r\n    form: 'addMessageForm',\r\n    onSubmitSuccess: afterSumbit\r\n})(AddMessageForm);\r\nconst mapStateToPropse = (state) => ({\r\n    addMessageForm: state.form.addMessageForm\r\n})\r\n\r\n const AddMessageFormWithConnect = connect(mapStateToPropse)(AddMessageFormRedux)\r\n\r\n export default AddMessageFormWithConnect"]},"metadata":{},"sourceType":"module"}