(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return p});var a=n(8),r=n(18),o=n(0),c=n.n(o),i=n(54),s=n.n(i),u=n(92),l=function(e){var t=e.touched&&e.error;return c.a.createElement("div",{className:s.a.formControl+" "+(t?s.a.error:"")},c.a.createElement("div",null,e.element),t&&c.a.createElement("span",null,e.error))},f=function(e){var t=e.input,n=e.meta,o=Object(r.a)(e,["input","meta"]),i=c.a.createElement("input",Object(a.a)({},t,o));return c.a.createElement(l,Object.assign({element:i},n))},m=function(e){var t=e.input,n=e.meta,o=Object(r.a)(e,["input","meta"]),i=c.a.createElement("textarea",Object(a.a)({},t,o));return c.a.createElement(l,Object.assign({element:i},n))},p=function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0;return c.a.createElement("div",null,r&&c.a.createElement("label",{htmlFor:t},o),c.a.createElement(u.a,Object.assign({placeholder:e,name:t,validate:n,component:a},i)))}},129:function(e,t,n){"use strict";n.d(t,"b",function(){return c});var a=n(48),r=n(8),o={dialogItemsData:[{name:"Henry Dinn",id:1},{name:"Michael Ross",id:2},{name:"Dick Irvin",id:3},{name:"Dafna Grass",id:4}],messagesData:[{message:"Hey,how are you?",id:1},{message:"Great! How are you?",id:2,right:!0},{message:"Im fine! Go work!",id:3},{message:"Lets go!!!",id:4,right:!0}]},c=function(e){return{type:"messages-reducer/SEND-MESSAGE",message:e.message}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"messages-reducer/SEND-MESSAGE":return Object(r.a)({},e,{messagesData:[].concat(Object(a.a)(e.messagesData),[{id:5,message:t.message,right:!0}])});default:return e}}},132:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAzCAYAAAA6oTAqAAAABHNCSVQICAgIfAhkiAAAAhdJREFUaIHtmjFIW0EYx//fI0aNiWBt0GSoDlYwIBhwERpxkgYqxSEFdXB00sFRXauTDnGyFBcHBelQaHVWhy6KTookg3GwQvMc9GlIbLkOomAxeS++l3d35X7jve+++37cvXt38Kgn8fmF5vmzAGKDBKqHRDCwS2L4ngNN7K2OZT1a1e95Ao0CxLu2siFQPQhDtXfFD2lgFOddlF0YY+8BRhoRmngXYxciqo0k1qs03oU4iZIRFQ/vAgDA7/OiraURoWAAzS8DD+2pjA7jJg8ASGd0GDeFknm4ysR725F424nXLY2msRMfv2H/8KxkDBcZv8+L2cl+RDvCjuZ1Xcbv8yI5M2BpNsrF9Q1gaqyvIiKAyzLRSBix7taK5XdVJh5rr2h+V9+ZaEfINCZ9qsO4LmD/6PHOdf7ryrSvazKhYADNwUDJmLmlLWxsHz97DNeWmZlI+lS3JQIIdJzZ2T2xnUMYGSdQMqKiZESF3gwvMScTLs4MoMvCx7FcYiOfSj6/uG2olmJmDo5+WoqTQsYqUsj8e04rhhQyZnf/e6SQSWV0S3FSyBjXeUtxjl8BUpnsk+3+Oi/aXhW/Lp9njaJ3Fqsz47hMcuXHk+3RSBjJ6XdF+21uH2P5y56tsaVYZlZRMqKiZERFyYiKkhEVJSMqSkZUlIyo/Hcya7yLcIC1w/UPBU+OYbwGyEv78xzoa45hknctjvMXmAh+sv75oN4AAAAASUVORK5CYII="},135:function(e,t,n){e.exports=n.p+"static/media/Rolling-1s-200px.6fd59ae0.svg"},137:function(e,t,n){e.exports={profile:"Profile_profile__1YLKP"}},139:function(e,t,n){e.exports={footer:"footer_footer__15YAN"}},166:function(e,t,n){e.exports=n(299)},171:function(e,t,n){},172:function(e,t,n){},23:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});var a=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},25:function(e,t,n){e.exports={profileInfo:"profileInfo_profileInfo__ObJQb",avatarContainer:"profileInfo_avatarContainer__2Xy2w",changePhoto:"profileInfo_changePhoto__4wqGV",avatar:"profileInfo_avatar__273JQ",profileInfoContainer:"profileInfo_profileInfoContainer__Buw85",changePhotoInput:"profileInfo_changePhotoInput__ibvx3",changePhotoLabel:"profileInfo_changePhotoLabel__1ZL2B"}},292:function(e,t,n){},293:function(e,t,n){},294:function(e,t,n){},295:function(e,t,n){},296:function(e,t,n){},299:function(e,t,n){"use strict";n.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a=n(0),r=n.n(a),o=n(67),c=n.n(o),i=(n(171),n(28)),s=n(29),u=n(31),l=n(30),f=n(32),m=(n(172),n(9)),p=n.n(m),d=n(132),h=n.n(d),E=n(15),g=n(11),v=Object(g.b)(function(e){return{authId:e.auth.id}},null)(function(e){return r.a.createElement("div",{className:"sideBar"},r.a.createElement(E.b,{className:p.a.logo,to:"/Profile/"+e.authId},r.a.createElement("img",{src:h.a,alt:"logo"})),r.a.createElement("nav",{className:p.a.navBar},r.a.createElement("ul",{className:p.a.menu}," ",r.a.createElement("span",{className:p.a.head},"Menu"),r.a.createElement("li",{className:p.a.news},r.a.createElement(E.b,{activeClassName:p.a.active,to:"/news"},"News")),r.a.createElement("li",{className:p.a.messages},r.a.createElement(E.b,{activeClassName:p.a.active,to:"/messages"},"Messages")),r.a.createElement("li",{className:p.a.friends},r.a.createElement(E.b,{activeClassName:p.a.active,to:"/friends"},"Friends")),r.a.createElement("li",{className:p.a.communities},r.a.createElement(E.b,{activeClassName:p.a.active,to:"/communities"},"Communities")),r.a.createElement("li",{className:p.a.events},r.a.createElement(E.b,{activeClassName:p.a.active,to:"/events"},"Events")),r.a.createElement("li",{className:p.a.pages},r.a.createElement(E.b,{activeClassName:p.a.active,to:"/pages"},"Pages")),r.a.createElement("li",{className:p.a.manage},r.a.createElement(E.b,{activeClassName:p.a.active,to:"/manage"},"Manage apps")))),r.a.createElement("ul",{className:p.a.shortcuts},r.a.createElement("span",{className:p.a.head},"Shortcuts"),r.a.createElement("li",{className:p.a.google},r.a.createElement("a",{href:"#"},"Google Inc.")),r.a.createElement("li",{className:p.a.combinator},r.a.createElement("a",{href:"#"},"Y Combinator")),r.a.createElement("li",{className:p.a.amazon},r.a.createElement("a",{href:"#"},"Amazon"))))}),b=n(16),_=n(18),O=n(135),P=n.n(O),j=function(){return r.a.createElement("div",null,r.a.createElement("img",{src:P.a,alt:""}))},S=n(25),y=n.n(S),w=n(71),C=n.n(w),I=n(57),k=function(e){var t=e.isMyPage,n=Object(_.a)(e,["isMyPage"]),o=Object(a.useState)(!1),c=Object(I.a)(o,2),i=c[0],s=c[1],u=Object(a.useState)(n.status),l=Object(I.a)(u,2),f=l[0],m=l[1];Object(a.useEffect)(function(){m(n.status)},[n.status]);return r.a.createElement("div",null,t?i?r.a.createElement("div",null,r.a.createElement("input",{autoFocus:!0,onChange:function(e){m(e.currentTarget.value)},onBlur:function(){s(!1),n.updateStatus(f)},value:f})):r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:function(){s(!0)}},n.status||"Write something")):r.a.createElement("div",null,r.a.createElement("span",null,n.status)))},N=n(92),A=n(130),T=n(10),F=n(23),x=Object(A.a)({form:"edit-profile"})(function(e){var t=e.handleSubmit,n=e.profile,a=Object(_.a)(e,["handleSubmit","profile"]);return r.a.createElement("form",{onSubmit:t},r.a.createElement("h3",null,"Full name"),Object(T.c)("Full Name","fullName",[F.b],T.a,!1,null),r.a.createElement("label",null,"Looking for a Job: "),r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement(N.a,{name:"lookingForAJob",component:"input",type:"radio",value:"true"})," Yes"),r.a.createElement("label",null,r.a.createElement(N.a,{name:"lookingForAJob",component:"input",type:"radio",value:"false",checked:!0})," No")),r.a.createElement("h3",null,"Skills:"),Object(T.c)(null,"lookingForAJobDescription",[F.b],T.b,!1,null,null,{colls:10,rows:30}),r.a.createElement("h3",null,"About me:"),Object(T.c)(null,"aboutMe",[F.b],T.b,!1,null,null,{colls:10,rows:30}),r.a.createElement("h2",null,"Contacts:"),Object.keys(n.contacts).map(function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,e),Object(T.c)(e,"contacts."+e,null,T.a,!1,null,{value:n.contacts[e]}))}),r.a.createElement(b.a,{when:a.dirty&&v,message:"You have unsaved changes, are you sure you want to leave?"}),r.a.createElement("button",null,"save"))}),M=function(e){var t=e.setEditProfile,n=e.isEditMode,a=e.profile,o=e.isMyPage,c=Object(_.a)(e,["setEditProfile","isEditMode","profile","isMyPage"]);return r.a.createElement("div",null,r.a.createElement("h2",null,a.fullName),r.a.createElement(k,{isMyPage:o,updateStatus:c.updateStatus,status:c.status}),a.aboutMe&&r.a.createElement("div",null,"Description: ",a.aboutMe," "),r.a.createElement("div",null,"Looking for a job: ",a.lookingForAJob?"yes":"no"),a.lookingForAJobDescription&&r.a.createElement("div",null,"Description: ",a.lookingForAJobDescription," "),!n&&Object.keys(a.contacts).map(function(e){if(a.contacts[e])return r.a.createElement("div",null,"".concat(e," : ").concat(a.contacts[e]))}),o&&!n&&r.a.createElement("button",{onClick:function(){t(!0)}},"Edit"),o&&n&&r.a.createElement(x,{isEditMode:n,initialValues:a,onSubmit:function(e){c.saveProfileData(e)},profile:a}))},R=function(e){var t=e.profile,n=e.isMyPage,a=Object(_.a)(e,["profile","isMyPage"]);return t?r.a.createElement("div",{className:y.a.profileInfoContainer},r.a.createElement("div",{className:y.a.profileInfo},r.a.createElement("div",{className:a.isMyPage?y.a.avatarContainer+" "+y.a.avatarUpdate:y.a.avatarContainer},r.a.createElement("img",{className:y.a.avatar,src:t.photos.large?t.photos.large:C.a,alt:""}),n&&r.a.createElement("div",{className:y.a.changePhoto},r.a.createElement("label",{for:"upload-photo",className:y.a.changePhotoLabel},"Update photo"),r.a.createElement("input",{className:y.a.changePhotoInput,id:"upload-photo",type:"file",onChange:function(e){e.target.files[0]&&a.savePhoto(e.target.files[0])}}))),r.a.createElement(M,Object.assign({setEditProfile:a.setEditProfile,isEditMode:a.isEditMode,isMyPage:n,profile:t},a)))):r.a.createElement(j,null)},U=n(58),L=n.n(U),D=Object(F.a)(500),B=Object(A.a)({form:"formPost"})(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(N.a,{component:T.b,name:"postBody",cols:"30",rows:"10",validate:[F.b,D]}),r.a.createElement("button",{type:"submit",className:L.a.buttonPost},"Post"))}),G=function(e){return r.a.createElement("div",{className:L.a.postsContainer},r.a.createElement(B,{onSubmit:e.sendPost}),e.isMyPage,e.posts.map(function(e){return r.a.createElement("div",{key:e.id,className:L.a.itemPost},e.text,r.a.createElement("span",{className:L.a.likes},"likes: ",e.likesCount))}))},z=n(137),Y=n.n(z),J=function(e){var t=e.sendPost,n=e.posts,a=e.profile,o=e.status,c=Object(_.a)(e,["sendPost","posts","profile","status"]);return r.a.createElement("div",{className:Y.a.profile},r.a.createElement(R,{isMyPage:c.isMyPage,savePhoto:c.savePhotoThunk,profile:a,status:o,updateStatus:c.updateStatusThunk,saveProfileData:c.saveProfileData,isEditMode:c.isEditMode,setEditProfile:c.setEditProfile}),r.a.createElement(G,{isMyPage:c.isMyPage,sendPost:t,posts:n}))},H=n(72),W=n(5),q=n.n(W),Q=n(13),X=n(48),K=n(8),Z=n(138).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"d9c4ba29-f4a9-4d2d-8ba9-f90ead9fae9c"}}),V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Z.get("users?page=".concat(e,"&count=").concat(t)).then(function(e){return e.data})},$=function(e){return Z.post("follow/".concat(e),{}).then(function(e){return e.data})},ee=function(e){return Z.delete("follow/".concat(e),{}).then(function(e){return e.data})},te=function(){return Z.get("auth/me").then(function(e){return e.data})},ne=function(e){return Z.post("auth/login",{email:e.login,password:e.password,rememberMe:e.rememberMe,captcha:e.captcha}).then(function(e){return e.data})},ae=function(){return Z.delete("auth/login").then(function(e){return e.data})},re=function(){return Z.get("security/get-captcha-url").then(function(e){return e.data})},oe=function(e){return Z.get("profile/".concat(e)).then(function(e){return e.data})},ce=function(e){return Z.get("profile/status/".concat(e)).then(function(e){return e.data})},ie=function(e){return Z.put("profile/status",{status:e}).then(function(e){return e.data})},se=function(e){var t=new FormData;return t.append("image",e),Z.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){return e.data})},ue=function(e){return Z.put("profile",e).then(function(e){return e.data})},le=n(33),fe={posts:[],currentTextPost:"",profile:null,status:"",isEditMode:!1},me=function(e){return{type:"profile-reducer/SET_EDIT_PROFILE",mode:e}},pe=function(e){return{type:"profile-reducer/SET_USER_PROFILE",profile:e}},de=function(e){return{type:"profile-reducer/SET_USER_STATUS",status:e}},he=function(e){return function(){var t=Object(Q.a)(q.a.mark(function t(n){var a;return q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oe(e);case 2:a=t.sent,n(pe(a));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile-reducer/SEND_POST":return Object(K.a)({},e,{posts:[].concat(Object(X.a)(e.posts),[{text:t.post.postBody,id:1,likesCount:0}])});case"profile-reducer/SET_USER_PROFILE":return Object(K.a)({},e,{profile:t.profile});case"profile-reducer/SET_USER_STATUS":return Object(K.a)({},e,{status:t.status});case"profile-reducer/SET_PHOTO_PROFILE":return Object(K.a)({},e,{profile:Object(K.a)({},e.profile,{photos:t.photos})});case"profile-reducer/SET_EDIT_PROFILE":return Object(K.a)({},e,{isEditMode:t.mode});case"profile-reducer/RESET_USER_POFILE":return fe;default:return e}},ge=n(69),ve=n(7),be=function(e){return e.ProfilePage.status},_e=function(e){return e.ProfilePage.posts},Oe=function(e){return e.auth.isAuth},Pe=function(e){return e.auth.id},je=function(e){return e.ProfilePage.isEditMode},Se=function(e){return e.ProfilePage.profile},ye=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;this.props.getProfileThunk(e),this.props.getStatusThunk(e)}},{key:"componentWillUnmount",value:function(){this.props.resetProfile()}},{key:"componentDidMount",value:function(){console.log("componentDidMount"),this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){e.match.params.userId!==this.props.match.params.userId&&(this.props.resetProfile(),this.refreshProfile())}},{key:"render",value:function(){return console.log("render"),r.a.createElement(J,Object.assign({},this.props,{isMyPage:this.props.authId==this.props.match.params.userId}))}}]),t}(r.a.Component),we=Object(ve.d)(Object(g.b)(function(e){return{profile:Se(e),status:be(e),posts:_e(e),isAuth:Oe(e),authId:Pe(e),isEditMode:je(e)}},{setUserProfile:pe,sendPost:function(e){return{type:"profile-reducer/SEND_POST",post:e}},getProfileThunk:he,getStatusThunk:function(e){return function(){var t=Object(Q.a)(q.a.mark(function t(n){var a;return q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ce(e);case 2:a=t.sent,n(de(a));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},updateStatusThunk:function(e){return function(){var t=Object(Q.a)(q.a.mark(function t(n){return q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ie(e);case 2:0===t.sent.resultCode&&n(de(e));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},savePhotoThunk:function(e){return function(){var t=Object(Q.a)(q.a.mark(function t(n){var a;return q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se(e);case 2:0===(a=t.sent).resultCode&&n({type:"profile-reducer/SET_PHOTO_PROFILE",photos:a.data.photos});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},saveProfileData:function(e){return function(){var t=Object(Q.a)(q.a.mark(function t(n,a){var r,o,c,i;return q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.id,t.next=3,ue(e);case 3:0===(o=t.sent).resultCode?(n(he(r)),n(me(!1))):(c=o.messages[0].indexOf(">"),i=o.messages[0].slice(c+1,-1).toLowerCase(),n(Object(le.a)("edit-profile",{contacts:Object(H.a)({},i,i+" incorrect")})));case 5:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},setEditProfile:me,resetProfile:function(){return{type:"profile-reducer/RESET_USER_POFILE"}}}),b.h,ge.a)(ye),Ce=(n(292),function(){return r.a.createElement("div",null)}),Ie=(n(293),function(){return r.a.createElement("div",null)}),ke=(n(294),function(){return r.a.createElement("div",null)}),Ne=(n(295),function(){return r.a.createElement("div",null)}),Ae=(n(296),function(){return r.a.createElement("div",null)}),Te=(n(128),"friends-reducer/FOLLOW"),Fe={users:[],pageSize:30,totalUsersCout:0,currentPage:1,isFetching:!1,followingInProgress:[]},xe=function(e){return{type:Te,id:e}},Me=function(e){return{type:"friends-reducer/UNFOLLOW",id:e}},Re=function(e){return{type:"friends-reducer/SET-USERS",users:e}},Ue=function(e){return{type:"friends-reducer/TOGGLE_IS_FETCHING",isFetching:e}},Le=function(e,t){return{type:"friends-reducer/TOGGLE_IS_FOLOWING_PROGRESS",isFetching:e,userId:t}},De=function(){var e=Object(Q.a)(q.a.mark(function e(t,n,a,r){return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(Le(!0,r)),e.next=3,n(r);case 3:0===e.sent.resultCode&&(t(a(r)),t(Le(!1,r)));case 5:case"end":return e.stop()}},e)}));return function(t,n,a,r){return e.apply(this,arguments)}}(),Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:return Object(K.a)({},e,{users:e.users.map(function(e){return t.id===e.id?Object(K.a)({},e,{followed:!0}):e})});case"friends-reducer/UNFOLLOW":return Object(K.a)({},e,{users:e.users.map(function(e){return t.id===e.id?Object(K.a)({},e,{followed:!1}):e})});case"friends-reducer/SET-USERS":return Object(K.a)({},e,{users:t.users});case"friends-reducer/SET_CURRENT_PAGE":return Object(K.a)({},e,{currentPage:t.currentPage});case"friends-reducer/SET_TOTAL_COUNT":return Object(K.a)({},e,{totalUsersCout:t.count});case"friends-reducer/TOGGLE_IS_FETCHING":return Object(K.a)({},e,{isFetching:t.isFetching});case"friends-reducer/TOGGLE_IS_FOLOWING_PROGRESS":return Object(K.a)({},e,{followingInProgress:t.isFetching?[].concat(Object(X.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter(function(e){return e!==t.userId})});default:return e}},Ge=n(97),ze=n.n(Ge),Ye=function(e){for(var t=e.itemsTotalCount,n=e.pageSize,o=e.currentPage,c=e.onPageChanged,i=e.portionSize,s=void 0===i?10:i,u=Math.ceil(t/n),l=[],f=1;f<=u;f++)l.push(f);var m=Math.ceil(u/s),p=Object(a.useState)(1),d=Object(I.a)(p,2),h=d[0],E=d[1],g=(h-1)*s+1,v=h*s;return r.a.createElement("div",null,h>1&&r.a.createElement("button",{onClick:function(){E(h-1)}},"RPEV"),l.filter(function(e){return e>=g&&e<=v}).map(function(e){var t=o===e?ze.a.selectedPage:ze.a.items;return o===e?r.a.createElement("span",{className:t},e):r.a.createElement("span",{className:t,onClick:function(t){c(e)}},e)}),m>h&&r.a.createElement("button",{onClick:function(){E(h+1)}},"NEXT"))},Je=n(34),He=n.n(Je),We=function(e){var t=e.user,n=e.follow,a=e.unfollow,o=e.followingInProgress;return r.a.createElement("div",{className:He.a.userContainer},r.a.createElement("span",null,r.a.createElement("div",{className:He.a.avatar},r.a.createElement(E.b,{to:"/profile/"+t.id},r.a.createElement("img",{src:null!=t.photos.small?t.photos.small:C.a,alt:"",className:He.a.usersAvatar}))),r.a.createElement("div",null,t.followed?r.a.createElement("button",{onClick:function(){return a(t.id)},disabled:o.some(function(e){return e===t.id})},"Unfollow"):r.a.createElement("button",{onClick:function(){return n(t.id)},disabled:o.some(function(e){return e===t.id})},"Follow"))),r.a.createElement("div",{className:He.a.userInfo},r.a.createElement("span",null,r.a.createElement("div",{className:He.a.userName},t.name)),r.a.createElement("span",null,t.status)))},qe=function(e){var t=e.totalUsersCount,n=e.pageSize,a=e.currentPage,o=e.onPageChanged,c=e.users,i=Object(_.a)(e,["totalUsersCount","pageSize","currentPage","onPageChanged","users"]);return r.a.createElement("div",{className:He.a.mainContainer},r.a.createElement(Ye,{itemsTotalCount:t,pageSize:n,currentPage:a,onPageChanged:o}),r.a.createElement("div",{className:He.a.container},c.map(function(e){return r.a.createElement(We,{user:e,key:e.id,followingInProgress:i.followingInProgress,unfollow:i.unFollowThunk,follow:i.followThunk})})))},Qe=function(e){return e.FriendsPage.users},Xe=function(e){return e.FriendsPage.pageSize},Ke=function(e){return e.FriendsPage.totalUsersCout},Ze=function(e){return e.FriendsPage.currentPage},Ve=function(e){return e.FriendsPage.isFetching},$e=function(e){return e.FriendsPage.followingInProgress},et=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onPageChanged=function(e){var t=n.props.pageSize;n.props.changeCurrentPageThunk(e,t)},n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.getUsersThunk(t,n)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(j,null):null,r.a.createElement(qe,Object.assign({},this.props,{onPageChanged:this.onPageChanged})))}}]),t}(r.a.Component),tt=Object(ve.d)(Object(g.b)(function(e){return{users:Qe(e),pageSize:Xe(e),totalUsersCount:Ke(e),currentPage:Ze(e),isFetching:Ve(e),followingInProgress:$e(e)}},{toggleFollowingProgress:Le,getUsersThunk:function(e,t){return function(){var n=Object(Q.a)(q.a.mark(function n(a){var r;return q.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a(Ue(!0)),n.next=3,V(e,t);case 3:r=n.sent,a(Ue(!1)),a(Re(r.items)),a({type:"friends-reducer/SET_TOTAL_COUNT",count:r.totalCount});case 7:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},changeCurrentPageThunk:function(e,t){return function(){var n=Object(Q.a)(q.a.mark(function n(a){var r;return q.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:"friends-reducer/SET_CURRENT_PAGE",currentPage:e}),a(Ue(!0)),n.next=4,V(e,t);case 4:r=n.sent,a(Ue(!1)),a(Re(r.items));case 8:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},unFollowThunk:function(e){return function(){var t=Object(Q.a)(q.a.mark(function t(n){return q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:De(n,ee,Me,e);case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},followThunk:function(e){return function(){var t=Object(Q.a)(q.a.mark(function t(n){return q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:De(n,$,xe,e);case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}}),ge.a)(et),nt={id:null,email:null,login:null,isAuth:!1,captchaURL:null},at=function(e){return{type:"auth-reducer/SET_USER",data:e}},rt=function(){return function(){var e=Object(Q.a)(q.a.mark(function e(t){var n;return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te();case 2:0===(n=e.sent).resultCode&&t(at(n.data));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},ot=function(){return function(){var e=Object(Q.a)(q.a.mark(function e(t){var n,a;return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re();case 2:n=e.sent,a=n.url,t({type:"auth-reducer/GET_CAPTHCA_SUCCESS",payload:{captchaURL:a}});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth-reducer/SET_USER":return Object(K.a)({},e,t.data,{isAuth:!0});case"auth-reducer/GET_CAPTHCA_SUCCESS":return Object(K.a)({},e,t.payload);case"auth-reducer/RESET_USER":return{initialState:nt};default:return e}},it=n(139),st=n.n(it),ut=function(e){return r.a.createElement("div",{className:st.a.footer},e.isAuth?r.a.createElement("div",null,e.login," ",r.a.createElement("button",{onClick:e.logOutThunk},"logOut")):r.a.createElement("div",null,"you are not authorized"))},lt=function(e){return e.auth.isAuth},ft=function(e){return e.auth.login},mt=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(ut,this.props)}}]),t}(r.a.Component),pt=Object(g.b)(function(e){return{isAuth:lt(e),login:ft(e)}},{logOutThunk:function(){return function(){var e=Object(Q.a)(q.a.mark(function e(t){return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae();case 2:0===e.sent.resultCode&&t({type:"auth-reducer/RESET_USER"});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(mt),dt=n(54),ht=n.n(dt),Et=Object(A.a)({form:"login"})(function(e){var t=e.captchaURL,n=e.error,a=e.handleSubmit;return r.a.createElement("form",{onSubmit:a},Object(T.c)("Login","login",[F.b],T.a),Object(T.c)("Password","password",[F.b],T.a,{type:"password"}),Object(T.c)(null,"rememberMe",null,T.a,!0,"remember me",{type:"checkbox"}),n&&r.a.createElement("div",{className:ht.a.errorLogIn},n),t&&r.a.createElement("img",{src:t,alt:"capthca"}),t&&Object(T.c)("enter the cpathca-code","captcha",[F.b],T.a),r.a.createElement("button",{type:"submit"},"Login"))}),gt=Object(g.b)(function(e){return{isAuth:e.auth.isAuth,authId:e.auth.id,captchaURL:e.auth.captchaURL}},{logInThunk:function(e){return function(){var t=Object(Q.a)(q.a.mark(function t(n){var a,r;return q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ne(e);case 2:0===(a=t.sent).resultCode?n(rt(a.data)):(10===a.resultCode&&n(ot()),r=a.messages.length?a.messages[0]:"Some error",n(Object(le.a)("login",{_error:r})));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})(function(e){var t=e.captchaURL,n=e.logInThunk,a=e.isAuth,o=e.authId;return a?r.a.createElement(b.b,{to:"/profile/"+o}):r.a.createElement("div",null,r.a.createElement("h1",null,"LOGIN "),r.a.createElement(Et,{captchaURL:t,onSubmit:function(e){var t=e.login,a=e.password,r=e.rememberMe,o=void 0!==r&&r,c=e.captcha;n({login:t,password:a,rememberMe:o,captcha:void 0===c?null:c})}}))}),vt={initialized:!1},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt;switch((arguments.length>1?arguments[1]:void 0).type){case"app-reducer/INITIALIZED_SUCCESS":return Object(K.a)({},e,{initialized:!0});default:return e}},_t=n(129),Ot=n(140),Pt=n(131),jt=Object(ve.c)({Messages:_t.a,FriendsPage:Be,ProfilePage:Ee,auth:ct,form:Pt.a,app:bt}),St=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ve.d,yt=Object(ve.e)(jt,St(Object(ve.a)(Ot.a))),wt=function(e){return function(t){return r.a.createElement(a.Suspense,{fallback:r.a.createElement(j,null)},r.a.createElement(e,t))}},Ct=r.a.lazy(function(){return n.e(3).then(n.bind(null,303))}),It=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeAppThunk()}},{key:"render",value:function(){var e=this;return this.props.initialized?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(v,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(b.e,null,r.a.createElement(b.c,{exact:!0,path:"/",render:function(){return r.a.createElement(b.b,{to:"/profile/".concat(e.props.authId)})}}),r.a.createElement(b.c,{exact:!0,path:"/profile",render:function(){return r.a.createElement(b.b,{to:"/profile/".concat(e.props.authId)})}}),r.a.createElement(b.c,{path:"/profile/:userId?",render:function(){return r.a.createElement(we,null)}}),r.a.createElement(b.c,{path:"/news",component:Ce}),r.a.createElement(b.c,{exact:!0,path:"/messages",render:wt(Ct)}),r.a.createElement(b.c,{path:"/friends",render:function(){return r.a.createElement(tt,null)}}),r.a.createElement(b.c,{path:"/communities",component:Ie}),r.a.createElement(b.c,{path:"/events",component:ke}),r.a.createElement(b.c,{path:"/pages",component:Ne}),r.a.createElement(b.c,{path:"/manage",component:Ae}),r.a.createElement(b.c,{path:"/login",component:gt}),r.a.createElement(b.c,{path:"*",render:function(){return r.a.createElement("div",null," 404 not found ")}})))),r.a.createElement(pt,null)):r.a.createElement(j,null)}}]),t}(r.a.Component),kt=Object(ve.d)(b.h,Object(g.b)(function(e){return{initialized:e.app.initialized,authId:e.auth.id}},{initializeAppThunk:function(){return function(e){var t=e(rt());Promise.all([t]).then(function(){e({type:"app-reducer/INITIALIZED_SUCCESS"})})}}}))(It),Nt=function(){return r.a.createElement(E.a,null,r.a.createElement(g.a,{store:yt},r.a.createElement(kt,null)))};c.a.render(r.a.createElement(Nt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},34:function(e,t,n){e.exports={usersAvatar:"Friends_usersAvatar__lmeWh",selectedPage:"Friends_selectedPage__oaBcA",userContainer:"Friends_userContainer__inTHn",container:"Friends_container__2BTYM",mainContainer:"Friends_mainContainer__2iu3d",avatar:"Friends_avatar__3FrVo",userInfo:"Friends_userInfo__2vS9e",userName:"Friends_userName__2mr2F"}},54:function(e,t,n){e.exports={error:"FormControls_error__3S2AF",formControl:"FormControls_formControl__1_M5Q",errorLogIn:"FormControls_errorLogIn__1Qjm8"}},58:function(e,t,n){e.exports={itemPost:"posts_itemPost__3EN8q",postsContainer:"posts_postsContainer__PPElQ",buttonPost:"posts_buttonPost__3l27h",likes:"posts_likes__2-sjm"}},69:function(e,t,n){"use strict";var a=n(28),r=n(29),o=n(31),c=n(30),i=n(32),s=n(0),u=n.n(s),l=n(11),f=n(16),m=function(e){return{isAuth:e.auth.isAuth}};t.a=function(e){var t=function(t){function n(){return Object(a.a)(this,n),Object(o.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(i.a)(n,t),Object(r.a)(n,[{key:"render",value:function(){return this.props.isAuth?u.a.createElement(e,this.props):u.a.createElement(f.b,{to:"/login"})}}]),n}(u.a.Component);return Object(l.b)(m)(t)}},71:function(e,t,n){e.exports=n.p+"static/media/ava.03e01a87.jpg"},9:function(e,t,n){e.exports={logo:"sideBar_logo__9RRw6",navBar:"sideBar_navBar__YBnCk",menu:"sideBar_menu__1xC9a",head:"sideBar_head__2B_B6",news:"sideBar_news__J8skV",messages:"sideBar_messages__1n1Nl",friends:"sideBar_friends__3vyPd",communities:"sideBar_communities__3EApI",events:"sideBar_events__3aqKz",pages:"sideBar_pages__3WtuN",manage:"sideBar_manage__2D3te",shortcuts:"sideBar_shortcuts__21j8D",google:"sideBar_google__1fxTt",combinator:"sideBar_combinator__2qM8s",amazon:"sideBar_amazon__2m_BQ",active:"sideBar_active__3mlhi"}},97:function(e,t,n){e.exports={selectedPage:"paginator_selectedPage__1vz21",items:"paginator_items__j46ga"}}},[[166,1,2]]]);
//# sourceMappingURL=main.830d2598.chunk.js.map